(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function jE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bg={exports:{}},lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function KR(){if(aw)return lh;aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var m in a)m!=="key"&&(c[m]=a[m])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:c}}return lh.Fragment=e,lh.jsx=n,lh.jsxs=n,lh}var ow;function $R(){return ow||(ow=1,Bg.exports=KR()),Bg.exports}var d=$R(),zg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function YR(){if(lw)return et;lw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function V(k,oe,be){this.props=k,this.context=oe,this.refs=z,this.updater=be||I}V.prototype.isReactComponent={},V.prototype.setState=function(k,oe){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,oe,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=V.prototype;function K(k,oe,be){this.props=k,this.context=oe,this.refs=z,this.updater=be||I}var X=K.prototype=new $;X.constructor=K,P(X,V.prototype),X.isPureReactComponent=!0;var _e=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function U(k,oe,be,me,Te,Re){return be=Re.ref,{$$typeof:t,type:k,key:oe,ref:be!==void 0?be:null,props:Re}}function M(k,oe){return U(k.type,oe,void 0,void 0,void 0,k.props)}function B(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function W(k){var oe={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(be){return oe[be]})}var q=/\/+/g;function Q(k,oe){return typeof k=="object"&&k!==null&&k.key!=null?W(""+k.key):oe.toString(36)}function H(){}function Be(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(H,H):(k.status="pending",k.then(function(oe){k.status==="pending"&&(k.status="fulfilled",k.value=oe)},function(oe){k.status==="pending"&&(k.status="rejected",k.reason=oe)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Pe(k,oe,be,me,Te){var Re=typeof k;(Re==="undefined"||Re==="boolean")&&(k=null);var Ee=!1;if(k===null)Ee=!0;else switch(Re){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(k.$$typeof){case t:case e:Ee=!0;break;case x:return Ee=k._init,Pe(Ee(k._payload),oe,be,me,Te)}}if(Ee)return Te=Te(k),Ee=me===""?"."+Q(k,0):me,_e(Te)?(be="",Ee!=null&&(be=Ee.replace(q,"$&/")+"/"),Pe(Te,oe,be,"",function(pi){return pi})):Te!=null&&(B(Te)&&(Te=M(Te,be+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(q,"$&/")+"/")+Ee)),oe.push(Te)),1;Ee=0;var Nt=me===""?".":me+":";if(_e(k))for(var st=0;st<k.length;st++)me=k[st],Re=Nt+Q(me,st),Ee+=Pe(me,oe,be,Re,Te);else if(st=A(k),typeof st=="function")for(k=st.call(k),st=0;!(me=k.next()).done;)me=me.value,Re=Nt+Q(me,st++),Ee+=Pe(me,oe,be,Re,Te);else if(Re==="object"){if(typeof k.then=="function")return Pe(Be(k),oe,be,me,Te);throw oe=String(k),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function F(k,oe,be){if(k==null)return k;var me=[],Te=0;return Pe(k,me,"","",function(Re){return oe.call(be,Re,Te++)}),me}function re(k){if(k._status===-1){var oe=k._result;oe=oe(),oe.then(function(be){(k._status===0||k._status===-1)&&(k._status=1,k._result=be)},function(be){(k._status===0||k._status===-1)&&(k._status=2,k._result=be)}),k._status===-1&&(k._status=0,k._result=oe)}if(k._status===1)return k._result.default;throw k._result}var te=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ae(){}return et.Children={map:F,forEach:function(k,oe,be){F(k,function(){oe.apply(this,arguments)},be)},count:function(k){var oe=0;return F(k,function(){oe++}),oe},toArray:function(k){return F(k,function(oe){return oe})||[]},only:function(k){if(!B(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},et.Component=V,et.Fragment=n,et.Profiler=a,et.PureComponent=K,et.StrictMode=i,et.Suspense=g,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,et.__COMPILER_RUNTIME={__proto__:null,c:function(k){return de.H.useMemoCache(k)}},et.cache=function(k){return function(){return k.apply(null,arguments)}},et.cloneElement=function(k,oe,be){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var me=P({},k.props),Te=k.key,Re=void 0;if(oe!=null)for(Ee in oe.ref!==void 0&&(Re=void 0),oe.key!==void 0&&(Te=""+oe.key),oe)!we.call(oe,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&oe.ref===void 0||(me[Ee]=oe[Ee]);var Ee=arguments.length-2;if(Ee===1)me.children=be;else if(1<Ee){for(var Nt=Array(Ee),st=0;st<Ee;st++)Nt[st]=arguments[st+2];me.children=Nt}return U(k.type,Te,void 0,void 0,Re,me)},et.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},et.createElement=function(k,oe,be){var me,Te={},Re=null;if(oe!=null)for(me in oe.key!==void 0&&(Re=""+oe.key),oe)we.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=oe[me]);var Ee=arguments.length-2;if(Ee===1)Te.children=be;else if(1<Ee){for(var Nt=Array(Ee),st=0;st<Ee;st++)Nt[st]=arguments[st+2];Te.children=Nt}if(k&&k.defaultProps)for(me in Ee=k.defaultProps,Ee)Te[me]===void 0&&(Te[me]=Ee[me]);return U(k,Re,void 0,void 0,null,Te)},et.createRef=function(){return{current:null}},et.forwardRef=function(k){return{$$typeof:m,render:k}},et.isValidElement=B,et.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:re}},et.memo=function(k,oe){return{$$typeof:_,type:k,compare:oe===void 0?null:oe}},et.startTransition=function(k){var oe=de.T,be={};de.T=be;try{var me=k(),Te=de.S;Te!==null&&Te(be,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ae,te)}catch(Re){te(Re)}finally{de.T=oe}},et.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},et.use=function(k){return de.H.use(k)},et.useActionState=function(k,oe,be){return de.H.useActionState(k,oe,be)},et.useCallback=function(k,oe){return de.H.useCallback(k,oe)},et.useContext=function(k){return de.H.useContext(k)},et.useDebugValue=function(){},et.useDeferredValue=function(k,oe){return de.H.useDeferredValue(k,oe)},et.useEffect=function(k,oe,be){var me=de.H;if(typeof be=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(k,oe)},et.useId=function(){return de.H.useId()},et.useImperativeHandle=function(k,oe,be){return de.H.useImperativeHandle(k,oe,be)},et.useInsertionEffect=function(k,oe){return de.H.useInsertionEffect(k,oe)},et.useLayoutEffect=function(k,oe){return de.H.useLayoutEffect(k,oe)},et.useMemo=function(k,oe){return de.H.useMemo(k,oe)},et.useOptimistic=function(k,oe){return de.H.useOptimistic(k,oe)},et.useReducer=function(k,oe,be){return de.H.useReducer(k,oe,be)},et.useRef=function(k){return de.H.useRef(k)},et.useState=function(k){return de.H.useState(k)},et.useSyncExternalStore=function(k,oe,be){return de.H.useSyncExternalStore(k,oe,be)},et.useTransition=function(){return de.H.useTransition()},et.version="19.1.1",et}var cw;function P0(){return cw||(cw=1,zg.exports=YR()),zg.exports}var O=P0();const Sy=jE(O);var Fg={exports:{}},ch={},Hg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function QR(){return uw||(uw=1,(function(t){function e(F,re){var te=F.length;F.push(re);e:for(;0<te;){var Ae=te-1>>>1,k=F[Ae];if(0<a(k,re))F[Ae]=re,F[te]=k,te=Ae;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var re=F[0],te=F.pop();if(te!==re){F[0]=te;e:for(var Ae=0,k=F.length,oe=k>>>1;Ae<oe;){var be=2*(Ae+1)-1,me=F[be],Te=be+1,Re=F[Te];if(0>a(me,te))Te<k&&0>a(Re,me)?(F[Ae]=Re,F[Te]=te,Ae=Te):(F[Ae]=me,F[be]=te,Ae=be);else if(Te<k&&0>a(Re,te))F[Ae]=Re,F[Te]=te,Ae=Te;else break e}}return re}function a(F,re){var te=F.sortIndex-re.sortIndex;return te!==0?te:F.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var g=[],_=[],x=1,T=null,A=3,I=!1,P=!1,z=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function _e(F){for(var re=n(_);re!==null;){if(re.callback===null)i(_);else if(re.startTime<=F)i(_),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(_)}}function de(F){if(z=!1,_e(F),!P)if(n(g)!==null)P=!0,we||(we=!0,Q());else{var re=n(_);re!==null&&Pe(de,re.startTime-F)}}var we=!1,U=-1,M=5,B=-1;function W(){return V?!0:!(t.unstable_now()-B<M)}function q(){if(V=!1,we){var F=t.unstable_now();B=F;var re=!0;try{e:{P=!1,z&&(z=!1,K(U),U=-1),I=!0;var te=A;try{t:{for(_e(F),T=n(g);T!==null&&!(T.expirationTime>F&&W());){var Ae=T.callback;if(typeof Ae=="function"){T.callback=null,A=T.priorityLevel;var k=Ae(T.expirationTime<=F);if(F=t.unstable_now(),typeof k=="function"){T.callback=k,_e(F),re=!0;break t}T===n(g)&&i(g),_e(F)}else i(g);T=n(g)}if(T!==null)re=!0;else{var oe=n(_);oe!==null&&Pe(de,oe.startTime-F),re=!1}}break e}finally{T=null,A=te,I=!1}re=void 0}}finally{re?Q():we=!1}}}var Q;if(typeof X=="function")Q=function(){X(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Be=H.port2;H.port1.onmessage=q,Q=function(){Be.postMessage(null)}}else Q=function(){$(q,0)};function Pe(F,re){U=$(function(){F(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(F){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var te=A;A=re;try{return F()}finally{A=te}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=A;A=F;try{return re()}finally{A=te}},t.unstable_scheduleCallback=function(F,re,te){var Ae=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ae+te:Ae):te=Ae,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=te+k,F={id:x++,callback:re,priorityLevel:F,startTime:te,expirationTime:k,sortIndex:-1},te>Ae?(F.sortIndex=te,e(_,F),n(g)===null&&F===n(_)&&(z?(K(U),U=-1):z=!0,Pe(de,te-Ae))):(F.sortIndex=k,e(g,F),P||I||(P=!0,we||(we=!0,Q()))),F},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(F){var re=A;return function(){var te=A;A=re;try{return F.apply(this,arguments)}finally{A=te}}}})(qg)),qg}var hw;function XR(){return hw||(hw=1,Hg.exports=QR()),Hg.exports}var Gg={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function JR(){if(dw)return Zn;dw=1;var t=P0();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(g,_,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:_,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zn.createPortal=function(g,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,x)},Zn.flushSync=function(g){var _=u.T,x=i.p;try{if(u.T=null,i.p=2,g)return g()}finally{u.T=_,i.p=x,i.d.f()}},Zn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(g,_))},Zn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Zn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var x=_.as,T=m(x,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,I=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?i.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):x==="script"&&i.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=m(_.as,_.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(g)},Zn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,T=m(x,_.crossOrigin);i.d.L(g,x,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zn.preloadModule=function(g,_){if(typeof g=="string")if(_){var x=m(_.as,_.crossOrigin);i.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(g)},Zn.requestFormReset=function(g){i.d.r(g)},Zn.unstable_batchedUpdates=function(g,_){return g(_)},Zn.useFormState=function(g,_,x){return u.H.useFormState(g,_,x)},Zn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Zn.version="19.1.1",Zn}var fw;function PE(){if(fw)return Gg.exports;fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gg.exports=JR(),Gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function ej(){if(mw)return ch;mw=1;var t=XR(),e=P0(),n=PE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(c(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,f=r;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return m(v),s;if(b===f)return m(v),r;b=b.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=b;else{for(var C=!1,j=v.child;j;){if(j===l){C=!0,l=v,f=b;break}if(j===f){C=!0,f=v,l=b;break}j=j.sibling}if(!C){for(j=b.child;j;){if(j===l){C=!0,l=b,f=v;break}if(j===f){C=!0,f=b,l=v;break}j=j.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function _(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=_(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),X=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case V:return"Profiler";case z:return"StrictMode";case de:return"Suspense";case we:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case X:return(s.displayName||"Context")+".Provider";case K:return(s._context.displayName||"Context")+".Consumer";case _e:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return r=s.displayName||null,r!==null?r:Be(s.type)||"Memo";case M:r=s._payload,s=s._init;try{return Be(s(r))}catch{}}return null}var Pe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ae=[],k=-1;function oe(s){return{current:s}}function be(s){0>k||(s.current=Ae[k],Ae[k]=null,k--)}function me(s,r){k++,Ae[k]=s.current,s.current=r}var Te=oe(null),Re=oe(null),Ee=oe(null),Nt=oe(null);function st(s,r){switch(me(Ee,r),me(Re,s),me(Te,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Lb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Lb(r),s=Mb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}be(Te),me(Te,s)}function pi(){be(Te),be(Re),be(Ee)}function Pr(s){s.memoizedState!==null&&me(Nt,s);var r=Te.current,l=Mb(r,s.type);r!==l&&(me(Re,s),me(Te,l))}function er(s){Re.current===s&&(be(Te),be(Re)),Nt.current===s&&(be(Nt),ih._currentValue=te)}var es=Object.prototype.hasOwnProperty,Cs=t.unstable_scheduleCallback,wa=t.unstable_cancelCallback,Vl=t.unstable_shouldYield,Ta=t.unstable_requestPaint,_n=t.unstable_now,Ir=t.unstable_getCurrentPriorityLevel,Qt=t.unstable_ImmediatePriority,Xt=t.unstable_UserBlockingPriority,Li=t.unstable_NormalPriority,Ul=t.unstable_LowPriority,Ea=t.unstable_IdlePriority,xu=t.log,Dr=t.unstable_setDisableYieldValue,ts=null,hn=null;function Jn(s){if(typeof xu=="function"&&Dr(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(ts,s)}catch{}}var In=Math.clz32?Math.clz32:zl,Bl=Math.log,Bo=Math.LN2;function zl(s){return s>>>=0,s===0?32:31-(Bl(s)/Bo|0)|0}var Mi=256,ns=4194304;function gi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function yi(s,r,l){var f=s.pendingLanes;if(f===0)return 0;var v=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var j=f&134217727;return j!==0?(f=j&~b,f!==0?v=gi(f):(C&=j,C!==0?v=gi(C):l||(l=j&~s,l!==0&&(v=gi(l))))):(j=f&~b,j!==0?v=gi(j):C!==0?v=gi(C):l||(l=f&~s,l!==0&&(v=gi(l)))),v===0?0:r!==0&&r!==v&&(r&b)===0&&(b=v&-v,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:v}function vi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Sa(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var s=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),s}function Rs(){var s=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),s}function Lr(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Lt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fl(s,r,l,f,v,b){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var j=s.entanglements,Z=s.expirationTimes,se=s.hiddenUpdates;for(l=C&~l;0<l;){var fe=31-In(l),ye=1<<fe;j[fe]=0,Z[fe]=-1;var ae=se[fe];if(ae!==null)for(se[fe]=null,fe=0;fe<ae.length;fe++){var ce=ae[fe];ce!==null&&(ce.lane&=-536870913)}l&=~ye}f!==0&&tr(s,f,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~r))}function tr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-In(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function nr(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-In(l),v=1<<f;v&r|s[f]&r&&(s[f]|=r),l&=~v}}function Fo(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ho(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function js(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:ew(s.type))}function qo(s,r){var l=re.p;try{return re.p=s,r()}finally{re.p=l}}var is=Math.random().toString(36).slice(2),Bt="__reactFiber$"+is,dn="__reactProps$"+is,Ps="__reactContainer$"+is,xn="__reactEvents$"+is,Le="__reactListeners$"+is,Hl="__reactHandles$"+is,_i="__reactResources$"+is,Is="__reactMarker$"+is;function Mr(s){delete s[Bt],delete s[dn],delete s[xn],delete s[Le],delete s[Hl]}function xi(s){var r=s[Bt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ps]||l[Bt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=Ub(s);s!==null;){if(l=s[Bt])return l;s=Ub(s)}return r}s=l,l=s.parentNode}return null}function Oi(s){if(s=s[Bt]||s[Ps]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function ei(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ds(s){var r=s[_i];return r||(r=s[_i]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(s){s[Is]=!0}var ql=new Set,Or={};function ss(s,r){ki(s,r),ki(s+"Capture",r)}function ki(s,r){for(Or[s]=r,s=0;s<r.length;s++)ql.add(r[s])}var kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},Aa={};function bu(s){return es.call(Aa,s)?!0:es.call(ti,s)?!1:kr.test(s)?Aa[s]=!0:(ti[s]=!0,!1)}function Vr(s,r,l){if(bu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Ur(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function bi(s,r,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+f)}}var Ls,rs;function as(s){if(Ls===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ls=r&&r[1]||"",rs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+s+rs}var Br=!1;function os(s,r){if(!s||Br)return"";Br=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var ae=ce}Reflect.construct(s,[],ye)}else{try{ye.call()}catch(ce){ae=ce}s.call(ye.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(ye=s())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],j=b[1];if(C&&j){var Z=C.split(`
`),se=j.split(`
`);for(v=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(f===Z.length||v===se.length)for(f=Z.length-1,v=se.length-1;1<=f&&0<=v&&Z[f]!==se[v];)v--;for(;1<=f&&0<=v;f--,v--)if(Z[f]!==se[v]){if(f!==1||v!==1)do if(f--,v--,0>v||Z[f]!==se[v]){var fe=`
`+Z[f].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=f&&0<=v);break}}}finally{Br=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?as(l):""}function ot(s){switch(s.tag){case 26:case 27:case 5:return as(s.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return os(s.type,!1);case 11:return os(s.type.render,!1);case 1:return os(s.type,!0);case 31:return as("Activity");default:return""}}function ht(s){try{var r="";do r+=ot(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Tt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ni(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wi(s){var r=ni(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,b=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return v.call(this)},set:function(C){f=""+C,b.call(this,C)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ls(s){s._valueTracker||(s._valueTracker=wi(s))}function je(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=ni(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ms=/[\n"\\]/g;function Ft(s){return s.replace(Ms,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(s,r,l,f,v,b,C,j){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Tt(r)):s.value!==""+Tt(r)&&(s.value=""+Tt(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?ir(s,C,Tt(r)):l!=null?ir(s,C,Tt(l)):f!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Tt(j):s.removeAttribute("name")}function Go(s,r,l,f,v,b,C,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+Tt(l):"",r=r!=null?""+Tt(r):l,j||r===s.value||(s.value=r),s.defaultValue=r}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=j?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function ir(s,r,l){r==="number"&&vt(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fn(s,r,l,f){if(s=s.options,r){r={};for(var v=0;v<l.length;v++)r["$"+l[v]]=!0;for(l=0;l<s.length;l++)v=r.hasOwnProperty("$"+s[l].value),s[l].selected!==v&&(s[l].selected=v),v&&f&&(s[l].defaultSelected=!0)}else{for(l=""+Tt(l),r=null,v=0;v<s.length;v++){if(s[v].value===l){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}r!==null||s[v].disabled||(r=s[v])}r!==null&&(r.selected=!0)}}function It(s,r,l){if(r!=null&&(r=""+Tt(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Tt(l):""}function cs(s,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(i(92));if(Pe(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=Tt(r),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function wn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ii=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zr(s,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,l):typeof l!="number"||l===0||ii.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Os(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var v in r)f=r[v],r.hasOwnProperty(v)&&l[v]!==f&&zr(s,v,f)}else for(var b in r)r.hasOwnProperty(b)&&zr(s,b,r[b])}function sr(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(s){return Fr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Hr=null;function rr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ks=null,fn=null;function Gl(s){var r=Oi(s);if(r&&(s=r.stateNode)){var l=s[dn]||null;e:switch(s=r.stateNode,r.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var v=f[dn]||null;if(!v)throw Error(i(90));bn(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===s.form&&je(f)}break e;case"textarea":It(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Fn(s,!!l.multiple,r,!1)}}}var ze=!1;function Tn(s,r,l){if(ze)return s(r,l);ze=!0;try{var f=s(r);return f}finally{if(ze=!1,(ks!==null||fn!==null)&&(ef(),ks&&(r=ks,s=fn,fn=ks=null,Gl(r),s)))for(r=0;r<s.length;r++)Gl(s[r])}}function dt(s,r){var l=s.stateNode;if(l===null)return null;var f=l[dn]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(En)try{var us={};Object.defineProperty(us,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Vi=!1}var Hn=null,ft=null,ar=null;function or(){if(ar)return ar;var s,r=ft,l=r.length,f,v="value"in Hn?Hn.value:Hn.textContent,b=v.length;for(s=0;s<l&&r[s]===v[s];s++);var C=l-s;for(f=1;f<=C&&r[l-f]===v[b-f];f++);return ar=v.slice(s,1<f?1-f:void 0)}function Dt(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ri(){return!0}function Ca(){return!1}function Wt(s){function r(l,f,v,b,C){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(l=s[j],this[j]=l?l(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ri:Ca,this.isPropagationStopped=Ca,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=Wt(Sn),Vs=x({},Sn,{view:0,detail:0}),qr=Wt(Vs),Gr,Xe,hs,mn=x({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(Gr=s.screenX-hs.screenX,Xe=s.screenY-hs.screenY):Xe=Gr=0,hs=s),Gr)},movementY:function(s){return"movementY"in s?s.movementY:Xe}}),Ui=Wt(mn),Zl=x({},mn,{dataTransfer:0}),Wl=Wt(Zl),Us=x({},Vs,{relatedTarget:0}),Ra=Wt(Us),Zo=x({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Wt(Zo),Ko=x({},Sn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ja=Wt(Ko),Pa=x({},Sn,{data:0}),qn=Wt(Pa),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Bi[s])?!!r[s]:!1}function Zr(){return $o}var Ia=x({},Vs,{key:function(s){if(s.key){var r=Kl[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Dt(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ds[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(s){return s.type==="keypress"?Dt(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dt(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Da=Wt(Ia),An=x({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=Wt(An),$l=x({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),cr=Wt($l),p=x({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Wt(p),N=x({},mn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),D=Wt(N),ne=x({},Sn,{newState:0,oldState:0}),le=Wt(ne),Se=[9,13,27,32],Fe=En&&"CompositionEvent"in window,nt=null;En&&"documentMode"in document&&(nt=document.documentMode);var gt=En&&"TextEvent"in window&&!nt,Mt=En&&(!Fe||nt&&8<nt&&11>=nt),ai=" ",Ti=!1;function oi(s,r){switch(s){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fi=!1;function Ma(s,r){switch(s){case"compositionend":return zi(r);case"keypress":return r.which!==32?null:(Ti=!0,ai);case"textInput":return s=r.data,s===ai&&Ti?null:s;default:return null}}function cp(s,r){if(Fi)return s==="compositionend"||!Fe&&oi(s,r)?(s=or(),ar=ft=Hn=null,Fi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mt&&r.locale!=="ko"?null:r.data;default:return null}}var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Hi[s.type]:r==="textarea"}function vd(s,r,l,f){ks?fn?fn.push(f):fn=[f]:ks=f,r=of(r,"onChange"),0<r.length&&(l=new lr("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var li=null,Yo=null;function Oa(s){Rb(s,0)}function Yl(s){var r=ei(s);if(je(r))return s}function ka(s,r){if(s==="change")return r}var wu=!1;if(En){var Va;if(En){var Tu="oninput"in document;if(!Tu){var Bs=document.createElement("div");Bs.setAttribute("oninput","return;"),Tu=typeof Bs.oninput=="function"}Va=Tu}else Va=!1;wu=Va&&(!document.documentMode||9<document.documentMode)}function Qo(){li&&(li.detachEvent("onpropertychange",_d),Yo=li=null)}function _d(s){if(s.propertyName==="value"&&Yl(Yo)){var r=[];vd(r,Yo,s,rr(s)),Tn(Oa,r)}}function Eu(s,r,l){s==="focusin"?(Qo(),li=r,Yo=l,li.attachEvent("onpropertychange",_d)):s==="focusout"&&Qo()}function up(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yl(Yo)}function zs(s,r){if(s==="click")return Yl(r)}function hp(s,r){if(s==="input"||s==="change")return Yl(r)}function Ua(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var ci=typeof Object.is=="function"?Object.is:Ua;function ui(s,r){if(ci(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!es.call(r,v)||!ci(s[v],r[v]))return!1}return!0}function Xo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Su(s,r){var l=Xo(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xo(l)}}function Ql(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Ql(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Jo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=vt(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=vt(s.document)}return r}function el(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Xl=En&&"documentMode"in document&&11>=document.documentMode,qi=null,Ba=null,Kr=null,Jl=!1;function xd(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jl||qi==null||qi!==vt(f)||(f=qi,"selectionStart"in f&&el(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Kr&&ui(Kr,f)||(Kr=f,f=of(Ba,"onSelect"),0<f.length&&(r=new lr("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=qi)))}function fs(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var za={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},ec={},bd={};En&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ur(s){if(ec[s])return ec[s];if(!za[s])return s;var r=za[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in bd)return ec[s]=r[l];return s}var wd=ur("animationend"),Gi=ur("animationiteration"),tl=ur("animationstart"),dp=ur("transitionrun"),tc=ur("transitionstart"),fp=ur("transitioncancel"),Au=ur("transitionend"),Td=new Map,$r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$r.push("scrollEnd");function Zi(s,r){Td.set(s,r),ss(r,[s])}var Yr=new WeakMap;function hi(s,r){if(typeof s=="object"&&s!==null){var l=Yr.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ht(r)},Yr.set(s,r),r)}return{value:s,source:r,stack:ht(r)}}var di=[],Fa=0,Wi=0;function nl(){for(var s=Fa,r=Wi=Fa=0;r<s;){var l=di[r];di[r++]=null;var f=di[r];di[r++]=null;var v=di[r];di[r++]=null;var b=di[r];if(di[r++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}b!==0&&sl(l,v,b)}}function il(s,r,l,f){di[Fa++]=s,di[Fa++]=r,di[Fa++]=l,di[Fa++]=f,Wi|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Qr(s,r,l,f){return il(s,r,l,f),hr(s)}function Ha(s,r){return il(s,null,null,r),hr(s)}function sl(s,r,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var v=!1,b=s.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&r!==null&&(v=31-In(l),s=b.hiddenUpdates,f=s[v],f===null?s[v]=[r]:f.push(r),r.lane=l|536870912),b):null}function hr(s){if(50<$u)throw $u=0,ug=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Xr={};function Ed(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(s,r,l,f){return new Ed(s,r,l,f)}function nc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,r){var l=s.alternate;return l===null?(l=fi(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Nu(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function rl(s,r,l,f,v,b){var C=0;if(f=s,typeof s=="function")nc(s)&&(C=1);else if(typeof s=="string")C=MR(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case B:return s=fi(31,l,r,v),s.elementType=B,s.lanes=b,s;case P:return dr(l.children,v,b,r);case z:C=8,v|=24;break;case V:return s=fi(12,l,r,v|2),s.elementType=V,s.lanes=b,s;case de:return s=fi(13,l,r,v),s.elementType=de,s.lanes=b,s;case we:return s=fi(19,l,r,v),s.elementType=we,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:case X:C=10;break e;case K:C=9;break e;case _e:C=11;break e;case U:C=14;break e;case M:C=16,f=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=fi(C,l,r,v),r.elementType=s,r.type=f,r.lanes=b,r}function dr(s,r,l,f){return s=fi(7,s,f,r),s.lanes=l,s}function Cu(s,r,l){return s=fi(6,s,null,r),s.lanes=l,s}function ic(s,r,l){return r=fi(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Jr=[],qa=0,o=null,h=0,y=[],w=0,S=null,R=1,G="";function ee(s,r){Jr[qa++]=h,Jr[qa++]=o,o=s,h=r}function ue(s,r,l){y[w++]=R,y[w++]=G,y[w++]=S,S=s;var f=R;s=G;var v=32-In(f)-1;f&=~(1<<v),l+=1;var b=32-In(r)+v;if(30<b){var C=v-v%5;b=(f&(1<<C)-1).toString(32),f>>=C,v-=C,R=1<<32-In(r)+v|l<<v|f,G=b+s}else R=1<<b|l<<v|f,G=s}function xe(s){s.return!==null&&(ee(s,1),ue(s,1,0))}function Ne(s){for(;s===o;)o=Jr[--qa],Jr[qa]=null,h=Jr[--qa],Jr[qa]=null;for(;s===S;)S=y[--w],y[w]=null,G=y[--w],y[w]=null,R=y[--w],y[w]=null}var De=null,Oe=null,Ke=!1,Rt=null,Ht=!1,Nn=Error(i(519));function Ei(s){var r=Error(i(418,""));throw Za(hi(r,s)),Nn}function Sd(s){var r=s.stateNode,l=s.type,f=s.memoizedProps;switch(r[Bt]=s,r[dn]=f,l){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(l=0;l<Qu.length;l++)at(Qu[l],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),Go(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ls(r);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),cs(r,f.value,f.defaultValue,f.children),ls(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||Db(r.textContent,l)?(f.popover!=null&&(at("beforetoggle",r),at("toggle",r)),f.onScroll!=null&&at("scroll",r),f.onScrollEnd!=null&&at("scrollend",r),f.onClick!=null&&(r.onclick=lf),r=!0):r=!1,r||Ei(s)}function Ad(s){for(De=s.return;De;)switch(De.tag){case 5:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:De=De.return}}function al(s){if(s!==De)return!1;if(!Ke)return Ad(s),Ke=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ag(s.type,s.memoizedProps)),l=!l),l&&Oe&&Ei(s),Ad(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Oe=Gs(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Oe=null}}else r===27?(r=Oe,oo(s.type)?(s=jg,jg=null,Oe=s):Oe=r):Oe=De?Gs(s.stateNode.nextSibling):null;return!0}function Ga(){Oe=De=null,Ke=!1}function Nd(){var s=Rt;return s!==null&&(Ni===null?Ni=s:Ni.push.apply(Ni,s),Rt=null),s}function Za(s){Rt===null?Rt=[s]:Rt.push(s)}var Ot=oe(null),ps=null,Fs=null;function fr(s,r,l){me(Ot,r._currentValue),r._currentValue=l}function Hs(s){s._currentValue=Ot.current,be(Ot)}function ol(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function sc(s,r,l,f){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=v;for(var Z=0;Z<r.length;Z++)if(j.context===r[Z]){b.lanes|=l,j=b.alternate,j!==null&&(j.lanes|=l),ol(b.return,l,s),f||(C=null);break e}b=j.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),ol(C,l,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function ll(s,r,l,f){s=null;for(var v=r,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var j=v.type;ci(v.pendingProps.value,C.value)||(s!==null?s.push(j):s=[j])}}else if(v===Nt.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ih):s=[ih])}v=v.return}s!==null&&sc(r,s,l,f),r.flags|=262144}function Cd(s){for(s=s.firstContext;s!==null;){if(!ci(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function cl(s){ps=s,Fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gn(s){return __(ps,s)}function Rd(s,r){return ps===null&&cl(s),__(s,r)}function __(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Fs===null){if(s===null)throw Error(i(308));Fs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Fs=Fs.next=r;return l}var LC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},MC=t.unstable_scheduleCallback,OC=t.unstable_NormalPriority,pn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mp(){return{controller:new LC,data:new Map,refCount:0}}function Ru(s){s.refCount--,s.refCount===0&&MC(OC,function(){s.controller.abort()})}var ju=null,pp=0,rc=0,ac=null;function kC(s,r){if(ju===null){var l=ju=[];pp=0,rc=yg(),ac={status:"pending",value:void 0,then:function(f){l.push(f)}}}return pp++,r.then(x_,x_),r}function x_(){if(--pp===0&&ju!==null){ac!==null&&(ac.status="fulfilled");var s=ju;ju=null,rc=0,ac=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function VC(s,r){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var v=0;v<l.length;v++)(0,l[v])(r)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var b_=F.S;F.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kC(s,r),b_!==null&&b_(s,r)};var ul=oe(null);function gp(){var s=ul.current;return s!==null?s:jt.pooledCache}function jd(s,r){r===null?me(ul,ul.current):me(ul,r.pool)}function w_(){var s=gp();return s===null?null:{parent:pn._currentValue,pool:s}}var Pu=Error(i(460)),T_=Error(i(474)),Pd=Error(i(542)),yp={then:function(){}};function E_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Id(){}function S_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Id,Id),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,N_(s),s;default:if(typeof r.status=="string")r.then(Id,Id);else{if(s=jt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=f}},function(f){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,N_(s),s}throw Iu=r,Pu}}var Iu=null;function A_(){if(Iu===null)throw Error(i(459));var s=Iu;return Iu=null,s}function N_(s){if(s===Pu||s===Pd)throw Error(i(483))}var Wa=!1;function vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _p(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ka(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $a(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(xt&2)!==0){var v=f.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),f.pending=r,r=hr(s),sl(s,null,l),r}return il(s,f,r,l),hr(s)}function Du(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,nr(s,l)}}function xp(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?v=b=r:b=b.next=r}else v=b=r;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var bp=!1;function Lu(){if(bp){var s=ac;if(s!==null)throw s}}function Mu(s,r,l,f){bp=!1;var v=s.updateQueue;Wa=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var Z=j,se=Z.next;Z.next=null,C===null?b=se:C.next=se,C=Z;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,j=fe.lastBaseUpdate,j!==C&&(j===null?fe.firstBaseUpdate=se:j.next=se,fe.lastBaseUpdate=Z))}if(b!==null){var ye=v.baseState;C=0,fe=se=Z=null,j=b;do{var ae=j.lane&-536870913,ce=ae!==j.lane;if(ce?(mt&ae)===ae:(f&ae)===ae){ae!==0&&ae===rc&&(bp=!0),fe!==null&&(fe=fe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ze=s,Ue=j;ae=r;var At=l;switch(Ue.tag){case 1:if(Ze=Ue.payload,typeof Ze=="function"){ye=Ze.call(At,ye,ae);break e}ye=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ue.payload,ae=typeof Ze=="function"?Ze.call(At,ye,ae):Ze,ae==null)break e;ye=x({},ye,ae);break e;case 2:Wa=!0}}ae=j.callback,ae!==null&&(s.flags|=64,ce&&(s.flags|=8192),ce=v.callbacks,ce===null?v.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:j.tag,payload:j.payload,callback:j.callback,next:null},fe===null?(se=fe=ce,Z=ye):fe=fe.next=ce,C|=ae;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;ce=j,j=ce.next,ce.next=null,v.lastBaseUpdate=ce,v.shared.pending=null}}while(!0);fe===null&&(Z=ye),v.baseState=Z,v.firstBaseUpdate=se,v.lastBaseUpdate=fe,b===null&&(v.shared.lanes=0),io|=C,s.lanes=C,s.memoizedState=ye}}function C_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function R_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)C_(l[s],r)}var oc=oe(null),Dd=oe(0);function j_(s,r){s=aa,me(Dd,s),me(oc,r),aa=s|r.baseLanes}function wp(){me(Dd,aa),me(oc,oc.current)}function Tp(){aa=Dd.current,be(oc),be(Dd)}var Ya=0,tt=null,Et=null,rn=null,Ld=!1,lc=!1,hl=!1,Md=0,Ou=0,cc=null,UC=0;function Jt(){throw Error(i(321))}function Ep(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!ci(s[l],r[l]))return!1;return!0}function Sp(s,r,l,f,v,b){return Ya=b,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=s===null||s.memoizedState===null?fx:mx,hl=!1,b=l(f,v),hl=!1,lc&&(b=I_(r,l,f,v)),P_(s),b}function P_(s){F.H=zd;var r=Et!==null&&Et.next!==null;if(Ya=0,rn=Et=tt=null,Ld=!1,Ou=0,cc=null,r)throw Error(i(300));s===null||Cn||(s=s.dependencies,s!==null&&Cd(s)&&(Cn=!0))}function I_(s,r,l,f){tt=s;var v=0;do{if(lc&&(cc=null),Ou=0,lc=!1,25<=v)throw Error(i(301));if(v+=1,rn=Et=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=ZC,b=r(l,f)}while(lc);return b}function BC(){var s=F.H,r=s.useState()[0];return r=typeof r.then=="function"?ku(r):r,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(tt.flags|=1024),r}function Ap(){var s=Md!==0;return Md=0,s}function Np(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Cp(s){if(Ld){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ld=!1}Ya=0,rn=Et=tt=null,lc=!1,Ou=Md=0,cc=null}function Si(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=s:rn=rn.next=s,rn}function an(){if(Et===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var r=rn===null?tt.memoizedState:rn.next;if(r!==null)rn=r,Et=s;else{if(s===null)throw tt.alternate===null?Error(i(467)):Error(i(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},rn===null?tt.memoizedState=rn=s:rn=rn.next=s}return rn}function Rp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(s){var r=Ou;return Ou+=1,cc===null&&(cc=[]),s=S_(cc,s,r),r=tt,(rn===null?r.memoizedState:rn.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?fx:mx),s}function Od(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ku(s);if(s.$$typeof===X)return Gn(s)}throw Error(i(438,String(s)))}function jp(s){var r=null,l=tt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Rp(),tt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),f=0;f<s;f++)l[f]=W;return r.index++,l}function ea(s,r){return typeof r=="function"?r(s):r}function kd(s){var r=an();return Pp(r,Et,s)}function Pp(s,r,l){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=s.baseQueue,b=f.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}r.baseQueue=v=b,f.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{r=v.next;var j=C=null,Z=null,se=r,fe=!1;do{var ye=se.lane&-536870913;if(ye!==se.lane?(mt&ye)===ye:(Ya&ye)===ye){var ae=se.revertLane;if(ae===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ye===rc&&(fe=!0);else if((Ya&ae)===ae){se=se.next,ae===rc&&(fe=!0);continue}else ye={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Z===null?(j=Z=ye,C=b):Z=Z.next=ye,tt.lanes|=ae,io|=ae;ye=se.action,hl&&l(b,ye),b=se.hasEagerState?se.eagerState:l(b,ye)}else ae={lane:ye,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Z===null?(j=Z=ae,C=b):Z=Z.next=ae,tt.lanes|=ye,io|=ye;se=se.next}while(se!==null&&se!==r);if(Z===null?C=b:Z.next=j,!ci(b,s.memoizedState)&&(Cn=!0,fe&&(l=ac,l!==null)))throw l;s.memoizedState=b,s.baseState=C,s.baseQueue=Z,f.lastRenderedState=b}return v===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Ip(s){var r=an(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=l.dispatch,v=l.pending,b=r.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);ci(b,r.memoizedState)||(Cn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,f]}function D_(s,r,l){var f=tt,v=an(),b=Ke;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!ci((Et||v).memoizedState,l);C&&(v.memoizedState=l,Cn=!0),v=v.queue;var j=O_.bind(null,f,v,s);if(Vu(2048,8,j,[s]),v.getSnapshot!==r||C||rn!==null&&rn.memoizedState.tag&1){if(f.flags|=2048,uc(9,Vd(),M_.bind(null,f,v,l,r),null),jt===null)throw Error(i(349));b||(Ya&124)!==0||L_(f,r,l)}return l}function L_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=tt.updateQueue,r===null?(r=Rp(),tt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function M_(s,r,l,f){r.value=l,r.getSnapshot=f,k_(r)&&V_(s)}function O_(s,r,l){return l(function(){k_(r)&&V_(s)})}function k_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!ci(s,l)}catch{return!0}}function V_(s){var r=Ha(s,2);r!==null&&Xi(r,s,2)}function Dp(s){var r=Si();if(typeof s=="function"){var l=s;if(s=l(),hl){Jn(!0);try{l()}finally{Jn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:s},r}function U_(s,r,l,f){return s.baseState=l,Pp(s,Et,typeof f=="function"?f:ea)}function zC(s,r,l,f,v){if(Bd(s))throw Error(i(485));if(s=r.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};F.T!==null?l(!0):b.isTransition=!1,f(b),l=r.pending,l===null?(b.next=r.pending=b,B_(r,b)):(b.next=l.next,r.pending=l.next=b)}}function B_(s,r){var l=r.action,f=r.payload,v=s.state;if(r.isTransition){var b=F.T,C={};F.T=C;try{var j=l(v,f),Z=F.S;Z!==null&&Z(C,j),z_(s,r,j)}catch(se){Lp(s,r,se)}finally{F.T=b}}else try{b=l(v,f),z_(s,r,b)}catch(se){Lp(s,r,se)}}function z_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){F_(s,r,f)},function(f){return Lp(s,r,f)}):F_(s,r,l)}function F_(s,r,l){r.status="fulfilled",r.value=l,H_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,B_(s,l)))}function Lp(s,r,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,H_(r),r=r.next;while(r!==f)}s.action=null}function H_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function q_(s,r){return r}function G_(s,r){if(Ke){var l=jt.formState;if(l!==null){e:{var f=tt;if(Ke){if(Oe){t:{for(var v=Oe,b=Ht;v.nodeType!==8;){if(!b){v=null;break t}if(v=Gs(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Oe=Gs(v.nextSibling),f=v.data==="F!";break e}}Ei(f)}f=!1}f&&(r=l[0])}}return l=Si(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q_,lastRenderedState:r},l.queue=f,l=ux.bind(null,tt,f),f.dispatch=l,f=Dp(!1),b=Up.bind(null,tt,!1,f.queue),f=Si(),v={state:r,dispatch:null,action:s,pending:null},f.queue=v,l=zC.bind(null,tt,v,b,l),v.dispatch=l,f.memoizedState=s,[r,l,!1]}function Z_(s){var r=an();return W_(r,Et,s)}function W_(s,r,l){if(r=Pp(s,r,q_)[0],s=kd(ea)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=ku(r)}catch(C){throw C===Pu?Pd:C}else f=r;r=an();var v=r.queue,b=v.dispatch;return l!==r.memoizedState&&(tt.flags|=2048,uc(9,Vd(),FC.bind(null,v,l),null)),[f,b,s]}function FC(s,r){s.action=r}function K_(s){var r=an(),l=Et;if(l!==null)return W_(r,l,s);an(),r=r.memoizedState,l=an();var f=l.queue.dispatch;return l.memoizedState=s,[r,f,!1]}function uc(s,r,l,f){return s={tag:s,create:l,deps:f,inst:r,next:null},r=tt.updateQueue,r===null&&(r=Rp(),tt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s),s}function Vd(){return{destroy:void 0,resource:void 0}}function $_(){return an().memoizedState}function Ud(s,r,l,f){var v=Si();f=f===void 0?null:f,tt.flags|=s,v.memoizedState=uc(1|r,Vd(),l,f)}function Vu(s,r,l,f){var v=an();f=f===void 0?null:f;var b=v.memoizedState.inst;Et!==null&&f!==null&&Ep(f,Et.memoizedState.deps)?v.memoizedState=uc(r,b,l,f):(tt.flags|=s,v.memoizedState=uc(1|r,b,l,f))}function Y_(s,r){Ud(8390656,8,s,r)}function Q_(s,r){Vu(2048,8,s,r)}function X_(s,r){return Vu(4,2,s,r)}function J_(s,r){return Vu(4,4,s,r)}function ex(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function tx(s,r,l){l=l!=null?l.concat([s]):null,Vu(4,4,ex.bind(null,r,s),l)}function Mp(){}function nx(s,r){var l=an();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&Ep(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function ix(s,r){var l=an();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&Ep(r,f[1]))return f[0];if(f=s(),hl){Jn(!0);try{s()}finally{Jn(!1)}}return l.memoizedState=[f,r],f}function Op(s,r,l){return l===void 0||(Ya&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=ab(),tt.lanes|=s,io|=s,l)}function sx(s,r,l,f){return ci(l,r)?l:oc.current!==null?(s=Op(s,l,f),ci(s,r)||(Cn=!0),s):(Ya&42)===0?(Cn=!0,s.memoizedState=l):(s=ab(),tt.lanes|=s,io|=s,r)}function rx(s,r,l,f,v){var b=re.p;re.p=b!==0&&8>b?b:8;var C=F.T,j={};F.T=j,Up(s,!1,r,l);try{var Z=v(),se=F.S;if(se!==null&&se(j,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=VC(Z,f);Uu(s,r,fe,Qi(s))}else Uu(s,r,f,Qi(s))}catch(ye){Uu(s,r,{then:function(){},status:"rejected",reason:ye},Qi())}finally{re.p=b,F.T=C}}function HC(){}function kp(s,r,l,f){if(s.tag!==5)throw Error(i(476));var v=ax(s).queue;rx(s,v,r,te,l===null?HC:function(){return ox(s),l(f)})}function ax(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:te},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ox(s){var r=ax(s).next.queue;Uu(s,r,{},Qi())}function Vp(){return Gn(ih)}function lx(){return an().memoizedState}function cx(){return an().memoizedState}function qC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Qi();s=Ka(l);var f=$a(r,s,l);f!==null&&(Xi(f,r,l),Du(f,r,l)),r={cache:mp()},s.payload=r;return}r=r.return}}function GC(s,r,l){var f=Qi();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(s)?hx(r,l):(l=Qr(s,r,l,f),l!==null&&(Xi(l,s,f),dx(l,r,f)))}function ux(s,r,l){var f=Qi();Uu(s,r,l,f)}function Uu(s,r,l,f){var v={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(s))hx(r,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var C=r.lastRenderedState,j=b(C,l);if(v.hasEagerState=!0,v.eagerState=j,ci(j,C))return il(s,r,v,0),jt===null&&nl(),!1}catch{}finally{}if(l=Qr(s,r,v,f),l!==null)return Xi(l,s,f),dx(l,r,f),!0}return!1}function Up(s,r,l,f){if(f={lane:2,revertLane:yg(),action:f,hasEagerState:!1,eagerState:null,next:null},Bd(s)){if(r)throw Error(i(479))}else r=Qr(s,l,f,2),r!==null&&Xi(r,s,2)}function Bd(s){var r=s.alternate;return s===tt||r!==null&&r===tt}function hx(s,r){lc=Ld=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function dx(s,r,l){if((l&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,nr(s,l)}}var zd={readContext:Gn,use:Od,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},fx={readContext:Gn,use:Od,useCallback:function(s,r){return Si().memoizedState=[s,r===void 0?null:r],s},useContext:Gn,useEffect:Y_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Ud(4194308,4,ex.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ud(4194308,4,s,r)},useInsertionEffect:function(s,r){Ud(4,2,s,r)},useMemo:function(s,r){var l=Si();r=r===void 0?null:r;var f=s();if(hl){Jn(!0);try{s()}finally{Jn(!1)}}return l.memoizedState=[f,r],f},useReducer:function(s,r,l){var f=Si();if(l!==void 0){var v=l(r);if(hl){Jn(!0);try{l(r)}finally{Jn(!1)}}}else v=r;return f.memoizedState=f.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},f.queue=s,s=s.dispatch=GC.bind(null,tt,s),[f.memoizedState,s]},useRef:function(s){var r=Si();return s={current:s},r.memoizedState=s},useState:function(s){s=Dp(s);var r=s.queue,l=ux.bind(null,tt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Mp,useDeferredValue:function(s,r){var l=Si();return Op(l,s,r)},useTransition:function(){var s=Dp(!1);return s=rx.bind(null,tt,s.queue,!0,!1),Si().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var f=tt,v=Si();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),jt===null)throw Error(i(349));(mt&124)!==0||L_(f,r,l)}v.memoizedState=l;var b={value:l,getSnapshot:r};return v.queue=b,Y_(O_.bind(null,f,b,s),[s]),f.flags|=2048,uc(9,Vd(),M_.bind(null,f,b,l,r),null),l},useId:function(){var s=Si(),r=jt.identifierPrefix;if(Ke){var l=G,f=R;l=(f&~(1<<32-In(f)-1)).toString(32)+l,r=""+r+"R"+l,l=Md++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=UC++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:Vp,useFormState:G_,useActionState:G_,useOptimistic:function(s){var r=Si();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Up.bind(null,tt,!0,l),l.dispatch=r,[s,r]},useMemoCache:jp,useCacheRefresh:function(){return Si().memoizedState=qC.bind(null,tt)}},mx={readContext:Gn,use:Od,useCallback:nx,useContext:Gn,useEffect:Q_,useImperativeHandle:tx,useInsertionEffect:X_,useLayoutEffect:J_,useMemo:ix,useReducer:kd,useRef:$_,useState:function(){return kd(ea)},useDebugValue:Mp,useDeferredValue:function(s,r){var l=an();return sx(l,Et.memoizedState,s,r)},useTransition:function(){var s=kd(ea)[0],r=an().memoizedState;return[typeof s=="boolean"?s:ku(s),r]},useSyncExternalStore:D_,useId:lx,useHostTransitionStatus:Vp,useFormState:Z_,useActionState:Z_,useOptimistic:function(s,r){var l=an();return U_(l,Et,s,r)},useMemoCache:jp,useCacheRefresh:cx},ZC={readContext:Gn,use:Od,useCallback:nx,useContext:Gn,useEffect:Q_,useImperativeHandle:tx,useInsertionEffect:X_,useLayoutEffect:J_,useMemo:ix,useReducer:Ip,useRef:$_,useState:function(){return Ip(ea)},useDebugValue:Mp,useDeferredValue:function(s,r){var l=an();return Et===null?Op(l,s,r):sx(l,Et.memoizedState,s,r)},useTransition:function(){var s=Ip(ea)[0],r=an().memoizedState;return[typeof s=="boolean"?s:ku(s),r]},useSyncExternalStore:D_,useId:lx,useHostTransitionStatus:Vp,useFormState:K_,useActionState:K_,useOptimistic:function(s,r){var l=an();return Et!==null?U_(l,Et,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:jp,useCacheRefresh:cx},hc=null,Bu=0;function Fd(s){var r=Bu;return Bu+=1,hc===null&&(hc=[]),S_(hc,s,r)}function zu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Hd(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function px(s){var r=s._init;return r(s._payload)}function gx(s){function r(J,Y){if(s){var ie=J.deletions;ie===null?(J.deletions=[Y],J.flags|=16):ie.push(Y)}}function l(J,Y){if(!s)return null;for(;Y!==null;)r(J,Y),Y=Y.sibling;return null}function f(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function v(J,Y){return J=ms(J,Y),J.index=0,J.sibling=null,J}function b(J,Y,ie){return J.index=ie,s?(ie=J.alternate,ie!==null?(ie=ie.index,ie<Y?(J.flags|=67108866,Y):ie):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function C(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function j(J,Y,ie,pe){return Y===null||Y.tag!==6?(Y=Cu(ie,J.mode,pe),Y.return=J,Y):(Y=v(Y,ie),Y.return=J,Y)}function Z(J,Y,ie,pe){var Me=ie.type;return Me===P?fe(J,Y,ie.props.children,pe,ie.key):Y!==null&&(Y.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===M&&px(Me)===Y.type)?(Y=v(Y,ie.props),zu(Y,ie),Y.return=J,Y):(Y=rl(ie.type,ie.key,ie.props,null,J.mode,pe),zu(Y,ie),Y.return=J,Y)}function se(J,Y,ie,pe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=ic(ie,J.mode,pe),Y.return=J,Y):(Y=v(Y,ie.children||[]),Y.return=J,Y)}function fe(J,Y,ie,pe,Me){return Y===null||Y.tag!==7?(Y=dr(ie,J.mode,pe,Me),Y.return=J,Y):(Y=v(Y,ie),Y.return=J,Y)}function ye(J,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Cu(""+Y,J.mode,ie),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return ie=rl(Y.type,Y.key,Y.props,null,J.mode,ie),zu(ie,Y),ie.return=J,ie;case I:return Y=ic(Y,J.mode,ie),Y.return=J,Y;case M:var pe=Y._init;return Y=pe(Y._payload),ye(J,Y,ie)}if(Pe(Y)||Q(Y))return Y=dr(Y,J.mode,ie,null),Y.return=J,Y;if(typeof Y.then=="function")return ye(J,Fd(Y),ie);if(Y.$$typeof===X)return ye(J,Rd(J,Y),ie);Hd(J,Y)}return null}function ae(J,Y,ie,pe){var Me=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Me!==null?null:j(J,Y,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return ie.key===Me?Z(J,Y,ie,pe):null;case I:return ie.key===Me?se(J,Y,ie,pe):null;case M:return Me=ie._init,ie=Me(ie._payload),ae(J,Y,ie,pe)}if(Pe(ie)||Q(ie))return Me!==null?null:fe(J,Y,ie,pe,null);if(typeof ie.then=="function")return ae(J,Y,Fd(ie),pe);if(ie.$$typeof===X)return ae(J,Y,Rd(J,ie),pe);Hd(J,ie)}return null}function ce(J,Y,ie,pe,Me){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return J=J.get(ie)||null,j(Y,J,""+pe,Me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case A:return J=J.get(pe.key===null?ie:pe.key)||null,Z(Y,J,pe,Me);case I:return J=J.get(pe.key===null?ie:pe.key)||null,se(Y,J,pe,Me);case M:var it=pe._init;return pe=it(pe._payload),ce(J,Y,ie,pe,Me)}if(Pe(pe)||Q(pe))return J=J.get(ie)||null,fe(Y,J,pe,Me,null);if(typeof pe.then=="function")return ce(J,Y,ie,Fd(pe),Me);if(pe.$$typeof===X)return ce(J,Y,ie,Rd(Y,pe),Me);Hd(Y,pe)}return null}function Ze(J,Y,ie,pe){for(var Me=null,it=null,ke=Y,He=Y=0,jn=null;ke!==null&&He<ie.length;He++){ke.index>He?(jn=ke,ke=null):jn=ke.sibling;var yt=ae(J,ke,ie[He],pe);if(yt===null){ke===null&&(ke=jn);break}s&&ke&&yt.alternate===null&&r(J,ke),Y=b(yt,Y,He),it===null?Me=yt:it.sibling=yt,it=yt,ke=jn}if(He===ie.length)return l(J,ke),Ke&&ee(J,He),Me;if(ke===null){for(;He<ie.length;He++)ke=ye(J,ie[He],pe),ke!==null&&(Y=b(ke,Y,He),it===null?Me=ke:it.sibling=ke,it=ke);return Ke&&ee(J,He),Me}for(ke=f(ke);He<ie.length;He++)jn=ce(ke,J,He,ie[He],pe),jn!==null&&(s&&jn.alternate!==null&&ke.delete(jn.key===null?He:jn.key),Y=b(jn,Y,He),it===null?Me=jn:it.sibling=jn,it=jn);return s&&ke.forEach(function(fo){return r(J,fo)}),Ke&&ee(J,He),Me}function Ue(J,Y,ie,pe){if(ie==null)throw Error(i(151));for(var Me=null,it=null,ke=Y,He=Y=0,jn=null,yt=ie.next();ke!==null&&!yt.done;He++,yt=ie.next()){ke.index>He?(jn=ke,ke=null):jn=ke.sibling;var fo=ae(J,ke,yt.value,pe);if(fo===null){ke===null&&(ke=jn);break}s&&ke&&fo.alternate===null&&r(J,ke),Y=b(fo,Y,He),it===null?Me=fo:it.sibling=fo,it=fo,ke=jn}if(yt.done)return l(J,ke),Ke&&ee(J,He),Me;if(ke===null){for(;!yt.done;He++,yt=ie.next())yt=ye(J,yt.value,pe),yt!==null&&(Y=b(yt,Y,He),it===null?Me=yt:it.sibling=yt,it=yt);return Ke&&ee(J,He),Me}for(ke=f(ke);!yt.done;He++,yt=ie.next())yt=ce(ke,J,He,yt.value,pe),yt!==null&&(s&&yt.alternate!==null&&ke.delete(yt.key===null?He:yt.key),Y=b(yt,Y,He),it===null?Me=yt:it.sibling=yt,it=yt);return s&&ke.forEach(function(WR){return r(J,WR)}),Ke&&ee(J,He),Me}function At(J,Y,ie,pe){if(typeof ie=="object"&&ie!==null&&ie.type===P&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:e:{for(var Me=ie.key;Y!==null;){if(Y.key===Me){if(Me=ie.type,Me===P){if(Y.tag===7){l(J,Y.sibling),pe=v(Y,ie.props.children),pe.return=J,J=pe;break e}}else if(Y.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===M&&px(Me)===Y.type){l(J,Y.sibling),pe=v(Y,ie.props),zu(pe,ie),pe.return=J,J=pe;break e}l(J,Y);break}else r(J,Y);Y=Y.sibling}ie.type===P?(pe=dr(ie.props.children,J.mode,pe,ie.key),pe.return=J,J=pe):(pe=rl(ie.type,ie.key,ie.props,null,J.mode,pe),zu(pe,ie),pe.return=J,J=pe)}return C(J);case I:e:{for(Me=ie.key;Y!==null;){if(Y.key===Me)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){l(J,Y.sibling),pe=v(Y,ie.children||[]),pe.return=J,J=pe;break e}else{l(J,Y);break}else r(J,Y);Y=Y.sibling}pe=ic(ie,J.mode,pe),pe.return=J,J=pe}return C(J);case M:return Me=ie._init,ie=Me(ie._payload),At(J,Y,ie,pe)}if(Pe(ie))return Ze(J,Y,ie,pe);if(Q(ie)){if(Me=Q(ie),typeof Me!="function")throw Error(i(150));return ie=Me.call(ie),Ue(J,Y,ie,pe)}if(typeof ie.then=="function")return At(J,Y,Fd(ie),pe);if(ie.$$typeof===X)return At(J,Y,Rd(J,ie),pe);Hd(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Y!==null&&Y.tag===6?(l(J,Y.sibling),pe=v(Y,ie),pe.return=J,J=pe):(l(J,Y),pe=Cu(ie,J.mode,pe),pe.return=J,J=pe),C(J)):l(J,Y)}return function(J,Y,ie,pe){try{Bu=0;var Me=At(J,Y,ie,pe);return hc=null,Me}catch(ke){if(ke===Pu||ke===Pd)throw ke;var it=fi(29,ke,null,J.mode);return it.lanes=pe,it.return=J,it}finally{}}}var dc=gx(!0),yx=gx(!1),gs=oe(null),mr=null;function Qa(s){var r=s.alternate;me(gn,gn.current&1),me(gs,s),mr===null&&(r===null||oc.current!==null||r.memoizedState!==null)&&(mr=s)}function vx(s){if(s.tag===22){if(me(gn,gn.current),me(gs,s),mr===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(mr=s)}}else Xa()}function Xa(){me(gn,gn.current),me(gs,gs.current)}function ta(s){be(gs),mr===s&&(mr=null),be(gn)}var gn=oe(0);function qd(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Rg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Bp(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:x({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var zp={enqueueSetState:function(s,r,l){s=s._reactInternals;var f=Qi(),v=Ka(f);v.payload=r,l!=null&&(v.callback=l),r=$a(s,v,f),r!==null&&(Xi(r,s,f),Du(r,s,f))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=Qi(),v=Ka(f);v.tag=1,v.payload=r,l!=null&&(v.callback=l),r=$a(s,v,f),r!==null&&(Xi(r,s,f),Du(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Qi(),f=Ka(l);f.tag=2,r!=null&&(f.callback=r),r=$a(s,f,l),r!==null&&(Xi(r,s,l),Du(r,s,l))}};function _x(s,r,l,f,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,C):r.prototype&&r.prototype.isPureReactComponent?!ui(l,f)||!ui(v,b):!0}function xx(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&zp.enqueueReplaceState(r,r.state,null)}function dl(s,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(s=s.defaultProps){l===r&&(l=x({},l));for(var v in s)l[v]===void 0&&(l[v]=s[v])}return l}var Gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function bx(s){Gd(s)}function wx(s){console.error(s)}function Tx(s){Gd(s)}function Zd(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Ex(s,r,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fp(s,r,l){return l=Ka(l),l.tag=3,l.payload={element:null},l.callback=function(){Zd(s,r)},l}function Sx(s){return s=Ka(s),s.tag=3,s}function Ax(s,r,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;s.payload=function(){return v(b)},s.callback=function(){Ex(r,l,f)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Ex(r,l,f),typeof v!="function"&&(so===null?so=new Set([this]):so.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function WC(s,r,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&ll(r,l,v,!0),l=gs.current,l!==null){switch(l.tag){case 13:return mr===null?dg():l.alternate===null&&Kt===0&&(Kt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===yp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),mg(s,f,v)),!1;case 22:return l.flags|=65536,f===yp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),mg(s,f,v)),!1}throw Error(i(435,l.tag))}return mg(s,f,v),dg(),!1}if(Ke)return r=gs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,f!==Nn&&(s=Error(i(422),{cause:f}),Za(hi(s,l)))):(f!==Nn&&(r=Error(i(423),{cause:f}),Za(hi(r,l))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,f=hi(f,l),v=Fp(s.stateNode,f,v),xp(s,v),Kt!==4&&(Kt=2)),!1;var b=Error(i(520),{cause:f});if(b=hi(b,l),Ku===null?Ku=[b]:Ku.push(b),Kt!==4&&(Kt=2),r===null)return!0;f=hi(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=v&-v,l.lanes|=s,s=Fp(l.stateNode,f,s),xp(l,s),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(so===null||!so.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Sx(v),Ax(v,s,l,f),xp(l,v),!1}l=l.return}while(l!==null);return!1}var Nx=Error(i(461)),Cn=!1;function Dn(s,r,l,f){r.child=s===null?yx(r,null,l,f):dc(r,s.child,l,f)}function Cx(s,r,l,f,v){l=l.render;var b=r.ref;if("ref"in f){var C={};for(var j in f)j!=="ref"&&(C[j]=f[j])}else C=f;return cl(r),f=Sp(s,r,l,C,b,v),j=Ap(),s!==null&&!Cn?(Np(s,r,v),na(s,r,v)):(Ke&&j&&xe(r),r.flags|=1,Dn(s,r,f,v),r.child)}function Rx(s,r,l,f,v){if(s===null){var b=l.type;return typeof b=="function"&&!nc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,jx(s,r,b,f,v)):(s=rl(l.type,null,f,r,r.mode,v),s.ref=r.ref,s.return=r,r.child=s)}if(b=s.child,!Yp(s,v)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:ui,l(C,f)&&s.ref===r.ref)return na(s,r,v)}return r.flags|=1,s=ms(b,f),s.ref=r.ref,s.return=r,r.child=s}function jx(s,r,l,f,v){if(s!==null){var b=s.memoizedProps;if(ui(b,f)&&s.ref===r.ref)if(Cn=!1,r.pendingProps=f=b,Yp(s,v))(s.flags&131072)!==0&&(Cn=!0);else return r.lanes=s.lanes,na(s,r,v)}return Hp(s,r,l,f,v)}function Px(s,r,l){var f=r.pendingProps,v=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=b!==null?b.baseLanes|l:l,s!==null){for(v=r.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;r.childLanes=b&~f}else r.childLanes=0,r.child=null;return Ix(s,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&jd(r,b!==null?b.cachePool:null),b!==null?j_(r,b):wp(),vx(r);else return r.lanes=r.childLanes=536870912,Ix(s,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(jd(r,b.cachePool),j_(r,b),Xa(),r.memoizedState=null):(s!==null&&jd(r,null),wp(),Xa());return Dn(s,r,v,l),r.child}function Ix(s,r,l,f){var v=gp();return v=v===null?null:{parent:pn._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},s!==null&&jd(r,null),wp(),vx(r),s!==null&&ll(s,r,f,!0),null}function Wd(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Hp(s,r,l,f,v){return cl(r),l=Sp(s,r,l,f,void 0,v),f=Ap(),s!==null&&!Cn?(Np(s,r,v),na(s,r,v)):(Ke&&f&&xe(r),r.flags|=1,Dn(s,r,l,v),r.child)}function Dx(s,r,l,f,v,b){return cl(r),r.updateQueue=null,l=I_(r,f,l,v),P_(s),f=Ap(),s!==null&&!Cn?(Np(s,r,b),na(s,r,b)):(Ke&&f&&xe(r),r.flags|=1,Dn(s,r,l,b),r.child)}function Lx(s,r,l,f,v){if(cl(r),r.stateNode===null){var b=Xr,C=l.contextType;typeof C=="object"&&C!==null&&(b=Gn(C)),b=new l(f,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=zp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=f,b.state=r.memoizedState,b.refs={},vp(r),C=l.contextType,b.context=typeof C=="object"&&C!==null?Gn(C):Xr,b.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Bp(r,l,C,f),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&zp.enqueueReplaceState(b,b.state,null),Mu(r,f,b,v),Lu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){b=r.stateNode;var j=r.memoizedProps,Z=dl(l,j);b.props=Z;var se=b.context,fe=l.contextType;C=Xr,typeof fe=="object"&&fe!==null&&(C=Gn(fe));var ye=l.getDerivedStateFromProps;fe=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=r.pendingProps!==j,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||se!==C)&&xx(r,b,f,C),Wa=!1;var ae=r.memoizedState;b.state=ae,Mu(r,f,b,v),Lu(),se=r.memoizedState,j||ae!==se||Wa?(typeof ye=="function"&&(Bp(r,l,ye,f),se=r.memoizedState),(Z=Wa||_x(r,l,Z,f,ae,se,C))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=se),b.props=f,b.state=se,b.context=C,f=Z):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{b=r.stateNode,_p(s,r),C=r.memoizedProps,fe=dl(l,C),b.props=fe,ye=r.pendingProps,ae=b.context,se=l.contextType,Z=Xr,typeof se=="object"&&se!==null&&(Z=Gn(se)),j=l.getDerivedStateFromProps,(se=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ye||ae!==Z)&&xx(r,b,f,Z),Wa=!1,ae=r.memoizedState,b.state=ae,Mu(r,f,b,v),Lu();var ce=r.memoizedState;C!==ye||ae!==ce||Wa||s!==null&&s.dependencies!==null&&Cd(s.dependencies)?(typeof j=="function"&&(Bp(r,l,j,f),ce=r.memoizedState),(fe=Wa||_x(r,l,fe,f,ae,ce,Z)||s!==null&&s.dependencies!==null&&Cd(s.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ce,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ce,Z)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=ce),b.props=f,b.state=ce,b.context=Z,f=fe):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=1024),f=!1)}return b=f,Wd(s,r),f=(r.flags&128)!==0,b||f?(b=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,s!==null&&f?(r.child=dc(r,s.child,null,v),r.child=dc(r,null,l,v)):Dn(s,r,l,v),r.memoizedState=b.state,s=r.child):s=na(s,r,v),s}function Mx(s,r,l,f){return Ga(),r.flags|=256,Dn(s,r,l,f),r.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(s){return{baseLanes:s,cachePool:w_()}}function Zp(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=ys),s}function Ox(s,r,l){var f=r.pendingProps,v=!1,b=(r.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),C&&(v=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ke){if(v?Qa(r):Xa(),Ke){var j=Oe,Z;if(Z=j){e:{for(Z=j,j=Ht;Z.nodeType!==8;){if(!j){j=null;break e}if(Z=Gs(Z.nextSibling),Z===null){j=null;break e}}j=Z}j!==null?(r.memoizedState={dehydrated:j,treeContext:S!==null?{id:R,overflow:G}:null,retryLane:536870912,hydrationErrors:null},Z=fi(18,null,null,0),Z.stateNode=j,Z.return=r,r.child=Z,De=r,Oe=null,Z=!0):Z=!1}Z||Ei(r)}if(j=r.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Rg(j)?r.lanes=32:r.lanes=536870912,null;ta(r)}return j=f.children,f=f.fallback,v?(Xa(),v=r.mode,j=Kd({mode:"hidden",children:j},v),f=dr(f,v,l,null),j.return=r,f.return=r,j.sibling=f,r.child=j,v=r.child,v.memoizedState=Gp(l),v.childLanes=Zp(s,C,l),r.memoizedState=qp,f):(Qa(r),Wp(r,j))}if(Z=s.memoizedState,Z!==null&&(j=Z.dehydrated,j!==null)){if(b)r.flags&256?(Qa(r),r.flags&=-257,r=Kp(s,r,l)):r.memoizedState!==null?(Xa(),r.child=s.child,r.flags|=128,r=null):(Xa(),v=f.fallback,j=r.mode,f=Kd({mode:"visible",children:f.children},j),v=dr(v,j,l,null),v.flags|=2,f.return=r,v.return=r,f.sibling=v,r.child=f,dc(r,s.child,null,l),f=r.child,f.memoizedState=Gp(l),f.childLanes=Zp(s,C,l),r.memoizedState=qp,r=v);else if(Qa(r),Rg(j)){if(C=j.nextSibling&&j.nextSibling.dataset,C)var se=C.dgst;C=se,f=Error(i(419)),f.stack="",f.digest=C,Za({value:f,source:null,stack:null}),r=Kp(s,r,l)}else if(Cn||ll(s,r,l,!1),C=(l&s.childLanes)!==0,Cn||C){if(C=jt,C!==null&&(f=l&-l,f=(f&42)!==0?1:Fo(f),f=(f&(C.suspendedLanes|l))!==0?0:f,f!==0&&f!==Z.retryLane))throw Z.retryLane=f,Ha(s,f),Xi(C,s,f),Nx;j.data==="$?"||dg(),r=Kp(s,r,l)}else j.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=Z.treeContext,Oe=Gs(j.nextSibling),De=r,Ke=!0,Rt=null,Ht=!1,s!==null&&(y[w++]=R,y[w++]=G,y[w++]=S,R=s.id,G=s.overflow,S=r),r=Wp(r,f.children),r.flags|=4096);return r}return v?(Xa(),v=f.fallback,j=r.mode,Z=s.child,se=Z.sibling,f=ms(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,se!==null?v=ms(se,v):(v=dr(v,j,l,null),v.flags|=2),v.return=r,f.return=r,f.sibling=v,r.child=f,f=v,v=r.child,j=s.child.memoizedState,j===null?j=Gp(l):(Z=j.cachePool,Z!==null?(se=pn._currentValue,Z=Z.parent!==se?{parent:se,pool:se}:Z):Z=w_(),j={baseLanes:j.baseLanes|l,cachePool:Z}),v.memoizedState=j,v.childLanes=Zp(s,C,l),r.memoizedState=qp,f):(Qa(r),l=s.child,s=l.sibling,l=ms(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function Wp(s,r){return r=Kd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Kd(s,r){return s=fi(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Kp(s,r,l){return dc(r,s.child,null,l),s=Wp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function kx(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),ol(s.return,r,l)}function $p(s,r,l,f,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=v)}function Vx(s,r,l){var f=r.pendingProps,v=f.revealOrder,b=f.tail;if(Dn(s,r,f.children,l),f=gn.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kx(s,l,r);else if(s.tag===19)kx(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(me(gn,f),v){case"forwards":for(l=r.child,v=null;l!==null;)s=l.alternate,s!==null&&qd(s)===null&&(v=l),l=l.sibling;l=v,l===null?(v=r.child,r.child=null):(v=l.sibling,l.sibling=null),$p(r,!1,v,l,b);break;case"backwards":for(l=null,v=r.child,r.child=null;v!==null;){if(s=v.alternate,s!==null&&qd(s)===null){r.child=v;break}s=v.sibling,v.sibling=l,l=v,v=s}$p(r,!0,l,null,b);break;case"together":$p(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function na(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),io|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(ll(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ms(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ms(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Yp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Cd(s)))}function KC(s,r,l){switch(r.tag){case 3:st(r,r.stateNode.containerInfo),fr(r,pn,s.memoizedState.cache),Ga();break;case 27:case 5:Pr(r);break;case 4:st(r,r.stateNode.containerInfo);break;case 10:fr(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Qa(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Ox(s,r,l):(Qa(r),s=na(s,r,l),s!==null?s.sibling:null);Qa(r);break;case 19:var v=(s.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(ll(s,r,l,!1),f=(l&r.childLanes)!==0),v){if(f)return Vx(s,r,l);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),me(gn,gn.current),f)break;return null;case 22:case 23:return r.lanes=0,Px(s,r,l);case 24:fr(r,pn,s.memoizedState.cache)}return na(s,r,l)}function Ux(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Cn=!0;else{if(!Yp(s,l)&&(r.flags&128)===0)return Cn=!1,KC(s,r,l);Cn=(s.flags&131072)!==0}else Cn=!1,Ke&&(r.flags&1048576)!==0&&ue(r,h,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var f=r.elementType,v=f._init;if(f=v(f._payload),r.type=f,typeof f=="function")nc(f)?(s=dl(f,s),r.tag=1,r=Lx(null,r,f,s,l)):(r.tag=0,r=Hp(null,r,f,s,l));else{if(f!=null){if(v=f.$$typeof,v===_e){r.tag=11,r=Cx(null,r,f,s,l);break e}else if(v===U){r.tag=14,r=Rx(null,r,f,s,l);break e}}throw r=Be(f)||f,Error(i(306,r,""))}}return r;case 0:return Hp(s,r,r.type,r.pendingProps,l);case 1:return f=r.type,v=dl(f,r.pendingProps),Lx(s,r,f,v,l);case 3:e:{if(st(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var b=r.memoizedState;v=b.element,_p(s,r),Mu(r,f,null,l);var C=r.memoizedState;if(f=C.cache,fr(r,pn,f),f!==b.cache&&sc(r,[pn],l,!0),Lu(),f=C.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Mx(s,r,f,l);break e}else if(f!==v){v=hi(Error(i(424)),r),Za(v),r=Mx(s,r,f,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Oe=Gs(s.firstChild),De=r,Ke=!0,Rt=null,Ht=!0,l=yx(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ga(),f===v){r=na(s,r,l);break e}Dn(s,r,f,l)}r=r.child}return r;case 26:return Wd(s,r),s===null?(l=Hb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ke||(l=r.type,s=r.pendingProps,f=cf(Ee.current).createElement(l),f[Bt]=r,f[dn]=s,Mn(f,l,s),zt(f),r.stateNode=f):r.memoizedState=Hb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Pr(r),s===null&&Ke&&(f=r.stateNode=Bb(r.type,r.pendingProps,Ee.current),De=r,Ht=!0,v=Oe,oo(r.type)?(jg=v,Oe=Gs(f.firstChild)):Oe=v),Dn(s,r,r.pendingProps.children,l),Wd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ke&&((v=f=Oe)&&(f=wR(f,r.type,r.pendingProps,Ht),f!==null?(r.stateNode=f,De=r,Oe=Gs(f.firstChild),Ht=!1,v=!0):v=!1),v||Ei(r)),Pr(r),v=r.type,b=r.pendingProps,C=s!==null?s.memoizedProps:null,f=b.children,Ag(v,b)?f=null:C!==null&&Ag(v,C)&&(r.flags|=32),r.memoizedState!==null&&(v=Sp(s,r,BC,null,null,l),ih._currentValue=v),Wd(s,r),Dn(s,r,f,l),r.child;case 6:return s===null&&Ke&&((s=l=Oe)&&(l=TR(l,r.pendingProps,Ht),l!==null?(r.stateNode=l,De=r,Oe=null,s=!0):s=!1),s||Ei(r)),null;case 13:return Ox(s,r,l);case 4:return st(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=dc(r,null,f,l):Dn(s,r,f,l),r.child;case 11:return Cx(s,r,r.type,r.pendingProps,l);case 7:return Dn(s,r,r.pendingProps,l),r.child;case 8:return Dn(s,r,r.pendingProps.children,l),r.child;case 12:return Dn(s,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,fr(r,r.type,f.value),Dn(s,r,f.children,l),r.child;case 9:return v=r.type._context,f=r.pendingProps.children,cl(r),v=Gn(v),f=f(v),r.flags|=1,Dn(s,r,f,l),r.child;case 14:return Rx(s,r,r.type,r.pendingProps,l);case 15:return jx(s,r,r.type,r.pendingProps,l);case 19:return Vx(s,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},s===null?(l=Kd(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ms(s.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Px(s,r,l);case 24:return cl(r),f=Gn(pn),s===null?(v=gp(),v===null&&(v=jt,b=mp(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),r.memoizedState={parent:f,cache:v},vp(r),fr(r,pn,v)):((s.lanes&l)!==0&&(_p(s,r),Mu(r,null,null,l),Lu()),v=s.memoizedState,b=r.memoizedState,v.parent!==f?(v={parent:f,cache:f},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),fr(r,pn,f)):(f=b.cache,fr(r,pn,f),f!==v.cache&&sc(r,[pn],l,!0))),Dn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ia(s){s.flags|=4}function Bx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Kb(r)){if(r=gs.current,r!==null&&((mt&4194048)===mt?mr!==null:(mt&62914560)!==mt&&(mt&536870912)===0||r!==mr))throw Iu=yp,T_;s.flags|=8192}}function $d(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Rs():536870912,s.lanes|=r,gc|=r)}function Fu(s,r){if(!Ke)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function qt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var v=s.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function $C(s,r,l){var f=r.pendingProps;switch(Ne(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return l=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Hs(pn),pi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(al(r)?ia(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nd())),qt(r),null;case 26:return l=r.memoizedState,s===null?(ia(r),l!==null?(qt(r),Bx(r,l)):(qt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(ia(r),qt(r),Bx(r,l)):(qt(r),r.flags&=-16777217):(s.memoizedProps!==f&&ia(r),qt(r),r.flags&=-16777217),null;case 27:er(r),l=Ee.current;var v=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&ia(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return qt(r),null}s=Te.current,al(r)?Sd(r):(s=Bb(v,f,l),r.stateNode=s,ia(r))}return qt(r),null;case 5:if(er(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&ia(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return qt(r),null}if(s=Te.current,al(r))Sd(r);else{switch(v=cf(Ee.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?v.createElement(l,{is:f.is}):v.createElement(l)}}s[Bt]=r,s[dn]=f;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=s;e:switch(Mn(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ia(r)}}return qt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&ia(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ee.current,al(r)){if(s=r.stateNode,l=r.memoizedProps,f=null,v=De,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}s[Bt]=r,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Db(s.nodeValue,l)),s||Ei(r)}else s=cf(s).createTextNode(f),s[Bt]=r,r.stateNode=s}return qt(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=al(r),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Bt]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),v=!1}else v=Nd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(ta(r),r):(ta(r),null)}if(ta(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=r.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),$d(r,r.updateQueue),qt(r),null;case 4:return pi(),s===null&&bg(r.stateNode.containerInfo),qt(r),null;case 10:return Hs(r.type),qt(r),null;case 19:if(be(gn),v=r.memoizedState,v===null)return qt(r),null;if(f=(r.flags&128)!==0,b=v.rendering,b===null)if(f)Fu(v,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(b=qd(s),b!==null){for(r.flags|=128,Fu(v,!1),s=b.updateQueue,r.updateQueue=s,$d(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Nu(l,s),l=l.sibling;return me(gn,gn.current&1|2),r.child}s=s.sibling}v.tail!==null&&_n()>Xd&&(r.flags|=128,f=!0,Fu(v,!1),r.lanes=4194304)}else{if(!f)if(s=qd(b),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,$d(r,s),Fu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ke)return qt(r),null}else 2*_n()-v.renderingStartTime>Xd&&l!==536870912&&(r.flags|=128,f=!0,Fu(v,!1),r.lanes=4194304);v.isBackwards?(b.sibling=r.child,r.child=b):(s=v.last,s!==null?s.sibling=b:r.child=b,v.last=b)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=_n(),r.sibling=null,s=gn.current,me(gn,f?s&1|2:s&1),r):(qt(r),null);case 22:case 23:return ta(r),Tp(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),l=r.updateQueue,l!==null&&$d(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),s!==null&&be(ul),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hs(pn),qt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function YC(s,r){switch(Ne(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Hs(pn),pi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return er(r),null;case 13:if(ta(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return be(gn),null;case 4:return pi(),null;case 10:return Hs(r.type),null;case 22:case 23:return ta(r),Tp(),s!==null&&be(ul),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Hs(pn),null;case 25:return null;default:return null}}function zx(s,r){switch(Ne(r),r.tag){case 3:Hs(pn),pi();break;case 26:case 27:case 5:er(r);break;case 4:pi();break;case 13:ta(r);break;case 19:be(gn);break;case 10:Hs(r.type);break;case 22:case 23:ta(r),Tp(),s!==null&&be(ul);break;case 24:Hs(pn)}}function Hu(s,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&s)===s){f=void 0;var b=l.create,C=l.inst;f=b(),C.destroy=f}l=l.next}while(l!==v)}}catch(j){Ct(r,r.return,j)}}function Ja(s,r,l){try{var f=r.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&s)===s){var C=f.inst,j=C.destroy;if(j!==void 0){C.destroy=void 0,v=r;var Z=l,se=j;try{se()}catch(fe){Ct(v,Z,fe)}}}f=f.next}while(f!==b)}}catch(fe){Ct(r,r.return,fe)}}function Fx(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{R_(r,l)}catch(f){Ct(s,s.return,f)}}}function Hx(s,r,l){l.props=dl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){Ct(s,r,f)}}function qu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(v){Ct(s,r,v)}}function pr(s,r){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ct(s,r,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ct(s,r,v)}else l.current=null}function qx(s){var r=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ct(s,s.return,v)}}function Qp(s,r,l){try{var f=s.stateNode;yR(f,s.type,l,r),f[dn]=r}catch(v){Ct(s,s.return,v)}}function Gx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&oo(s.type)||s.tag===4}function Xp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&oo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jp(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=lf));else if(f!==4&&(f===27&&oo(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Jp(s,r,l),s=s.sibling;s!==null;)Jp(s,r,l),s=s.sibling}function Yd(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(f===27&&oo(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Yd(s,r,l),s=s.sibling;s!==null;)Yd(s,r,l),s=s.sibling}function Zx(s){var r=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Mn(r,f,l),r[Bt]=s,r[dn]=l}catch(b){Ct(s,s.return,b)}}var sa=!1,en=!1,eg=!1,Wx=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function QC(s,r){if(s=s.containerInfo,Eg=pf,s=Jo(s),el(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,j=-1,Z=-1,se=0,fe=0,ye=s,ae=null;t:for(;;){for(var ce;ye!==l||v!==0&&ye.nodeType!==3||(j=C+v),ye!==b||f!==0&&ye.nodeType!==3||(Z=C+f),ye.nodeType===3&&(C+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)ae=ye,ye=ce;for(;;){if(ye===s)break t;if(ae===l&&++se===v&&(j=C),ae===b&&++fe===f&&(Z=C),(ce=ye.nextSibling)!==null)break;ye=ae,ae=ye.parentNode}ye=ce}l=j===-1||Z===-1?null:{start:j,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sg={focusedElem:s,selectionRange:l},pf=!1,Rn=r;Rn!==null;)if(r=Rn,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Rn=s;else for(;Rn!==null;){switch(r=Rn,b=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,l=r,v=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var Ze=dl(l.type,v,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(Ze,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){Ct(l,l.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Cg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Cg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Rn=s;break}Rn=r.return}}function Kx(s,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:eo(s,l),f&4&&Hu(5,l);break;case 1:if(eo(s,l),f&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){Ct(l,l.return,C)}else{var v=dl(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(v,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Ct(l,l.return,C)}}f&64&&Fx(l),f&512&&qu(l,l.return);break;case 3:if(eo(s,l),f&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{R_(s,r)}catch(C){Ct(l,l.return,C)}}break;case 27:r===null&&f&4&&Zx(l);case 26:case 5:eo(s,l),r===null&&f&4&&qx(l),f&512&&qu(l,l.return);break;case 12:eo(s,l);break;case 13:eo(s,l),f&4&&Qx(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=aR.bind(null,l),ER(s,l))));break;case 22:if(f=l.memoizedState!==null||sa,!f){r=r!==null&&r.memoizedState!==null||en,v=sa;var b=en;sa=f,(en=r)&&!b?to(s,l,(l.subtreeFlags&8772)!==0):eo(s,l),sa=v,en=b}break;case 30:break;default:eo(s,l)}}function $x(s){var r=s.alternate;r!==null&&(s.alternate=null,$x(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Mr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kt=null,Ai=!1;function ra(s,r,l){for(l=l.child;l!==null;)Yx(s,r,l),l=l.sibling}function Yx(s,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ts,l)}catch{}switch(l.tag){case 26:en||pr(l,r),ra(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:en||pr(l,r);var f=kt,v=Ai;oo(l.type)&&(kt=l.stateNode,Ai=!1),ra(s,r,l),Ju(l.stateNode),kt=f,Ai=v;break;case 5:en||pr(l,r);case 6:if(f=kt,v=Ai,kt=null,ra(s,r,l),kt=f,Ai=v,kt!==null)if(Ai)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(b){Ct(l,r,b)}else try{kt.removeChild(l.stateNode)}catch(b){Ct(l,r,b)}break;case 18:kt!==null&&(Ai?(s=kt,Vb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),oh(s)):Vb(kt,l.stateNode));break;case 4:f=kt,v=Ai,kt=l.stateNode.containerInfo,Ai=!0,ra(s,r,l),kt=f,Ai=v;break;case 0:case 11:case 14:case 15:en||Ja(2,l,r),en||Ja(4,l,r),ra(s,r,l);break;case 1:en||(pr(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Hx(l,r,f)),ra(s,r,l);break;case 21:ra(s,r,l);break;case 22:en=(f=en)||l.memoizedState!==null,ra(s,r,l),en=f;break;default:ra(s,r,l)}}function Qx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{oh(s)}catch(l){Ct(r,r.return,l)}}function XC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Wx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Wx),r;default:throw Error(i(435,s.tag))}}function tg(s,r){var l=XC(s);r.forEach(function(f){var v=oR.bind(null,s,f);l.has(f)||(l.add(f),f.then(v,v))})}function Ki(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],b=s,C=r,j=C;e:for(;j!==null;){switch(j.tag){case 27:if(oo(j.type)){kt=j.stateNode,Ai=!1;break e}break;case 5:kt=j.stateNode,Ai=!1;break e;case 3:case 4:kt=j.stateNode.containerInfo,Ai=!0;break e}j=j.return}if(kt===null)throw Error(i(160));Yx(b,C,v),kt=null,Ai=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Xx(r,s),r=r.sibling}var qs=null;function Xx(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ki(r,s),$i(s),f&4&&(Ja(3,s,s.return),Hu(3,s),Ja(5,s,s.return));break;case 1:Ki(r,s),$i(s),f&512&&(en||l===null||pr(l,l.return)),f&64&&sa&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=qs;if(Ki(r,s),$i(s),f&512&&(en||l===null||pr(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Is]||b[Bt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),Mn(b,f,l),b[Bt]=s,zt(b),f=b;break e;case"link":var C=Zb("link","href",v).get(f+(l.href||""));if(C){for(var j=0;j<C.length;j++)if(b=C[j],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(j,1);break t}}b=v.createElement(f),Mn(b,f,l),v.head.appendChild(b);break;case"meta":if(C=Zb("meta","content",v).get(f+(l.content||""))){for(j=0;j<C.length;j++)if(b=C[j],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(j,1);break t}}b=v.createElement(f),Mn(b,f,l),v.head.appendChild(b);break;default:throw Error(i(468,f))}b[Bt]=s,zt(b),f=b}s.stateNode=f}else Wb(v,s.type,s.stateNode);else s.stateNode=Gb(v,f,s.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?Wb(v,s.type,s.stateNode):Gb(v,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Qp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ki(r,s),$i(s),f&512&&(en||l===null||pr(l,l.return)),l!==null&&f&4&&Qp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ki(r,s),$i(s),f&512&&(en||l===null||pr(l,l.return)),s.flags&32){v=s.stateNode;try{wn(v,"")}catch(ce){Ct(s,s.return,ce)}}f&4&&s.stateNode!=null&&(v=s.memoizedProps,Qp(s,v,l!==null?l.memoizedProps:v)),f&1024&&(eg=!0);break;case 6:if(Ki(r,s),$i(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(ce){Ct(s,s.return,ce)}}break;case 3:if(df=null,v=qs,qs=uf(r.containerInfo),Ki(r,s),qs=v,$i(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{oh(r.containerInfo)}catch(ce){Ct(s,s.return,ce)}eg&&(eg=!1,Jx(s));break;case 4:f=qs,qs=uf(s.stateNode.containerInfo),Ki(r,s),$i(s),qs=f;break;case 12:Ki(r,s),$i(s);break;case 13:Ki(r,s),$i(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(og=_n()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,tg(s,f)));break;case 22:v=s.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,se=sa,fe=en;if(sa=se||v,en=fe||Z,Ki(r,s),en=fe,sa=se,$i(s),f&8192)e:for(r=s.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(l===null||Z||sa||en||fl(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){Z=l=r;try{if(b=Z.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{j=Z.stateNode;var ye=Z.memoizedProps.style,ae=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;j.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ce){Ct(Z,Z.return,ce)}}}else if(r.tag===6){if(l===null){Z=r;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(ce){Ct(Z,Z.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,tg(s,l))));break;case 19:Ki(r,s),$i(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,tg(s,f)));break;case 30:break;case 21:break;default:Ki(r,s),$i(s)}}function $i(s){var r=s.flags;if(r&2){try{for(var l,f=s.return;f!==null;){if(Gx(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,b=Xp(s);Yd(s,b,v);break;case 5:var C=l.stateNode;l.flags&32&&(wn(C,""),l.flags&=-33);var j=Xp(s);Yd(s,j,C);break;case 3:case 4:var Z=l.stateNode.containerInfo,se=Xp(s);Jp(s,se,Z);break;default:throw Error(i(161))}}catch(fe){Ct(s,s.return,fe)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Jx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Jx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function eo(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Kx(s,r.alternate,r),r=r.sibling}function fl(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ja(4,r,r.return),fl(r);break;case 1:pr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Hx(r,r.return,l),fl(r);break;case 27:Ju(r.stateNode);case 26:case 5:pr(r,r.return),fl(r);break;case 22:r.memoizedState===null&&fl(r);break;case 30:fl(r);break;default:fl(r)}s=s.sibling}}function to(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,v=s,b=r,C=b.flags;switch(b.tag){case 0:case 11:case 15:to(v,b,l),Hu(4,b);break;case 1:if(to(v,b,l),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){Ct(f,f.return,se)}if(f=b,v=f.updateQueue,v!==null){var j=f.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)C_(Z[v],j)}catch(se){Ct(f,f.return,se)}}l&&C&64&&Fx(b),qu(b,b.return);break;case 27:Zx(b);case 26:case 5:to(v,b,l),l&&f===null&&C&4&&qx(b),qu(b,b.return);break;case 12:to(v,b,l);break;case 13:to(v,b,l),l&&C&4&&Qx(v,b);break;case 22:b.memoizedState===null&&to(v,b,l),qu(b,b.return);break;case 30:break;default:to(v,b,l)}r=r.sibling}}function ng(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ru(l))}function ig(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ru(s))}function gr(s,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eb(s,r,l,f),r=r.sibling}function eb(s,r,l,f){var v=r.flags;switch(r.tag){case 0:case 11:case 15:gr(s,r,l,f),v&2048&&Hu(9,r);break;case 1:gr(s,r,l,f);break;case 3:gr(s,r,l,f),v&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ru(s)));break;case 12:if(v&2048){gr(s,r,l,f),s=r.stateNode;try{var b=r.memoizedProps,C=b.id,j=b.onPostCommit;typeof j=="function"&&j(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){Ct(r,r.return,Z)}}else gr(s,r,l,f);break;case 13:gr(s,r,l,f);break;case 23:break;case 22:b=r.stateNode,C=r.alternate,r.memoizedState!==null?b._visibility&2?gr(s,r,l,f):Gu(s,r):b._visibility&2?gr(s,r,l,f):(b._visibility|=2,fc(s,r,l,f,(r.subtreeFlags&10256)!==0)),v&2048&&ng(C,r);break;case 24:gr(s,r,l,f),v&2048&&ig(r.alternate,r);break;default:gr(s,r,l,f)}}function fc(s,r,l,f,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=s,C=r,j=l,Z=f,se=C.flags;switch(C.tag){case 0:case 11:case 15:fc(b,C,j,Z,v),Hu(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?fc(b,C,j,Z,v):Gu(b,C):(fe._visibility|=2,fc(b,C,j,Z,v)),v&&se&2048&&ng(C.alternate,C);break;case 24:fc(b,C,j,Z,v),v&&se&2048&&ig(C.alternate,C);break;default:fc(b,C,j,Z,v)}r=r.sibling}}function Gu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,f=r,v=f.flags;switch(f.tag){case 22:Gu(l,f),v&2048&&ng(f.alternate,f);break;case 24:Gu(l,f),v&2048&&ig(f.alternate,f);break;default:Gu(l,f)}r=r.sibling}}var Zu=8192;function mc(s){if(s.subtreeFlags&Zu)for(s=s.child;s!==null;)tb(s),s=s.sibling}function tb(s){switch(s.tag){case 26:mc(s),s.flags&Zu&&s.memoizedState!==null&&kR(qs,s.memoizedState,s.memoizedProps);break;case 5:mc(s);break;case 3:case 4:var r=qs;qs=uf(s.stateNode.containerInfo),mc(s),qs=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Zu,Zu=16777216,mc(s),Zu=r):mc(s));break;default:mc(s)}}function nb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Wu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Rn=f,sb(f,s)}nb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ib(s),s=s.sibling}function ib(s){switch(s.tag){case 0:case 11:case 15:Wu(s),s.flags&2048&&Ja(9,s,s.return);break;case 3:Wu(s);break;case 12:Wu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Qd(s)):Wu(s);break;default:Wu(s)}}function Qd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Rn=f,sb(f,s)}nb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ja(8,r,r.return),Qd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Qd(r));break;default:Qd(r)}s=s.sibling}}function sb(s,r){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:Ja(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ru(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Rn=f;else e:for(l=s;Rn!==null;){f=Rn;var v=f.sibling,b=f.return;if($x(f),f===l){Rn=null;break e}if(v!==null){v.return=b,Rn=v;break e}Rn=b}}}var JC={getCacheForType:function(s){var r=Gn(pn),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},eR=typeof WeakMap=="function"?WeakMap:Map,xt=0,jt=null,rt=null,mt=0,bt=0,Yi=null,no=!1,pc=!1,sg=!1,aa=0,Kt=0,io=0,ml=0,rg=0,ys=0,gc=0,Ku=null,Ni=null,ag=!1,og=0,Xd=1/0,Jd=null,so=null,Ln=0,ro=null,yc=null,vc=0,lg=0,cg=null,rb=null,$u=0,ug=null;function Qi(){if((xt&2)!==0&&mt!==0)return mt&-mt;if(F.T!==null){var s=rc;return s!==0?s:yg()}return js()}function ab(){ys===0&&(ys=(mt&536870912)===0||Ke?zo():536870912);var s=gs.current;return s!==null&&(s.flags|=32),ys}function Xi(s,r,l){(s===jt&&(bt===2||bt===9)||s.cancelPendingCommit!==null)&&(_c(s,0),ao(s,mt,ys,!1)),Lt(s,l),((xt&2)===0||s!==jt)&&(s===jt&&((xt&2)===0&&(ml|=l),Kt===4&&ao(s,mt,ys,!1)),yr(s))}function ob(s,r,l){if((xt&6)!==0)throw Error(i(327));var f=!l&&(r&124)===0&&(r&s.expiredLanes)===0||vi(s,r),v=f?iR(s,r):fg(s,r,!0),b=f;do{if(v===0){pc&&!f&&ao(s,r,0,!1);break}else{if(l=s.current.alternate,b&&!tR(l)){v=fg(s,r,!1),b=!1;continue}if(v===2){if(b=r,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var j=s;v=Ku;var Z=j.current.memoizedState.isDehydrated;if(Z&&(_c(j,C).flags|=256),C=fg(j,C,!1),C!==2){if(sg&&!Z){j.errorRecoveryDisabledLanes|=b,ml|=b,v=4;break e}b=Ni,Ni=v,b!==null&&(Ni===null?Ni=b:Ni.push.apply(Ni,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){_c(s,0),ao(s,r,0,!0);break}e:{switch(f=s,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ao(f,r,ys,!no);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=og+300-_n(),10<v)){if(ao(f,r,ys,!no),yi(f,0,!0)!==0)break e;f.timeoutHandle=Ob(lb.bind(null,f,l,Ni,Jd,ag,r,ys,ml,gc,no,b,2,-0,0),v);break e}lb(f,l,Ni,Jd,ag,r,ys,ml,gc,no,b,0,-0,0)}}break}while(!0);yr(s)}function lb(s,r,l,f,v,b,C,j,Z,se,fe,ye,ae,ce){if(s.timeoutHandle=-1,ye=r.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(nh={stylesheets:null,count:0,unsuspend:OR},tb(r),ye=VR(),ye!==null)){s.cancelPendingCommit=ye(pb.bind(null,s,r,b,l,f,v,C,j,Z,fe,1,ae,ce)),ao(s,b,C,!se);return}pb(s,r,b,l,f,v,C,j,Z)}function tR(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],b=v.getSnapshot;v=v.value;try{if(!ci(b(),v))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ao(s,r,l,f){r&=~rg,r&=~ml,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var v=r;0<v;){var b=31-In(v),C=1<<b;f[b]=-1,v&=~C}l!==0&&tr(s,l,r)}function ef(){return(xt&6)===0?(Yu(0),!1):!0}function hg(){if(rt!==null){if(bt===0)var s=rt.return;else s=rt,Fs=ps=null,Cp(s),hc=null,Bu=0,s=rt;for(;s!==null;)zx(s.alternate,s),s=s.return;rt=null}}function _c(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,_R(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),hg(),jt=s,rt=l=ms(s.current,null),mt=r,bt=0,Yi=null,no=!1,pc=vi(s,r),sg=!1,gc=ys=rg=ml=io=Kt=0,Ni=Ku=null,ag=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var v=31-In(f),b=1<<v;r|=s[v],f&=~b}return aa=r,nl(),l}function cb(s,r){tt=null,F.H=zd,r===Pu||r===Pd?(r=A_(),bt=3):r===T_?(r=A_(),bt=4):bt=r===Nx?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yi=r,rt===null&&(Kt=1,Zd(s,hi(r,s.current)))}function ub(){var s=F.H;return F.H=zd,s===null?zd:s}function hb(){var s=F.A;return F.A=JC,s}function dg(){Kt=4,no||(mt&4194048)!==mt&&gs.current!==null||(pc=!0),(io&134217727)===0&&(ml&134217727)===0||jt===null||ao(jt,mt,ys,!1)}function fg(s,r,l){var f=xt;xt|=2;var v=ub(),b=hb();(jt!==s||mt!==r)&&(Jd=null,_c(s,r)),r=!1;var C=Kt;e:do try{if(bt!==0&&rt!==null){var j=rt,Z=Yi;switch(bt){case 8:hg(),C=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(r=!0);var se=bt;if(bt=0,Yi=null,xc(s,j,Z,se),l&&pc){C=0;break e}break;default:se=bt,bt=0,Yi=null,xc(s,j,Z,se)}}nR(),C=Kt;break}catch(fe){cb(s,fe)}while(!0);return r&&s.shellSuspendCounter++,Fs=ps=null,xt=f,F.H=v,F.A=b,rt===null&&(jt=null,mt=0,nl()),C}function nR(){for(;rt!==null;)db(rt)}function iR(s,r){var l=xt;xt|=2;var f=ub(),v=hb();jt!==s||mt!==r?(Jd=null,Xd=_n()+500,_c(s,r)):pc=vi(s,r);e:do try{if(bt!==0&&rt!==null){r=rt;var b=Yi;t:switch(bt){case 1:bt=0,Yi=null,xc(s,r,b,1);break;case 2:case 9:if(E_(b)){bt=0,Yi=null,fb(r);break}r=function(){bt!==2&&bt!==9||jt!==s||(bt=7),yr(s)},b.then(r,r);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:E_(b)?(bt=0,Yi=null,fb(r)):(bt=0,Yi=null,xc(s,r,b,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var j=rt;if(!C||Kb(C)){bt=0,Yi=null;var Z=j.sibling;if(Z!==null)rt=Z;else{var se=j.return;se!==null?(rt=se,tf(se)):rt=null}break t}}bt=0,Yi=null,xc(s,r,b,5);break;case 6:bt=0,Yi=null,xc(s,r,b,6);break;case 8:hg(),Kt=6;break e;default:throw Error(i(462))}}sR();break}catch(fe){cb(s,fe)}while(!0);return Fs=ps=null,F.H=f,F.A=v,xt=l,rt!==null?0:(jt=null,mt=0,nl(),Kt)}function sR(){for(;rt!==null&&!Vl();)db(rt)}function db(s){var r=Ux(s.alternate,s,aa);s.memoizedProps=s.pendingProps,r===null?tf(s):rt=r}function fb(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Dx(l,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=Dx(l,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:Cp(r);default:zx(l,r),r=rt=Nu(r,aa),r=Ux(l,r,aa)}s.memoizedProps=s.pendingProps,r===null?tf(s):rt=r}function xc(s,r,l,f){Fs=ps=null,Cp(r),hc=null,Bu=0;var v=r.return;try{if(WC(s,v,r,l,mt)){Kt=1,Zd(s,hi(l,s.current)),rt=null;return}}catch(b){if(v!==null)throw rt=v,b;Kt=1,Zd(s,hi(l,s.current)),rt=null;return}r.flags&32768?(Ke||f===1?s=!0:pc||(mt&536870912)!==0?s=!1:(no=s=!0,(f===2||f===9||f===3||f===6)&&(f=gs.current,f!==null&&f.tag===13&&(f.flags|=16384))),mb(r,s)):tf(r)}function tf(s){var r=s;do{if((r.flags&32768)!==0){mb(r,no);return}s=r.return;var l=$C(r.alternate,r,aa);if(l!==null){rt=l;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=s}while(r!==null);Kt===0&&(Kt=5)}function mb(s,r){do{var l=YC(s.alternate,s);if(l!==null){l.flags&=32767,rt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){rt=s;return}rt=s=l}while(s!==null);Kt=6,rt=null}function pb(s,r,l,f,v,b,C,j,Z){s.cancelPendingCommit=null;do nf();while(Ln!==0);if((xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Wi,Fl(s,l,b,C,j,Z),s===jt&&(rt=jt=null,mt=0),yc=r,ro=s,vc=l,lg=b,cg=v,rb=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lR(Li,function(){return xb(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=F.T,F.T=null,v=re.p,re.p=2,C=xt,xt|=4;try{QC(s,r,l)}finally{xt=C,re.p=v,F.T=f}}Ln=1,gb(),yb(),vb()}}function gb(){if(Ln===1){Ln=0;var s=ro,r=yc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var f=re.p;re.p=2;var v=xt;xt|=4;try{Xx(r,s);var b=Sg,C=Jo(s.containerInfo),j=b.focusedElem,Z=b.selectionRange;if(C!==j&&j&&j.ownerDocument&&Ql(j.ownerDocument.documentElement,j)){if(Z!==null&&el(j)){var se=Z.start,fe=Z.end;if(fe===void 0&&(fe=se),"selectionStart"in j)j.selectionStart=se,j.selectionEnd=Math.min(fe,j.value.length);else{var ye=j.ownerDocument||document,ae=ye&&ye.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),Ze=j.textContent.length,Ue=Math.min(Z.start,Ze),At=Z.end===void 0?Ue:Math.min(Z.end,Ze);!ce.extend&&Ue>At&&(C=At,At=Ue,Ue=C);var J=Su(j,Ue),Y=Su(j,At);if(J&&Y&&(ce.rangeCount!==1||ce.anchorNode!==J.node||ce.anchorOffset!==J.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var ie=ye.createRange();ie.setStart(J.node,J.offset),ce.removeAllRanges(),Ue>At?(ce.addRange(ie),ce.extend(Y.node,Y.offset)):(ie.setEnd(Y.node,Y.offset),ce.addRange(ie))}}}}for(ye=[],ce=j;ce=ce.parentNode;)ce.nodeType===1&&ye.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ye.length;j++){var pe=ye[j];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}pf=!!Eg,Sg=Eg=null}finally{xt=v,re.p=f,F.T=l}}s.current=r,Ln=2}}function yb(){if(Ln===2){Ln=0;var s=ro,r=yc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var f=re.p;re.p=2;var v=xt;xt|=4;try{Kx(s,r.alternate,r)}finally{xt=v,re.p=f,F.T=l}}Ln=3}}function vb(){if(Ln===4||Ln===3){Ln=0,Ta();var s=ro,r=yc,l=vc,f=rb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ln=5:(Ln=0,yc=ro=null,_b(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(so=null),Ho(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=F.T,v=re.p,re.p=2,F.T=null;try{for(var b=s.onRecoverableError,C=0;C<f.length;C++){var j=f[C];b(j.value,{componentStack:j.stack})}}finally{F.T=r,re.p=v}}(vc&3)!==0&&nf(),yr(s),v=s.pendingLanes,(l&4194090)!==0&&(v&42)!==0?s===ug?$u++:($u=0,ug=s):$u=0,Yu(0)}}function _b(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ru(r)))}function nf(s){return gb(),yb(),vb(),xb()}function xb(){if(Ln!==5)return!1;var s=ro,r=lg;lg=0;var l=Ho(vc),f=F.T,v=re.p;try{re.p=32>l?32:l,F.T=null,l=cg,cg=null;var b=ro,C=vc;if(Ln=0,yc=ro=null,vc=0,(xt&6)!==0)throw Error(i(331));var j=xt;if(xt|=4,ib(b.current),eb(b,b.current,C,l),xt=j,Yu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ts,b)}catch{}return!0}finally{re.p=v,F.T=f,_b(s,r)}}function bb(s,r,l){r=hi(l,r),r=Fp(s.stateNode,r,2),s=$a(s,r,2),s!==null&&(Lt(s,2),yr(s))}function Ct(s,r,l){if(s.tag===3)bb(s,s,l);else for(;r!==null;){if(r.tag===3){bb(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(so===null||!so.has(f))){s=hi(l,s),l=Sx(2),f=$a(r,l,2),f!==null&&(Ax(l,f,r,s),Lt(f,2),yr(f));break}}r=r.return}}function mg(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new eR;var v=new Set;f.set(r,v)}else v=f.get(r),v===void 0&&(v=new Set,f.set(r,v));v.has(l)||(sg=!0,v.add(l),s=rR.bind(null,s,r,l),r.then(s,s))}function rR(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,jt===s&&(mt&l)===l&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>_n()-og?(xt&2)===0&&_c(s,0):rg|=l,gc===mt&&(gc=0)),yr(s)}function wb(s,r){r===0&&(r=Rs()),s=Ha(s,r),s!==null&&(Lt(s,r),yr(s))}function aR(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),wb(s,l)}function oR(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),wb(s,l)}function lR(s,r){return Cs(s,r)}var sf=null,bc=null,pg=!1,rf=!1,gg=!1,pl=0;function yr(s){s!==bc&&s.next===null&&(bc===null?sf=bc=s:bc=bc.next=s),rf=!0,pg||(pg=!0,uR())}function Yu(s,r){if(!gg&&rf){gg=!0;do for(var l=!1,f=sf;f!==null;){if(s!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var C=f.suspendedLanes,j=f.pingedLanes;b=(1<<31-In(42|s)+1)-1,b&=v&~(C&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Ab(f,b))}else b=mt,b=yi(f,f===jt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||vi(f,b)||(l=!0,Ab(f,b));f=f.next}while(l);gg=!1}}function cR(){Tb()}function Tb(){rf=pg=!1;var s=0;pl!==0&&(vR()&&(s=pl),pl=0);for(var r=_n(),l=null,f=sf;f!==null;){var v=f.next,b=Eb(f,r);b===0?(f.next=null,l===null?sf=v:l.next=v,v===null&&(bc=l)):(l=f,(s!==0||(b&3)!==0)&&(rf=!0)),f=v}Yu(s)}function Eb(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-In(b),j=1<<C,Z=v[C];Z===-1?((j&l)===0||(j&f)!==0)&&(v[C]=Sa(j,r)):Z<=r&&(s.expiredLanes|=j),b&=~j}if(r=jt,l=mt,l=yi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===r&&(bt===2||bt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&wa(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||vi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(f!==null&&wa(f),Ho(l)){case 2:case 8:l=Xt;break;case 32:l=Li;break;case 268435456:l=Ea;break;default:l=Li}return f=Sb.bind(null,s),l=Cs(l,f),s.callbackPriority=r,s.callbackNode=l,r}return f!==null&&f!==null&&wa(f),s.callbackPriority=2,s.callbackNode=null,2}function Sb(s,r){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(nf()&&s.callbackNode!==l)return null;var f=mt;return f=yi(s,s===jt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(ob(s,f,r),Eb(s,_n()),s.callbackNode!=null&&s.callbackNode===l?Sb.bind(null,s):null)}function Ab(s,r){if(nf())return null;ob(s,r,!0)}function uR(){xR(function(){(xt&6)!==0?Cs(Qt,cR):Tb()})}function yg(){return pl===0&&(pl=zo()),pl}function Nb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:si(""+s)}function Cb(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function hR(s,r,l,f,v){if(r==="submit"&&l&&l.stateNode===v){var b=Nb((v[dn]||null).action),C=f.submitter;C&&(r=(r=C[dn]||null)?Nb(r.formAction):C.getAttribute("formAction"),r!==null&&(b=r,C=null));var j=new lr("action","action",null,f,v);s.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(pl!==0){var Z=C?Cb(v,C):new FormData(v);kp(l,{pending:!0,data:Z,method:v.method,action:b},null,Z)}}else typeof b=="function"&&(j.preventDefault(),Z=C?Cb(v,C):new FormData(v),kp(l,{pending:!0,data:Z,method:v.method,action:b},b,Z))},currentTarget:v}]})}}for(var vg=0;vg<$r.length;vg++){var _g=$r[vg],dR=_g.toLowerCase(),fR=_g[0].toUpperCase()+_g.slice(1);Zi(dR,"on"+fR)}Zi(wd,"onAnimationEnd"),Zi(Gi,"onAnimationIteration"),Zi(tl,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(dp,"onTransitionRun"),Zi(tc,"onTransitionStart"),Zi(fp,"onTransitionCancel"),Zi(Au,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Rb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],v=f.event;f=f.listeners;e:{var b=void 0;if(r)for(var C=f.length-1;0<=C;C--){var j=f[C],Z=j.instance,se=j.currentTarget;if(j=j.listener,Z!==b&&v.isPropagationStopped())break e;b=j,v.currentTarget=se;try{b(v)}catch(fe){Gd(fe)}v.currentTarget=null,b=Z}else for(C=0;C<f.length;C++){if(j=f[C],Z=j.instance,se=j.currentTarget,j=j.listener,Z!==b&&v.isPropagationStopped())break e;b=j,v.currentTarget=se;try{b(v)}catch(fe){Gd(fe)}v.currentTarget=null,b=Z}}}}function at(s,r){var l=r[xn];l===void 0&&(l=r[xn]=new Set);var f=s+"__bubble";l.has(f)||(jb(r,s,2,!1),l.add(f))}function xg(s,r,l){var f=0;r&&(f|=4),jb(l,s,f,r)}var af="_reactListening"+Math.random().toString(36).slice(2);function bg(s){if(!s[af]){s[af]=!0,ql.forEach(function(l){l!=="selectionchange"&&(mR.has(l)||xg(l,!1,s),xg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[af]||(r[af]=!0,xg("selectionchange",!1,r))}}function jb(s,r,l,f){switch(ew(r)){case 2:var v=zR;break;case 8:v=FR;break;default:v=Mg}l=v.bind(null,r,l,s),v=void 0,!Vi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(r,l,{capture:!0,passive:v}):s.addEventListener(r,l,!0):v!==void 0?s.addEventListener(r,l,{passive:v}):s.addEventListener(r,l,!1)}function wg(s,r,l,f,v){var b=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var j=f.stateNode.containerInfo;if(j===v)break;if(C===4)for(C=f.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;j!==null;){if(C=xi(j),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){f=b=C;continue e}j=j.parentNode}}f=f.return}Tn(function(){var se=b,fe=rr(l),ye=[];e:{var ae=Td.get(s);if(ae!==void 0){var ce=lr,Ze=s;switch(s){case"keypress":if(Dt(l)===0)break e;case"keydown":case"keyup":ce=Da;break;case"focusin":Ze="focus",ce=Ra;break;case"focusout":Ze="blur",ce=Ra;break;case"beforeblur":case"afterblur":ce=Ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=cr;break;case wd:case Gi:case tl:ce=Wo;break;case Au:ce=E;break;case"scroll":case"scrollend":ce=qr;break;case"wheel":ce=D;break;case"copy":case"cut":case"paste":ce=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=La;break;case"toggle":case"beforetoggle":ce=le}var Ue=(r&4)!==0,At=!Ue&&(s==="scroll"||s==="scrollend"),J=Ue?ae!==null?ae+"Capture":null:ae;Ue=[];for(var Y=se,ie;Y!==null;){var pe=Y;if(ie=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ie===null||J===null||(pe=dt(Y,J),pe!=null&&Ue.push(Xu(Y,pe,ie))),At)break;Y=Y.return}0<Ue.length&&(ae=new ce(ae,Ze,null,l,fe),ye.push({event:ae,listeners:Ue}))}}if((r&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ae&&l!==Hr&&(Ze=l.relatedTarget||l.fromElement)&&(xi(Ze)||Ze[Ps]))break e;if((ce||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(Ze=l.relatedTarget||l.toElement,ce=se,Ze=Ze?xi(Ze):null,Ze!==null&&(At=c(Ze),Ue=Ze.tag,Ze!==At||Ue!==5&&Ue!==27&&Ue!==6)&&(Ze=null)):(ce=null,Ze=se),ce!==Ze)){if(Ue=Ui,pe="onMouseLeave",J="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=La,pe="onPointerLeave",J="onPointerEnter",Y="pointer"),At=ce==null?ae:ei(ce),ie=Ze==null?ae:ei(Ze),ae=new Ue(pe,Y+"leave",ce,l,fe),ae.target=At,ae.relatedTarget=ie,pe=null,xi(fe)===se&&(Ue=new Ue(J,Y+"enter",Ze,l,fe),Ue.target=ie,Ue.relatedTarget=At,pe=Ue),At=pe,ce&&Ze)t:{for(Ue=ce,J=Ze,Y=0,ie=Ue;ie;ie=wc(ie))Y++;for(ie=0,pe=J;pe;pe=wc(pe))ie++;for(;0<Y-ie;)Ue=wc(Ue),Y--;for(;0<ie-Y;)J=wc(J),ie--;for(;Y--;){if(Ue===J||J!==null&&Ue===J.alternate)break t;Ue=wc(Ue),J=wc(J)}Ue=null}else Ue=null;ce!==null&&Pb(ye,ae,ce,Ue,!1),Ze!==null&&At!==null&&Pb(ye,At,Ze,Ue,!0)}}e:{if(ae=se?ei(se):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var Me=ka;else if(Wr(ae))if(wu)Me=hp;else{Me=up;var it=Eu}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&sr(se.elementType)&&(Me=ka):Me=zs;if(Me&&(Me=Me(s,se))){vd(ye,Me,l,fe);break e}it&&it(s,ae,se),s==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&ir(ae,"number",ae.value)}switch(it=se?ei(se):window,s){case"focusin":(Wr(it)||it.contentEditable==="true")&&(qi=it,Ba=se,Kr=null);break;case"focusout":Kr=Ba=qi=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,xd(ye,l,fe);break;case"selectionchange":if(Xl)break;case"keydown":case"keyup":xd(ye,l,fe)}var ke;if(Fe)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Fi?oi(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(Mt&&l.locale!=="ko"&&(Fi||He!=="onCompositionStart"?He==="onCompositionEnd"&&Fi&&(ke=or()):(Hn=fe,ft="value"in Hn?Hn.value:Hn.textContent,Fi=!0)),it=of(se,He),0<it.length&&(He=new qn(He,s,null,l,fe),ye.push({event:He,listeners:it}),ke?He.data=ke:(ke=zi(l),ke!==null&&(He.data=ke)))),(ke=gt?Ma(s,l):cp(s,l))&&(He=of(se,"onBeforeInput"),0<He.length&&(it=new qn("onBeforeInput","beforeinput",null,l,fe),ye.push({event:it,listeners:He}),it.data=ke)),hR(ye,s,se,l,fe)}Rb(ye,r)})}function Xu(s,r,l){return{instance:s,listener:r,currentTarget:l}}function of(s,r){for(var l=r+"Capture",f=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=dt(s,l),v!=null&&f.unshift(Xu(s,v,b)),v=dt(s,r),v!=null&&f.push(Xu(s,v,b))),s.tag===3)return f;s=s.return}return[]}function wc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Pb(s,r,l,f,v){for(var b=r._reactName,C=[];l!==null&&l!==f;){var j=l,Z=j.alternate,se=j.stateNode;if(j=j.tag,Z!==null&&Z===f)break;j!==5&&j!==26&&j!==27||se===null||(Z=se,v?(se=dt(l,b),se!=null&&C.unshift(Xu(l,se,Z))):v||(se=dt(l,b),se!=null&&C.push(Xu(l,se,Z)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var pR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function Ib(s){return(typeof s=="string"?s:""+s).replace(pR,`
`).replace(gR,"")}function Db(s,r){return r=Ib(r),Ib(s)===r}function lf(){}function St(s,r,l,f,v,b){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||wn(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&wn(s,""+f);break;case"className":Ur(s,"class",f);break;case"tabIndex":Ur(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(s,l,f);break;case"style":Os(s,f,b);break;case"data":if(r!=="object"){Ur(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=si(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&St(s,r,"name",v.name,v,null),St(s,r,"formEncType",v.formEncType,v,null),St(s,r,"formMethod",v.formMethod,v,null),St(s,r,"formTarget",v.formTarget,v,null)):(St(s,r,"encType",v.encType,v,null),St(s,r,"method",v.method,v,null),St(s,r,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=si(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=lf);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=si(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":at("beforetoggle",s),at("toggle",s),Vr(s,"popover",f);break;case"xlinkActuate":bi(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":bi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":bi(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":bi(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":bi(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":bi(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":bi(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":bi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":bi(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Vr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Na.get(l)||l,Vr(s,l,f))}}function Tg(s,r,l,f,v,b){switch(l){case"style":Os(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof f=="string"?wn(s,f):(typeof f=="number"||typeof f=="bigint")&&wn(s,""+f);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"onClick":f!=null&&(s.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),r=l.slice(2,v?l.length-7:void 0),b=s[dn]||null,b=b!=null?b[l]:null,typeof b=="function"&&s.removeEventListener(r,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,f,v);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Vr(s,l,f)}}}function Mn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var f=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:St(s,r,b,C,l,null)}}v&&St(s,r,"srcSet",l.srcSet,l,null),f&&St(s,r,"src",l.src,l,null);return;case"input":at("invalid",s);var j=b=C=v=null,Z=null,se=null;for(f in l)if(l.hasOwnProperty(f)){var fe=l[f];if(fe!=null)switch(f){case"name":v=fe;break;case"type":C=fe;break;case"checked":Z=fe;break;case"defaultChecked":se=fe;break;case"value":b=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,r));break;default:St(s,r,f,fe,l,null)}}Go(s,b,j,Z,se,C,v,!1),ls(s);return;case"select":at("invalid",s),f=C=b=null;for(v in l)if(l.hasOwnProperty(v)&&(j=l[v],j!=null))switch(v){case"value":b=j;break;case"defaultValue":C=j;break;case"multiple":f=j;default:St(s,r,v,j,l,null)}r=b,l=C,s.multiple=!!f,r!=null?Fn(s,!!f,r,!1):l!=null&&Fn(s,!!f,l,!0);return;case"textarea":at("invalid",s),b=v=f=null;for(C in l)if(l.hasOwnProperty(C)&&(j=l[C],j!=null))switch(C){case"value":f=j;break;case"defaultValue":v=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:St(s,r,C,j,l,null)}cs(s,f,v,b),ls(s);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(f=l[Z],f!=null))switch(Z){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:St(s,r,Z,f,l,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(f=0;f<Qu.length;f++)at(Qu[f],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(f=l[se],f!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:St(s,r,se,f,l,null)}return;default:if(sr(r)){for(fe in l)l.hasOwnProperty(fe)&&(f=l[fe],f!==void 0&&Tg(s,r,fe,f,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(f=l[j],f!=null&&St(s,r,j,f,l,null))}function yR(s,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,j=null,Z=null,se=null,fe=null;for(ce in l){var ye=l[ce];if(l.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":Z=ye;default:f.hasOwnProperty(ce)||St(s,r,ce,null,f,ye)}}for(var ae in f){var ce=f[ae];if(ye=l[ae],f.hasOwnProperty(ae)&&(ce!=null||ye!=null))switch(ae){case"type":b=ce;break;case"name":v=ce;break;case"checked":se=ce;break;case"defaultChecked":fe=ce;break;case"value":C=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:ce!==ye&&St(s,r,ae,ce,f,ye)}}bn(s,C,j,Z,se,fe,b,v);return;case"select":ce=C=j=ae=null;for(b in l)if(Z=l[b],l.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":ce=Z;default:f.hasOwnProperty(b)||St(s,r,b,null,f,Z)}for(v in f)if(b=f[v],Z=l[v],f.hasOwnProperty(v)&&(b!=null||Z!=null))switch(v){case"value":ae=b;break;case"defaultValue":j=b;break;case"multiple":C=b;default:b!==Z&&St(s,r,v,b,f,Z)}r=j,l=C,f=ce,ae!=null?Fn(s,!!l,ae,!1):!!f!=!!l&&(r!=null?Fn(s,!!l,r,!0):Fn(s,!!l,l?[]:"",!1));return;case"textarea":ce=ae=null;for(j in l)if(v=l[j],l.hasOwnProperty(j)&&v!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:St(s,r,j,null,f,v)}for(C in f)if(v=f[C],b=l[C],f.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":ae=v;break;case"defaultValue":ce=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&St(s,r,C,v,f,b)}It(s,ae,ce);return;case"option":for(var Ze in l)if(ae=l[Ze],l.hasOwnProperty(Ze)&&ae!=null&&!f.hasOwnProperty(Ze))switch(Ze){case"selected":s.selected=!1;break;default:St(s,r,Ze,null,f,ae)}for(Z in f)if(ae=f[Z],ce=l[Z],f.hasOwnProperty(Z)&&ae!==ce&&(ae!=null||ce!=null))switch(Z){case"selected":s.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:St(s,r,Z,ae,f,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)ae=l[Ue],l.hasOwnProperty(Ue)&&ae!=null&&!f.hasOwnProperty(Ue)&&St(s,r,Ue,null,f,ae);for(se in f)if(ae=f[se],ce=l[se],f.hasOwnProperty(se)&&ae!==ce&&(ae!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:St(s,r,se,ae,f,ce)}return;default:if(sr(r)){for(var At in l)ae=l[At],l.hasOwnProperty(At)&&ae!==void 0&&!f.hasOwnProperty(At)&&Tg(s,r,At,void 0,f,ae);for(fe in f)ae=f[fe],ce=l[fe],!f.hasOwnProperty(fe)||ae===ce||ae===void 0&&ce===void 0||Tg(s,r,fe,ae,f,ce);return}}for(var J in l)ae=l[J],l.hasOwnProperty(J)&&ae!=null&&!f.hasOwnProperty(J)&&St(s,r,J,null,f,ae);for(ye in f)ae=f[ye],ce=l[ye],!f.hasOwnProperty(ye)||ae===ce||ae==null&&ce==null||St(s,r,ye,ae,f,ce)}var Eg=null,Sg=null;function cf(s){return s.nodeType===9?s:s.ownerDocument}function Lb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ag(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ng=null;function vR(){var s=window.event;return s&&s.type==="popstate"?s===Ng?!1:(Ng=s,!0):(Ng=null,!1)}var Ob=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,xR=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(s){return kb.resolve(null).then(s).catch(bR)}:Ob;function bR(s){setTimeout(function(){throw s})}function oo(s){return s==="head"}function Vb(s,r){var l=r,f=0,v=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<f&&8>f){l=f;var C=s.ownerDocument;if(l&1&&Ju(C.documentElement),l&2&&Ju(C.body),l&4)for(l=C.head,Ju(l),C=l.firstChild;C;){var j=C.nextSibling,Z=C.nodeName;C[Is]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=j}}if(v===0){s.removeChild(b),oh(r);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:f=l.charCodeAt(0)-48;else f=0;l=b}while(l);oh(r)}function Cg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cg(l),Mr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wR(s,r,l,f){for(;s.nodeType===1;){var v=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Is])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Gs(s.nextSibling),s===null)break}return null}function TR(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Gs(s.nextSibling),s===null))return null;return s}function Rg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ER(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Gs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var jg=null;function Ub(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Bb(s,r,l){switch(r=cf(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Mr(s)}var vs=new Map,zb=new Set;function uf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oa=re.d;re.d={f:SR,r:AR,D:NR,C:CR,L:RR,m:jR,X:IR,S:PR,M:DR};function SR(){var s=oa.f(),r=ef();return s||r}function AR(s){var r=Oi(s);r!==null&&r.tag===5&&r.type==="form"?ox(r):oa.r(s)}var Tc=typeof document>"u"?null:document;function Fb(s,r,l){var f=Tc;if(f&&typeof r=="string"&&r){var v=Ft(r);v='link[rel="'+s+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),zb.has(v)||(zb.add(v),s={rel:s,crossOrigin:l,href:r},f.querySelector(v)===null&&(r=f.createElement("link"),Mn(r,"link",s),zt(r),f.head.appendChild(r)))}}function NR(s){oa.D(s),Fb("dns-prefetch",s,null)}function CR(s,r){oa.C(s,r),Fb("preconnect",s,r)}function RR(s,r,l){oa.L(s,r,l);var f=Tc;if(f&&s&&r){var v='link[rel="preload"][as="'+Ft(r)+'"]';r==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Ft(l.imageSizes)+'"]')):v+='[href="'+Ft(s)+'"]';var b=v;switch(r){case"style":b=Ec(s);break;case"script":b=Sc(s)}vs.has(b)||(s=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),vs.set(b,s),f.querySelector(v)!==null||r==="style"&&f.querySelector(eh(b))||r==="script"&&f.querySelector(th(b))||(r=f.createElement("link"),Mn(r,"link",s),zt(r),f.head.appendChild(r)))}}function jR(s,r){oa.m(s,r);var l=Tc;if(l&&s){var f=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+Ft(f)+'"][href="'+Ft(s)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Sc(s)}if(!vs.has(b)&&(s=x({rel:"modulepreload",href:s},r),vs.set(b,s),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(th(b)))return}f=l.createElement("link"),Mn(f,"link",s),zt(f),l.head.appendChild(f)}}}function PR(s,r,l){oa.S(s,r,l);var f=Tc;if(f&&s){var v=Ds(f).hoistableStyles,b=Ec(s);r=r||"default";var C=v.get(b);if(!C){var j={loading:0,preload:null};if(C=f.querySelector(eh(b)))j.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},l),(l=vs.get(b))&&Pg(s,l);var Z=C=f.createElement("link");zt(Z),Mn(Z,"link",s),Z._p=new Promise(function(se,fe){Z.onload=se,Z.onerror=fe}),Z.addEventListener("load",function(){j.loading|=1}),Z.addEventListener("error",function(){j.loading|=2}),j.loading|=4,hf(C,r,f)}C={type:"stylesheet",instance:C,count:1,state:j},v.set(b,C)}}}function IR(s,r){oa.X(s,r);var l=Tc;if(l&&s){var f=Ds(l).hoistableScripts,v=Sc(s),b=f.get(v);b||(b=l.querySelector(th(v)),b||(s=x({src:s,async:!0},r),(r=vs.get(v))&&Ig(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function DR(s,r){oa.M(s,r);var l=Tc;if(l&&s){var f=Ds(l).hoistableScripts,v=Sc(s),b=f.get(v);b||(b=l.querySelector(th(v)),b||(s=x({src:s,async:!0,type:"module"},r),(r=vs.get(v))&&Ig(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function Hb(s,r,l,f){var v=(v=Ee.current)?uf(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ec(l.href),l=Ds(v).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ec(l.href);var b=Ds(v).hoistableStyles,C=b.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=v.querySelector(eh(s)))&&!b._p&&(C.instance=b,C.state.loading=5),vs.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vs.set(s,l),b||LR(v,s,l,C.state))),r&&f===null)throw Error(i(528,""));return C}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Sc(l),l=Ds(v).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ec(s){return'href="'+Ft(s)+'"'}function eh(s){return'link[rel="stylesheet"]['+s+"]"}function qb(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function LR(s,r,l,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Mn(r,"link",l),zt(r),s.head.appendChild(r))}function Sc(s){return'[src="'+Ft(s)+'"]'}function th(s){return"script[async]"+s}function Gb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(f)return r.instance=f,zt(f),f;var v=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),zt(f),Mn(f,"style",v),hf(f,l.precedence,s),r.instance=f;case"stylesheet":v=Ec(l.href);var b=s.querySelector(eh(v));if(b)return r.state.loading|=4,r.instance=b,zt(b),b;f=qb(l),(v=vs.get(v))&&Pg(f,v),b=(s.ownerDocument||s).createElement("link"),zt(b);var C=b;return C._p=new Promise(function(j,Z){C.onload=j,C.onerror=Z}),Mn(b,"link",f),r.state.loading|=4,hf(b,l.precedence,s),r.instance=b;case"script":return b=Sc(l.src),(v=s.querySelector(th(b)))?(r.instance=v,zt(v),v):(f=l,(v=vs.get(b))&&(f=x({},l),Ig(f,v)),s=s.ownerDocument||s,v=s.createElement("script"),zt(v),Mn(v,"link",f),s.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,hf(f,l.precedence,s));return r.instance}function hf(s,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,C=0;C<f.length;C++){var j=f[C];if(j.dataset.precedence===r)b=j;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Pg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Ig(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var df=null;function Zb(s,r,l){if(df===null){var f=new Map,v=df=new Map;v.set(l,f)}else v=df,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),v=0;v<l.length;v++){var b=l[v];if(!(b[Is]||b[Bt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(r)||"";C=s+C;var j=f.get(C);j?j.push(b):f.set(C,[b])}}return f}function Wb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function MR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var nh=null;function OR(){}function kR(s,r,l){if(nh===null)throw Error(i(475));var f=nh;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=Ec(l.href),b=s.querySelector(eh(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=ff.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=b,zt(b);return}b=s.ownerDocument||s,l=qb(l),(v=vs.get(v))&&Pg(l,v),b=b.createElement("link"),zt(b);var C=b;C._p=new Promise(function(j,Z){C.onload=j,C.onerror=Z}),Mn(b,"link",l),r.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=ff.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function VR(){if(nh===null)throw Error(i(475));var s=nh;return s.stylesheets&&s.count===0&&Dg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Dg(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ff(){if(this.count--,this.count===0){if(this.stylesheets)Dg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mf=null;function Dg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mf=new Map,r.forEach(UR,s),mf=null,ff.call(s))}function UR(s,r){if(!(r.state.loading&4)){var l=mf.get(s);if(l)var f=l.get(null);else{l=new Map,mf.set(s,l);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),f=C)}f&&l.set(null,f)}v=r.instance,C=v.getAttribute("data-precedence"),b=l.get(C)||f,b===f&&l.set(null,v),l.set(C,v),this.count++,f=ff.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),r.state.loading|=4}}var ih={$$typeof:X,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function BR(s,r,l,f,v,b,C,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function $b(s,r,l,f,v,b,C,j,Z,se,fe,ye){return s=new BR(s,r,l,C,j,Z,se,ye),r=1,b===!0&&(r|=24),b=fi(3,null,null,r),s.current=b,b.stateNode=s,r=mp(),r.refCount++,s.pooledCache=r,r.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:r},vp(b),s}function Yb(s){return s?(s=Xr,s):Xr}function Qb(s,r,l,f,v,b){v=Yb(v),f.context===null?f.context=v:f.pendingContext=v,f=Ka(r),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=$a(s,f,r),l!==null&&(Xi(l,s,r),Du(l,s,r))}function Xb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Lg(s,r){Xb(s,r),(s=s.alternate)&&Xb(s,r)}function Jb(s){if(s.tag===13){var r=Ha(s,67108864);r!==null&&Xi(r,s,67108864),Lg(s,67108864)}}var pf=!0;function zR(s,r,l,f){var v=F.T;F.T=null;var b=re.p;try{re.p=2,Mg(s,r,l,f)}finally{re.p=b,F.T=v}}function FR(s,r,l,f){var v=F.T;F.T=null;var b=re.p;try{re.p=8,Mg(s,r,l,f)}finally{re.p=b,F.T=v}}function Mg(s,r,l,f){if(pf){var v=Og(f);if(v===null)wg(s,r,f,gf,l),tw(s,f);else if(qR(v,s,r,l,f))f.stopPropagation();else if(tw(s,f),r&4&&-1<HR.indexOf(s)){for(;v!==null;){var b=Oi(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=gi(b.pendingLanes);if(C!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;C;){var Z=1<<31-In(C);j.entanglements[1]|=Z,C&=~Z}yr(b),(xt&6)===0&&(Xd=_n()+500,Yu(0))}}break;case 13:j=Ha(b,2),j!==null&&Xi(j,b,2),ef(),Lg(b,2)}if(b=Og(f),b===null&&wg(s,r,f,gf,l),b===v)break;v=b}v!==null&&f.stopPropagation()}else wg(s,r,f,null,l)}}function Og(s){return s=rr(s),kg(s)}var gf=null;function kg(s){if(gf=null,s=xi(s),s!==null){var r=c(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return gf=s,null}function ew(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case Qt:return 2;case Xt:return 8;case Li:case Ul:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var Vg=!1,lo=null,co=null,uo=null,sh=new Map,rh=new Map,ho=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tw(s,r){switch(s){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":sh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(r.pointerId)}}function ah(s,r,l,f,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},r!==null&&(r=Oi(r),r!==null&&Jb(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),s)}function qR(s,r,l,f,v){switch(r){case"focusin":return lo=ah(lo,s,r,l,f,v),!0;case"dragenter":return co=ah(co,s,r,l,f,v),!0;case"mouseover":return uo=ah(uo,s,r,l,f,v),!0;case"pointerover":var b=v.pointerId;return sh.set(b,ah(sh.get(b)||null,s,r,l,f,v)),!0;case"gotpointercapture":return b=v.pointerId,rh.set(b,ah(rh.get(b)||null,s,r,l,f,v)),!0}return!1}function nw(s){var r=xi(s.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,qo(s.priority,function(){if(l.tag===13){var f=Qi();f=Fo(f);var v=Ha(l,f);v!==null&&Xi(v,l,f),Lg(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Og(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Hr=f,l.target.dispatchEvent(f),Hr=null}else return r=Oi(l),r!==null&&Jb(r),s.blockedOn=l,!1;r.shift()}return!0}function iw(s,r,l){yf(s)&&l.delete(r)}function GR(){Vg=!1,lo!==null&&yf(lo)&&(lo=null),co!==null&&yf(co)&&(co=null),uo!==null&&yf(uo)&&(uo=null),sh.forEach(iw),rh.forEach(iw)}function vf(s,r){s.blockedOn===r&&(s.blockedOn=null,Vg||(Vg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GR)))}var _f=null;function sw(s){_f!==s&&(_f=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_f===s&&(_f=null);for(var r=0;r<s.length;r+=3){var l=s[r],f=s[r+1],v=s[r+2];if(typeof f!="function"){if(kg(f||l)===null)continue;break}var b=Oi(l);b!==null&&(s.splice(r,3),r-=3,kp(b,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function oh(s){function r(Z){return vf(Z,s)}lo!==null&&vf(lo,s),co!==null&&vf(co,s),uo!==null&&vf(uo,s),sh.forEach(r),rh.forEach(r);for(var l=0;l<ho.length;l++){var f=ho[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ho.length&&(l=ho[0],l.blockedOn===null);)nw(l),l.blockedOn===null&&ho.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],b=l[f+1],C=v[dn]||null;if(typeof b=="function")C||sw(l);else if(C){var j=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[dn]||null)j=C.formAction;else if(kg(v)!==null)continue}else j=C.action;typeof j=="function"?l[f+1]=j:(l.splice(f,3),f-=3),sw(l)}}}function Ug(s){this._internalRoot=s}xf.prototype.render=Ug.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,f=Qi();Qb(l,f,s,r,null,null)},xf.prototype.unmount=Ug.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Qb(s.current,2,null,s,null,null),ef(),r[Ps]=null}};function xf(s){this._internalRoot=s}xf.prototype.unstable_scheduleHydration=function(s){if(s){var r=js();s={blockedOn:null,target:s,priority:r};for(var l=0;l<ho.length&&r!==0&&r<ho[l].priority;l++);ho.splice(l,0,s),l===0&&nw(s)}};var rw=e.version;if(rw!=="19.1.1")throw Error(i(527,rw,"19.1.1"));re.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var ZR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{ts=bf.inject(ZR),hn=bf}catch{}}return ch.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,f="",v=bx,b=wx,C=Tx,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(j=r.unstable_transitionCallbacks)),r=$b(s,1,!1,null,null,l,f,v,b,C,j,null),s[Ps]=r.current,bg(s),new Ug(r)},ch.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var f=!1,v="",b=bx,C=wx,j=Tx,Z=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),r=$b(s,1,!0,r,l??null,f,v,b,C,j,Z,se),r.context=Yb(null),l=r.current,f=Qi(),f=Fo(f),v=Ka(f),v.callback=null,$a(l,v,f),l=f,r.current.lanes=l,Lt(r,l),yr(r),s[Ps]=r.current,bg(s),new xf(r)},ch.version="19.1.1",ch}var pw;function tj(){if(pw)return Fg.exports;pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fg.exports=ej(),Fg.exports}var nj=tj();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gw="popstate";function ij(t={}){function e(a,c){let{pathname:u="/",search:m="",hash:g=""}=Ll(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ay("",{pathname:u,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(a,c){let u=a.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let g=a.location.href,_=g.indexOf("#");m=_===-1?g:g.slice(0,_)}return m+"#"+(typeof c=="string"?c:Dh(c))}function i(a,c){As(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return rj(e,n,i,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function As(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sj(){return Math.random().toString(36).substring(2,10)}function yw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ay(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ll(e):e,state:n,key:e&&e.key||i||sj()}}function Dh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function rj(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:c=!1}=i,u=a.history,m="POP",g=null,_=x();_==null&&(_=0,u.replaceState({...u.state,idx:_},""));function x(){return(u.state||{idx:null}).idx}function T(){m="POP";let V=x(),$=V==null?null:V-_;_=V,g&&g({action:m,location:z.location,delta:$})}function A(V,$){m="PUSH";let K=Ay(z.location,V,$);n&&n(K,V),_=x()+1;let X=yw(K,_),_e=z.createHref(K);try{u.pushState(X,"",_e)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(_e)}c&&g&&g({action:m,location:z.location,delta:1})}function I(V,$){m="REPLACE";let K=Ay(z.location,V,$);n&&n(K,V),_=x();let X=yw(K,_),_e=z.createHref(K);u.replaceState(X,"",_e),c&&g&&g({action:m,location:z.location,delta:0})}function P(V){return aj(V)}let z={get action(){return m},get location(){return t(a,u)},listen(V){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(gw,T),g=V,()=>{a.removeEventListener(gw,T),g=null}},createHref(V){return e(a,V)},createURL:P,encodeLocation(V){let $=P(V);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:I,go(V){return u.go(V)}};return z}function aj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Dh(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function IE(t,e,n="/"){return oj(t,e,n,!1)}function oj(t,e,n,i){let a=typeof e=="string"?Ll(e):e,c=fa(a.pathname||"/",n);if(c==null)return null;let u=DE(t);lj(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let _=_j(c);m=yj(u[g],_,i)}return m}function DE(t,e=[],n=[],i="",a=!1){let c=(u,m,g=a,_)=>{let x={relativePath:_===void 0?u.path||"":_,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&g)return;Ut(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let T=ua([i,x.relativePath]),A=n.concat(x);u.children&&u.children.length>0&&(Ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),DE(u.children,e,A,T,g)),!(u.path==null&&!u.index)&&e.push({path:T,score:pj(T,u.index),routesMeta:A})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of LE(u.path))c(u,m,!0,g)}),e}function LE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let u=LE(i.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...u),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function lj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var cj=/^:[\w-]+$/,uj=3,hj=2,dj=1,fj=10,mj=-2,vw=t=>t==="*";function pj(t,e){let n=t.split("/"),i=n.length;return n.some(vw)&&(i+=mj),e&&(i+=hj),n.filter(a=>!vw(a)).reduce((a,c)=>a+(cj.test(c)?uj:c===""?dj:fj),i)}function gj(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function yj(t,e,n=!1){let{routesMeta:i}=t,a={},c="/",u=[];for(let m=0;m<i.length;++m){let g=i[m],_=m===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=nm({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},x),A=g.route;if(!T&&_&&n&&!i[i.length-1].route.index&&(T=nm({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:ua([c,T.pathname]),pathnameBase:Tj(ua([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=ua([c,T.pathnameBase]))}return u}function nm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=vj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((_,{paramName:x,isOptional:T},A)=>{if(x==="*"){let P=m[A]||"";u=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const I=m[A];return T&&!I?_[x]=void 0:_[x]=(I||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:u,pattern:t}}function vj(t,e=!1,n=!0){As(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function _j(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return As(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function xj(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:bj(n,e):e,search:Ej(i),hash:Sj(a)}}function bj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I0(t){let e=wj(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function D0(t,e,n,i=!1){let a;typeof t=="string"?a=Ll(t):(a={...t},Ut(!a.pathname||!a.pathname.includes("?"),Zg("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),Zg("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),Zg("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,m;if(u==null)m=n;else{let T=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=xj(a,m),_=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||x)&&(g.pathname+="/"),g}var ua=t=>t.join("/").replace(/\/\/+/g,"/"),Tj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ej=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var Nj=["GET",...ME];new Set(Nj);var tu=O.createContext(null);tu.displayName="DataRouter";var Cm=O.createContext(null);Cm.displayName="DataRouterState";O.createContext(!1);var OE=O.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var Cj=O.createContext(new Map);Cj.displayName="Fetchers";var Rj=O.createContext(null);Rj.displayName="Await";var Qs=O.createContext(null);Qs.displayName="Navigation";var $h=O.createContext(null);$h.displayName="Location";var Xs=O.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var L0=O.createContext(null);L0.displayName="RouteError";function jj(t,{relative:e}={}){Ut(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Qs),{hash:a,pathname:c,search:u}=Yh(t,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:ua([n,c])),i.createHref({pathname:m,search:u,hash:a})}function nu(){return O.useContext($h)!=null}function Ns(){return Ut(nu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext($h).location}var kE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(t){O.useContext(Qs).static||O.useLayoutEffect(t)}function Mo(){let{isDataRoute:t}=O.useContext(Xs);return t?Gj():Pj()}function Pj(){Ut(nu(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(tu),{basename:e,navigator:n}=O.useContext(Qs),{matches:i}=O.useContext(Xs),{pathname:a}=Ns(),c=JSON.stringify(I0(i)),u=O.useRef(!1);return VE(()=>{u.current=!0}),O.useCallback((g,_={})=>{if(As(u.current,kE),!u.current)return;if(typeof g=="number"){n.go(g);return}let x=D0(g,JSON.parse(c),a,_.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ua([e,x.pathname])),(_.replace?n.replace:n.push)(x,_.state,_)},[e,n,c,a,t])}var Ij=O.createContext(null);function Dj(t){let e=O.useContext(Xs).outlet;return e&&O.createElement(Ij.Provider,{value:t},e)}function Yh(t,{relative:e}={}){let{matches:n}=O.useContext(Xs),{pathname:i}=Ns(),a=JSON.stringify(I0(n));return O.useMemo(()=>D0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function Lj(t,e){return UE(t,e)}function UE(t,e,n,i,a){Ut(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(Qs),{matches:u}=O.useContext(Xs),m=u[u.length-1],g=m?m.params:{},_=m?m.pathname:"/",x=m?m.pathnameBase:"/",T=m&&m.route;{let K=T&&T.path||"";BE(_,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=Ns(),I;if(e){let K=typeof e=="string"?Ll(e):e;Ut(x==="/"||K.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${K.pathname}" was given in the \`location\` prop.`),I=K}else I=A;let P=I.pathname||"/",z=P;if(x!=="/"){let K=x.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(K.length).join("/")}let V=IE(t,{pathname:z});As(T||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),As(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Uj(V&&V.map(K=>Object.assign({},K,{params:Object.assign({},g,K.params),pathname:ua([x,c.encodeLocation?c.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?x:ua([x,c.encodeLocation?c.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,i,a);return e&&$?O.createElement($h.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},$):$}function Mj(){let t=qj(),e=Aj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var Oj=O.createElement(Mj,null),kj=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(Xs.Provider,{value:this.props.routeContext},O.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vj({routeContext:t,match:e,children:n}){let i=O.useContext(tu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Xs.Provider,{value:t},n)}function Uj(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let _=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Ut(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let m=!1,g=-1;if(n)for(let _=0;_<c.length;_++){let x=c[_];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=_),x.route.id){let{loaderData:T,errors:A}=n,I=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||I){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((_,x,T)=>{let A,I=!1,P=null,z=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,P=x.route.errorElement||Oj,m&&(g<0&&T===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,z=null):g===T&&(I=!0,z=x.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,T+1)),$=()=>{let K;return A?K=P:I?K=z:x.route.Component?K=O.createElement(x.route.Component,null):x.route.element?K=x.route.element:K=_,O.createElement(Vj,{match:x,routeContext:{outlet:_,matches:V,isDataRoute:n!=null},children:K})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?O.createElement(kj,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:$(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:i}):$()},null)}function M0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bj(t){let e=O.useContext(tu);return Ut(e,M0(t)),e}function zj(t){let e=O.useContext(Cm);return Ut(e,M0(t)),e}function Fj(t){let e=O.useContext(Xs);return Ut(e,M0(t)),e}function O0(t){let e=Fj(t),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Hj(){return O0("useRouteId")}function qj(){let t=O.useContext(L0),e=zj("useRouteError"),n=O0("useRouteError");return t!==void 0?t:e.errors?.[n]}function Gj(){let{router:t}=Bj("useNavigate"),e=O0("useNavigate"),n=O.useRef(!1);return VE(()=>{n.current=!0}),O.useCallback(async(a,c={})=>{As(n.current,kE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var _w={};function BE(t,e,n){!e&&!_w[t]&&(_w[t]=!0,As(!1,n))}O.memo(Zj);function Zj({routes:t,future:e,state:n,unstable_onError:i}){return UE(t,void 0,n,i,e)}function k0({to:t,replace:e,state:n,relative:i}){Ut(nu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Qs);As(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(Xs),{pathname:u}=Ns(),m=Mo(),g=D0(t,I0(c),u,i==="path"),_=JSON.stringify(g);return O.useEffect(()=>{m(JSON.parse(_),{replace:e,state:n,relative:i})},[m,_,i,e,n]),null}function Wj(t){return Dj(t.context)}function On(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kj({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:c=!1}){Ut(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);typeof n=="string"&&(n=Ll(n));let{pathname:g="/",search:_="",hash:x="",state:T=null,key:A="default"}=n,I=O.useMemo(()=>{let P=fa(g,u);return P==null?null:{location:{pathname:P,search:_,hash:x,state:T,key:A},navigationType:i}},[u,g,_,x,T,A,i]);return As(I!=null,`<Router basename="${u}"> is not able to match the URL "${g}${_}${x}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(Qs.Provider,{value:m},O.createElement($h.Provider,{children:e,value:I}))}function $j({children:t,location:e}){return Lj(Ny(t),e)}function Ny(t,e=[]){let n=[];return O.Children.forEach(t,(i,a)=>{if(!O.isValidElement(i))return;let c=[...e,a];if(i.type===O.Fragment){n.push.apply(n,Ny(i.props.children,c));return}Ut(i.type===On,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ny(i.props.children,c)),n.push(u)}),n}var Mf="get",Of="application/x-www-form-urlencoded";function Rm(t){return t!=null&&typeof t.tagName=="string"}function Yj(t){return Rm(t)&&t.tagName.toLowerCase()==="button"}function Qj(t){return Rm(t)&&t.tagName.toLowerCase()==="form"}function Xj(t){return Rm(t)&&t.tagName.toLowerCase()==="input"}function Jj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eP(t,e){return t.button===0&&(!e||e==="_self")&&!Jj(t)}var wf=null;function tP(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var nP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wg(t){return t!=null&&!nP.has(t)?(As(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function iP(t,e){let n,i,a,c,u;if(Qj(t)){let m=t.getAttribute("action");i=m?fa(m,e):null,n=t.getAttribute("method")||Mf,a=Wg(t.getAttribute("enctype"))||Of,c=new FormData(t)}else if(Yj(t)||Xj(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(i=g?fa(g,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Mf,a=Wg(t.getAttribute("formenctype"))||Wg(m.getAttribute("enctype"))||Of,c=new FormData(m,t),!tP()){let{name:_,type:x,value:T}=t;if(x==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,T)}}else{if(Rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,i=null,a=Of,u=t}return c&&a==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sP(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&fa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function rP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oP(t,e,n){let i=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let u=await rP(c,n);return u.links?u.links():[]}return[]}));return hP(i.flat(1).filter(aP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xw(t,e,n,i,a,c){let u=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>n[_].pathname!==g.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,_)=>u(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(u(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function lP(t,e,{includeHydrateFallback:n}={}){return cP(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function cP(t){return[...new Set(t)]}function uP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function hP(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let c=JSON.stringify(uP(a));return n.has(c)||(n.add(c),i.push({key:c,link:a})),i},[])}function zE(){let t=O.useContext(tu);return V0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dP(){let t=O.useContext(Cm);return V0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U0=O.createContext(void 0);U0.displayName="FrameworkContext";function FE(){let t=O.useContext(U0);return V0(t,"You must render this element inside a <HydratedRouter> element"),t}function fP(t,e){let n=O.useContext(U0),[i,a]=O.useState(!1),[c,u]=O.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:x,onTouchStart:T}=e,A=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let z=$=>{$.forEach(K=>{u(K.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[t]),O.useEffect(()=>{if(i){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[i]);let I=()=>{a(!0)},P=()=>{a(!1),u(!1)};return n?t!=="intent"?[c,A,{}]:[c,A,{onFocus:uh(m,I),onBlur:uh(g,P),onMouseEnter:uh(_,I),onMouseLeave:uh(x,P),onTouchStart:uh(T,I)}]:[!1,A,{}]}function uh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mP({page:t,...e}){let{router:n}=zE(),i=O.useMemo(()=>IE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(gP,{page:t,matches:i,...e}):null}function pP(t){let{manifest:e,routeModules:n}=FE(),[i,a]=O.useState([]);return O.useEffect(()=>{let c=!1;return oP(t,e,n).then(u=>{c||a(u)}),()=>{c=!0}},[t,e,n]),i}function gP({page:t,matches:e,...n}){let i=Ns(),{manifest:a,routeModules:c}=FE(),{basename:u}=zE(),{loaderData:m,matches:g}=dP(),_=O.useMemo(()=>xw(t,e,g,a,i,"data"),[t,e,g,a,i]),x=O.useMemo(()=>xw(t,e,g,a,i,"assets"),[t,e,g,a,i]),T=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,z=!1;if(e.forEach($=>{let K=a.routes[$.route.id];!K||!K.hasLoader||(!_.some(X=>X.route.id===$.route.id)&&$.route.id in m&&c[$.route.id]?.shouldRevalidate||K.hasClientLoader?z=!0:P.add($.route.id))}),P.size===0)return[];let V=sP(t,u,"data");return z&&P.size>0&&V.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[V.pathname+V.search]},[u,m,i,a,_,e,t,c]),A=O.useMemo(()=>lP(x,a),[x,a]),I=pP(x);return O.createElement(O.Fragment,null,T.map(P=>O.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),A.map(P=>O.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:z})=>O.createElement("link",{key:P,nonce:n.nonce,...z})))}function yP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HE&&(window.__reactRouterVersion="7.9.1")}catch{}function vP({basename:t,children:e,window:n}){let i=O.useRef();i.current==null&&(i.current=ij({window:n,v5Compat:!0}));let a=i.current,[c,u]=O.useState({action:a.action,location:a.location}),m=O.useCallback(g=>{O.startTransition(()=>u(g))},[u]);return O.useLayoutEffect(()=>a.listen(m),[a,m]),O.createElement(Kj,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:c,replace:u,state:m,target:g,to:_,preventScrollReset:x,viewTransition:T,...A},I){let{basename:P}=O.useContext(Qs),z=typeof _=="string"&&qE.test(_),V,$=!1;if(typeof _=="string"&&z&&(V=_,HE))try{let B=new URL(window.location.href),W=_.startsWith("//")?new URL(B.protocol+_):new URL(_),q=fa(W.pathname,P);W.origin===B.origin&&q!=null?_=q+W.search+W.hash:$=!0}catch{As(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=jj(_,{relative:a}),[X,_e,de]=fP(i,A),we=bP(_,{replace:u,state:m,target:g,preventScrollReset:x,relative:a,viewTransition:T});function U(B){e&&e(B),B.defaultPrevented||we(B)}let M=O.createElement("a",{...A,...de,href:V||K,onClick:$||c?e:U,ref:yP(I,_e),target:g,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?O.createElement(O.Fragment,null,M,O.createElement(mP,{page:K})):M});Qe.displayName="Link";var fh=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:c,to:u,viewTransition:m,children:g,..._},x){let T=Yh(u,{relative:_.relative}),A=Ns(),I=O.useContext(Cm),{navigator:P,basename:z}=O.useContext(Qs),V=I!=null&&AP(T)&&m===!0,$=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,K=A.pathname,X=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(K=K.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&z&&(X=fa(X,z)||X);const _e=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let de=K===$||!a&&K.startsWith($)&&K.charAt(_e)==="/",we=X!=null&&(X===$||!a&&X.startsWith($)&&X.charAt($.length)==="/"),U={isActive:de,isPending:we,isTransitioning:V},M=de?e:void 0,B;typeof i=="function"?B=i(U):B=[i,de?"active":null,we?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(U):c;return O.createElement(Qe,{..._,"aria-current":M,className:B,ref:x,style:W,to:u,viewTransition:m},typeof g=="function"?g(U):g)});fh.displayName="NavLink";var _P=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:c,method:u=Mf,action:m,onSubmit:g,relative:_,preventScrollReset:x,viewTransition:T,...A},I)=>{let P=EP(),z=SP(m,{relative:_}),V=u.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&qE.test(m),K=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let _e=X.nativeEvent.submitter,de=_e?.getAttribute("formmethod")||u;P(_e||X.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:a,state:c,relative:_,preventScrollReset:x,viewTransition:T})};return O.createElement("form",{ref:I,method:V,action:z,onSubmit:i?g:K,...A,"data-discover":!$&&t==="render"?"true":void 0})});_P.displayName="Form";function xP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(t){let e=O.useContext(tu);return Ut(e,xP(t)),e}function bP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:u}={}){let m=Mo(),g=Ns(),_=Yh(t,{relative:c});return O.useCallback(x=>{if(eP(x,e)){x.preventDefault();let T=n!==void 0?n:Dh(g)===Dh(_);m(t,{replace:T,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[g,m,_,n,i,e,t,a,c,u])}var wP=0,TP=()=>`__${String(++wP)}__`;function EP(){let{router:t}=GE("useSubmit"),{basename:e}=O.useContext(Qs),n=Hj();return O.useCallback(async(i,a={})=>{let{action:c,method:u,encType:m,formData:g,body:_}=iP(i,e);if(a.navigate===!1){let x=a.fetcherKey||TP();await t.fetch(x,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||u,formEncType:a.encType||m,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||u,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function SP(t,{relative:e}={}){let{basename:n}=O.useContext(Qs),i=O.useContext(Xs);Ut(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),c={...Yh(t||".",{relative:e})},u=Ns();if(t==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let x=m.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ua([n,c.pathname])),Dh(c)}function AP(t,{relative:e}={}){let n=O.useContext(OE);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=GE("useViewTransitionState"),a=Yh(t,{relative:e});if(!n.isTransitioning)return!1;let c=fa(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=fa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return nm(a.pathname,u)!=null||nm(a.pathname,c)!=null}var NP=PE();const CP=()=>{};var bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},RP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=t[n++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=t[n++],u=t[n++],m=t[n++],g=((a&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const c=t[a],u=a+1<t.length,m=u?t[a+1]:0,g=a+2<t.length,_=g?t[a+2]:0,x=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|_>>6,I=_&63;g||(I=64,u||(A=64)),i.push(n[x],n[T],n[A],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const c=n[t.charAt(a++)],m=a<t.length?n[t.charAt(a)]:0;++a;const _=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,c==null||m==null||_==null||T==null)throw new jP;const A=c<<2|m>>4;if(i.push(A),_!==64){const I=m<<4&240|_>>2;if(i.push(I),T!==64){const P=_<<6&192|T;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PP=function(t){const e=ZE(t);return WE.encodeByteArray(e,!0)},im=function(t){return PP(t).replace(/\./g,"")},KE=function(t){try{return WE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=()=>IP().__FIREBASE_DEFAULTS__,LP=()=>{if(typeof process>"u"||typeof bw>"u")return;const t=bw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return CP()||DP()||LP()||MP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$E=t=>jm()?.emulatorHosts?.[t],OP=t=>{const e=$E(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},YE=()=>jm()?.config,QE=t=>jm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[im(JSON.stringify(n)),im(JSON.stringify(u)),""].join(".")}const wh={};function UP(){const t={prod:[],emulator:[]};for(const e of Object.keys(wh))wh[e]?t.emulator.push(e):t.prod.push(e);return t}function BP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ww=!1;function JE(t,e){if(typeof window>"u"||typeof document>"u"||!iu(window.location.host)||wh[t]===e||wh[t]||ww)return;wh[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=UP().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function _(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{ww=!0,u()},A}function x(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=BP(i),I=n("text"),P=document.getElementById(I)||document.createElement("span"),z=n("learnmore"),V=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),K=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;m(X),x(V,z);const _e=_();g(K,$),X.append(K,P,V,_e),document.body.appendChild(X)}c?(P.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function FP(){const t=jm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZP(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WP(){return!FP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KP(){try{return typeof indexedDB=="object"}catch{return!1}}function $P(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="FirebaseError";class xa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=YP,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}}class Qh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],u=c?QP(c,i):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new xa(a,m,i)}}function QP(t,e){return t.replace(XP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const XP=/\{\$([^}]+)}/g;function JP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const c=t[a],u=e[a];if(Tw(c)&&Tw(u)){if(!Ao(c,u))return!1}else if(c!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Tw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,c]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function ph(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eI(t,e){const n=new tI(t,e);return n.subscribe.bind(n)}class tI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Kg),a.error===void 0&&(a.error=Kg),a.complete===void 0&&(a.complete=Kg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Cl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rI(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(t){return t===yl?void 0:t}function rI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const oI={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},lI=lt.INFO,cI={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},uI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=cI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B0{constructor(e){this.name=e,this._logLevel=lI,this._logHandler=uI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const hI=(t,e)=>e.some(n=>t instanceof n);let Ew,Sw;function dI(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,Cy=new WeakMap,tS=new WeakMap,$g=new WeakMap,z0=new WeakMap;function mI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(bo(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&eS.set(n,t)}).catch(()=>{}),z0.set(e,t),e}function pI(t){if(Cy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Cy.set(t,e)}let Ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gI(t){Ry=t(Ry)}function yI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yg(this),e,...n);return tS.set(i,e.sort?e.sort():[e]),bo(i)}:fI().includes(t)?function(...e){return t.apply(Yg(this),e),bo(eS.get(this))}:function(...e){return bo(t.apply(Yg(this),e))}}function vI(t){return typeof t=="function"?yI(t):(t instanceof IDBTransaction&&pI(t),hI(t,dI())?new Proxy(t,Ry):t)}function bo(t){if(t instanceof IDBRequest)return mI(t);if($g.has(t))return $g.get(t);const e=vI(t);return e!==t&&($g.set(t,e),z0.set(e,t)),e}const Yg=t=>z0.get(t);function _I(t,e,{blocked:n,upgrade:i,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),m=bo(u);return i&&u.addEventListener("upgradeneeded",g=>{i(bo(u.result),g.oldVersion,g.newVersion,bo(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const xI=["get","getKey","getAll","getAllKeys","count"],bI=["put","add","delete","clear"],Qg=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=bI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||xI.includes(n)))return;const c=async function(u,...m){const g=this.transaction(u,a?"readwrite":"readonly");let _=g.store;return i&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return Qg.set(e,c),c}gI(t=>({...t,get:(e,n,i)=>Aw(e,n)||t.get(e,n,i),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TI(t){return t.getComponent()?.type==="VERSION"}const jy="@firebase/app",Nw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new B0("@firebase/app"),EI="@firebase/app-compat",SI="@firebase/analytics-compat",AI="@firebase/analytics",NI="@firebase/app-check-compat",CI="@firebase/app-check",RI="@firebase/auth",jI="@firebase/auth-compat",PI="@firebase/database",II="@firebase/data-connect",DI="@firebase/database-compat",LI="@firebase/functions",MI="@firebase/functions-compat",OI="@firebase/installations",kI="@firebase/installations-compat",VI="@firebase/messaging",UI="@firebase/messaging-compat",BI="@firebase/performance",zI="@firebase/performance-compat",FI="@firebase/remote-config",HI="@firebase/remote-config-compat",qI="@firebase/storage",GI="@firebase/storage-compat",ZI="@firebase/firestore",WI="@firebase/ai",KI="@firebase/firestore-compat",$I="firebase",YI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="[DEFAULT]",QI={[jy]:"fire-core",[EI]:"fire-core-compat",[AI]:"fire-analytics",[SI]:"fire-analytics-compat",[CI]:"fire-app-check",[NI]:"fire-app-check-compat",[RI]:"fire-auth",[jI]:"fire-auth-compat",[PI]:"fire-rtdb",[II]:"fire-data-connect",[DI]:"fire-rtdb-compat",[LI]:"fire-fn",[MI]:"fire-fn-compat",[OI]:"fire-iid",[kI]:"fire-iid-compat",[VI]:"fire-fcm",[UI]:"fire-fcm-compat",[BI]:"fire-perf",[zI]:"fire-perf-compat",[FI]:"fire-rc",[HI]:"fire-rc-compat",[qI]:"fire-gcs",[GI]:"fire-gcs-compat",[ZI]:"fire-fst",[KI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[$I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map,XI=new Map,Iy=new Map;function Cw(t,e){try{t.container.addComponent(e)}catch(n){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hc(t){const e=t.name;if(Iy.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of sm.values())Cw(n,t);for(const n of XI.values())Cw(n,t);return!0}function F0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Qh("app","Firebase",JI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=YI;function nS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Py,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw wo.create("bad-app-name",{appName:String(a)});if(n||(n=YE()),!n)throw wo.create("no-options");const c=sm.get(a);if(c){if(Ao(n,c.options)&&Ao(i,c.config))return c;throw wo.create("duplicate-app",{appName:a})}const u=new aI(a);for(const g of Iy.values())u.addComponent(g);const m=new e4(n,i,u);return sm.set(a,m),m}function iS(t=Py){const e=sm.get(t);if(!e&&t===Py&&YE())return nS();if(!e)throw wo.create("no-app",{appName:t});return e}function To(t,e,n){let i=QI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(u.join(" "));return}Hc(new Cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebase-heartbeat-database",n4=1,Lh="firebase-heartbeat-store";let Xg=null;function sS(){return Xg||(Xg=_I(t4,n4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw wo.create("idb-open",{originalErrorMessage:t.message})})),Xg}async function i4(t){try{const n=(await sS()).transaction(Lh),i=await n.objectStore(Lh).get(rS(t));return await n.done,i}catch(e){if(e instanceof xa)ma.warn(e.message);else{const n=wo.create("idb-get",{originalErrorMessage:e?.message});ma.warn(n.message)}}}async function Rw(t,e){try{const i=(await sS()).transaction(Lh,"readwrite");await i.objectStore(Lh).put(e,rS(t)),await i.done}catch(n){if(n instanceof xa)ma.warn(n.message);else{const i=wo.create("idb-set",{originalErrorMessage:n?.message});ma.warn(i.message)}}}function rS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1024,r4=30;class a4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>r4){const a=c4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ma.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jw(),{heartbeatsToSend:n,unsentEntries:i}=o4(this._heartbeatsCache.heartbeats),a=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ma.warn(e),""}}}function jw(){return new Date().toISOString().substring(0,10)}function o4(t,e=s4){const n=[];let i=t.slice();for(const a of t){const c=n.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),Pw(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Pw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class l4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KP()?$P().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pw(t){return im(JSON.stringify({version:2,heartbeats:t})).length}function c4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){Hc(new Cl("platform-logger",e=>new wI(e),"PRIVATE")),Hc(new Cl("heartbeat",e=>new a4(e),"PRIVATE")),To(jy,Nw,t),To(jy,Nw,"esm2020"),To("fire-js","")}u4("");function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h4=aS,oS=new Qh("auth","Firebase",aS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new B0("@firebase/auth");function d4(t,...e){rm.logLevel<=lt.WARN&&rm.warn(`Auth (${su}): ${t}`,...e)}function kf(t,...e){rm.logLevel<=lt.ERROR&&rm.error(`Auth (${su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,...e){throw H0(t,...e)}function xr(t,...e){return H0(t,...e)}function lS(t,e,n){const i={...h4(),[e]:n};return new Qh("auth","Firebase",i).create(e,{appName:t.name})}function ha(t){return lS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return oS.create(t,...e)}function qe(t,e,...n){if(!t)throw H0(e,...n)}function la(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function pa(t,e){t||la(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){return typeof self<"u"&&self.location?.href||""}function f4(){return Iw()==="http:"||Iw()==="https:"}function Iw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f4()||qP()||"connection"in navigator)?navigator.onLine:!0}function p4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,pa(n>e,"Short delay should be less than long delay!"),this.isMobile=zP()||GP()}get(){return m4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t,e){pa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v4=new Jh(3e4,6e4);function ba(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jr(t,e,n,i,a={}){return uS(t,a,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const m=Xh({key:t.config.apiKey,...u}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const _={method:e,headers:g,...c};return HP()||(_.referrerPolicy="no-referrer"),t.emulatorConfig&&iu(t.emulatorConfig.host)&&(_.credentials="include"),cS.fetch()(await hS(t,t.config.apiHost,n,m),_)})}async function uS(t,e,n){t._canInitEmulator=!1;const i={...g4,...e};try{const a=new x4(t),c=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Tf(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(t,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Tf(t,"email-already-in-use",u);if(g==="USER_DISABLED")throw Tf(t,"user-disabled",u);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw lS(t,x,_);$s(t,x)}}catch(a){if(a instanceof xa)throw a;$s(t,"network-request-failed",{message:String(a)})}}async function ed(t,e,n,i,a={}){const c=await jr(t,e,n,i,a);return"mfaPendingCredential"in c&&$s(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function hS(t,e,n,i){const a=`${e}${n}?${i}`,c=t,u=c.config.emulator?q0(t.config,a):`${t.config.apiScheme}://${a}`;return y4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function _4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(xr(this.auth,"network-request-failed")),v4.get())})}}function Tf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=xr(t,e,i);return a.customData._tokenResponse=n,a}function Dw(t){return t!==void 0&&t.enterprise!==void 0}class b4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w4(t,e){return jr(t,"GET","/v2/recaptchaConfig",ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function am(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E4(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=G0(i);qe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,u=c?.sign_in_provider;return{claims:a,token:i,authTime:Th(Jg(a.auth_time)),issuedAtTime:Th(Jg(a.iat)),expirationTime:Th(Jg(a.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jg(t){return Number(t)*1e3}function G0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=KE(n);return a?JSON.parse(a):(kf("Failed to decode base64 JWT payload"),null)}catch(a){return kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Lw(t){const e=G0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xa&&S4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function S4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t){const e=t.auth,n=await t.getIdToken(),i=await qc(t,am(e,{idToken:n}));qe(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=a.providerUserInfo?.length?dS(a.providerUserInfo):[],u=C4(t.providerData,c),m=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!u?.length,_=m?g:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ly(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,x)}async function N4(t){const e=vn(t);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function dS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){const n=await uS(t,{},async()=>{const i=Xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=t.config,u=await hS(t,a,"/v1/token",`key=${c}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return t.emulatorConfig&&iu(t.emulatorConfig.host)&&(g.credentials="include"),cS.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j4(t,e){return jr(t,"POST","/v2/accounts:revokeToken",ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:c}=await R4(e,n);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:c}=n,u=new kc;return i&&(qe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(qe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),c&&(qe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kc,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ws{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new A4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ly(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await qc(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E4(this,e)}reload(){return N4(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await om(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(ha(this.auth));const e=await this.getIdToken();return await qc(this,T4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:P,stsTokenManager:z}=n;qe(T&&z,e,"internal-error");const V=kc.fromJSON(this.name,z);qe(typeof T=="string",e,"internal-error"),mo(i,e.name),mo(a,e.name),qe(typeof A=="boolean",e,"internal-error"),qe(typeof I=="boolean",e,"internal-error"),mo(c,e.name),mo(u,e.name),mo(m,e.name),mo(g,e.name),mo(_,e.name),mo(x,e.name);const $=new Ws({uid:T,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:V,createdAt:_,lastLoginAt:x});return P&&Array.isArray(P)&&($.providerData=P.map(K=>({...K}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,i=!1){const a=new kc;a.updateFromServerResponse(n);const c=new Ws({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await om(c),c}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];qe(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?dS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!c?.length,m=new kc;m.updateFromIdToken(i);const g=new Ws({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;function ca(t){pa(t instanceof Function,"Expected a class definition");let e=Mw.get(t);return e?(pa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fS.type="NONE";const Ow=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Vc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,c),this.fullPersistenceKey=Vf("persistence",a.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await am(this.auth,{idToken:e}).catch(()=>{});return n?Ws._fromGetAccountInfoResponse(this.auth,n,e):null}return Ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vc(ca(Ow),e,i);const a=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=a[0]||ca(Ow);const u=Vf(i,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const x=await _._get(u);if(x){let T;if(typeof x=="string"){const A=await am(e,{idToken:x}).catch(()=>{});if(!A)break;T=await Ws._fromGetAccountInfoResponse(e,A,x)}else T=Ws._fromJSON(e,x);_!==c&&(m=T),c=_;break}}catch{}const g=a.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Vc(c,e,i):(c=g[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(u)}catch{}})),new Vc(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(xS(e))return"Webos";if(pS(e))return"Safari";if((e.includes("chrome/")||gS(e))&&!e.includes("edge/"))return"Chrome";if(vS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function mS(t=Xn()){return/firefox\//i.test(t)}function pS(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gS(t=Xn()){return/crios\//i.test(t)}function yS(t=Xn()){return/iemobile/i.test(t)}function vS(t=Xn()){return/android/i.test(t)}function _S(t=Xn()){return/blackberry/i.test(t)}function xS(t=Xn()){return/webos/i.test(t)}function Z0(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P4(t=Xn()){return Z0(t)&&!!window.navigator?.standalone}function I4(){return ZP()&&document.documentMode===10}function bS(t=Xn()){return Z0(t)||vS(t)||xS(t)||_S(t)||/windows phone/i.test(t)||yS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e=[]){let n;switch(t){case"Browser":n=kw(Xn());break;case"Worker":n=`${kw(Xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${su}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((u,m)=>{try{const g=e(c);u(g)}catch(g){m(g)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e={}){return jr(t,"GET","/v2/passwordPolicy",ba(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=6;class O4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??M4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vw(this),this.idTokenSubscription=new Vw(this),this.beforeStateQueue=new D4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ca(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await am(this,{idToken:e}),i=await Ws._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(ha(this));const n=e?vn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L4(this),n=new O4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await j4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ca(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[ca(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,a);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&d4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oo(t){return vn(t)}let Vw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eI(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V4(t){Pm=t}function TS(t){return Pm.loadJS(t)}function U4(){return Pm.recaptchaEnterpriseScript}function B4(){return Pm.gapiScript}function z4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class F4{constructor(){this.enterprise=new H4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class H4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q4="recaptcha-enterprise",ES="NO_RECAPTCHA";class G4{constructor(e){this.type=q4,this.auth=Oo(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{w4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new b4(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,u(_.siteKey)}}).catch(g=>{m(g)})})}function a(c,u,m){const g=window.grecaptcha;Dw(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{u(_)}).catch(()=>{u(ES)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F4().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{i(this.auth).then(m=>{if(!n&&Dw(window.grecaptcha))a(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=U4();g.length!==0&&(g+=m),TS(g).then(()=>{a(m,c,u)}).catch(_=>{u(_)})}}).catch(m=>{u(m)})})}}async function Uw(t,e,n,i=!1,a=!1){const c=new G4(t);let u;if(a)u=ES;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function lm(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Uw(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Uw(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t,e){const n=F0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(Ao(c,e??{}))return a;$s(a,"already-initialized")}return n.initialize({options:e})}function W4(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ca);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function K4(t,e,n){const i=Oo(t);qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=SS(e),{host:u,port:m}=$4(e),g=m===null?"":`:${m}`,_={url:`${c}//${u}${g}/`},x=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(Ao(_,i.config.emulator)&&Ao(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,iu(u)?(XE(`${c}//${u}${g}`),JE("Auth",!0)):Y4()}function SS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $4(t){const e=SS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Bw(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:Bw(u)}}}function Bw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,n){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}async function Q4(t,e){return jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){return ed(t,"POST","/v1/accounts:signInWithPassword",ba(t,e))}async function J4(t,e){return jr(t,"POST","/v1/accounts:sendOobCode",ba(t,e))}async function eD(t,e){return J4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",ba(t,e))}async function nD(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends W0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Mh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,n,"signInWithPassword",X4);case"emailLink":return tD(e,{email:this._email,oobCode:this._password});default:$s(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,i,"signUpPassword",Q4);case"emailLink":return nD(e,{idToken:n,email:this._email,oobCode:this._password});default:$s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t,e){return ed(t,"POST","/v1/accounts:signInWithIdp",ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="http://localhost";class Rl extends W0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=n;if(!i||!a)return null;const u=new Rl(i,a);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Uc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Uc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uc(e,n)}buildRequest(){const e={requestUri:iD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rD(t){const e=mh(ph(t)).link,n=e?mh(ph(e)).deep_link_id:null,i=mh(ph(t)).deep_link_id;return(i?mh(ph(i)).link:null)||i||n||e||t}class K0{constructor(e){const n=mh(ph(e)),i=n.apiKey??null,a=n.oobCode??null,c=sD(n.mode??null);qe(i&&a&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rD(e);try{return new K0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(e,n){return Mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=K0.parseLink(n);return qe(i,"argument-error"),Mh._fromEmailAndCode(e,i.code,i.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends AS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends td{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return yo.credential(n,i)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends td{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends td{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _o.credential(n,i)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e){return ed(t,"POST","/v1/accounts:signUp",ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const c=await Ws._fromIdTokenResponse(e,i,a),u=zw(i);return new jl({user:c,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=zw(i);return new jl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends xa{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new cm(e,n,i,a)}}function NS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(t,c,e,i):c})}async function oD(t,e,n=!1){const i=await qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e,n=!1){const{auth:i}=t;if(bs(i.app))return Promise.reject(ha(i));const a="reauthenticate";try{const c=await qc(t,NS(i,a,e,t),n);qe(c.idToken,i,"internal-error");const u=G0(c.idToken);qe(u,i,"internal-error");const{sub:m}=u;return qe(t.uid===m,i,"user-mismatch"),jl._forOperation(t,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&$s(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(t,e,n=!1){if(bs(t.app))return Promise.reject(ha(t));const i="signIn",a=await NS(t,i,e),c=await jl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(c.user),c}async function cD(t,e){return CS(Oo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(t){const e=Oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uD(t,e,n){const i=Oo(t);await lm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eD)}async function hD(t,e,n){if(bs(t.app))return Promise.reject(ha(t));const i=Oo(t),u=await lm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&RS(t),g}),m=await jl._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(m.user),m}function dD(t,e,n){return bs(t.app)?Promise.reject(ha(t)):cD(vn(t),ru.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&RS(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return jr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=vn(t),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await qc(i,fD(i.auth,c));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const m=i.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function pD(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function gD(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function jS(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function yD(t){return vn(t).signOut()}const um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1e3,_D=10;class IS extends PS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);I4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_D):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IS.type="LOCAL";const xD=IS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends PS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DS.type="SESSION";const LS=DS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Im(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:c}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(u).map(async _=>_(n.origin,c)),g=await bD(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((m,g)=>{const _=$0("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function TD(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function ED(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SD(){return navigator?.serviceWorker?.controller||null}function AD(){return MS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebaseLocalStorageDb",ND=1,hm="firebaseLocalStorage",kS="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dm(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function CD(){const t=indexedDB.deleteDatabase(OS);return new nd(t).toPromise()}function My(){const t=indexedDB.open(OS,ND);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(hm,{keyPath:kS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(hm)?e(i):(i.close(),await CD(),e(await My()))})})}async function Fw(t,e,n){const i=Dm(t,!0).put({[kS]:e,value:n});return new nd(i).toPromise()}async function RD(t,e){const n=Dm(t,!1).get(e),i=await new nd(n).toPromise();return i===void 0?null:i.value}function Hw(t,e){const n=Dm(t,!0).delete(e);return new nd(n).toPromise()}const jD=800,PD=3;class VS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>PD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(AD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ED(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await My();return await Fw(e,um,"1"),await Hw(e,um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>RD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Dm(a,!1).getAll();return new nd(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VS.type="LOCAL";const ID=VS;new Jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e){return e?ca(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends W0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LD(t){return CS(t.auth,new Y0(t),t.bypassAuthState)}function MD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),lD(n,new Y0(t),t.bypassAuthState)}async function OD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),oD(n,new Y0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LD;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return MD;default:$s(this.auth,"internal-error")}}resolve(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Jh(2e3,1e4);class jc extends US{constructor(e,n,i,a,c){super(e,n,a,c),this.provider=i,this.authWindow=null,this.pollId=null,jc.currentPopupAction&&jc.currentPopupAction.cancel(),jc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){pa(this.filter.length===1,"Popup operations only handle one event");const e=$0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}jc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="pendingRedirect",Uf=new Map;class UD extends US{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const i=await BD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BD(t,e){const n=HD(e),i=FD(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function zD(t,e){Uf.set(t._key(),e)}function FD(t){return ca(t._redirectPersistence)}function HD(t){return Vf(VD,t.config.apiKey,t.name)}async function qD(t,e,n=!1){if(bs(t.app))return Promise.reject(ha(t));const i=Oo(t),a=DD(i,e),u=await new UD(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=600*1e3;class ZD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GD&&this.cachedEventUids.clear(),this.cachedEventUids.has(qw(e))}saveEventToCache(e){this.cachedEventUids.add(qw(e)),this.lastProcessedEventTime=Date.now()}}function qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function WD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YD=/^https?/;async function QD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KD(t);for(const n of e)try{if(XD(n))return}catch{}$s(t,"unauthorized-domain")}function XD(t){const e=Dy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!YD.test(n))return!1;if($D.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Jh(3e4,6e4);function Gw(){const t=br().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eL(t){return new Promise((e,n)=>{function i(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(xr(t,"network-request-failed"))},timeout:JD.get()})}if(br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(br().gapi?.load)i();else{const a=z4("iframefcb");return br()[a]=()=>{gapi.load?i():n(xr(t,"network-request-failed"))},TS(`${B4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function tL(t){return Bf=Bf||eL(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Jh(5e3,15e3),iL="__/auth/iframe",sL="emulator/auth/iframe",rL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oL(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?q0(e,sL):`https://${t.config.authDomain}/${iL}`,i={apiKey:e.apiKey,appName:t.name,v:su},a=aL.get(t.config.apiHost);a&&(i.eid=a);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Xh(i).slice(1)}`}async function lL(t){const e=await tL(t),n=br().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:oL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rL,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const u=xr(t,"network-request-failed"),m=br().setTimeout(()=>{c(u)},nL.get());function g(){br().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uL=500,hL=600,dL="_blank",fL="http://localhost";class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mL(t,e,n,i=uL,a=hL){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...cL,width:i.toString(),height:a.toString(),top:c,left:u},_=Xn().toLowerCase();n&&(m=gS(_)?dL:n),mS(_)&&(e=e||fL,g.scrollbars="yes");const x=Object.entries(g).reduce((A,[I,P])=>`${A}${I}=${P},`,"");if(P4(_)&&m!=="_self")return pL(e||"",m),new Zw(null);const T=window.open(e||"",m,x);qe(T,t,"popup-blocked");try{T.focus()}catch{}return new Zw(T)}function pL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="__/auth/handler",yL="emulator/auth/handler",vL=encodeURIComponent("fac");async function Ww(t,e,n,i,a,c){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:su,eventId:a};if(e instanceof AS){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",JP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))u[x]=T}if(e instanceof td){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await t._getAppCheckToken(),_=g?`#${vL}=${encodeURIComponent(g)}`:"";return`${_L(t)}?${Xh(m).slice(1)}${_}`}function _L({config:t}){return t.emulator?q0(t,yL):`https://${t.authDomain}/${gL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="webStorageSupport";class xL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=qD,this._overrideRedirectResult=zD}async _openPopup(e,n,i,a){pa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ww(e,n,i,Dy(),a);return mL(e,c,$0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const c=await Ww(e,n,i,Dy(),a);return TD(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:c}=this.eventManagers[n];return a?Promise.resolve(a):(pa(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await lL(e),i=new ZD(e);return n.register("authEvent",a=>(qe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ey,{type:ey},a=>{const c=a?.[0]?.[ey];c!==void 0&&n(!!c),$s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bS()||pS()||Z0()}}const bL=xL;var Kw="@firebase/auth",$w="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EL(t){Hc(new Cl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(t)},_=new k4(i,a,c,g);return W4(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Hc(new Cl("auth-internal",e=>{const n=Oo(e.getProvider("auth").getImmediate());return(i=>new wL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(Kw,$w,TL(t)),To(Kw,$w,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=300,AL=QE("authIdTokenMaxAge")||SL;let Yw=null;const NL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AL)return;const a=n?.token;Yw!==a&&(Yw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zS(t=iS()){const e=F0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Z4(t,{popupRedirectResolver:bL,persistence:[ID,xD,LS]}),i=QE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=NL(c.toString());gD(n,u,()=>u(n.currentUser)),pD(n,m=>u(m))}}const a=$E("auth");return a&&K4(n,`http://${a}`),n}function CL(){return document.getElementsByTagName("head")?.[0]??document}V4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const c=xr("internal-error");c.customData=a,n(c)},i.type="text/javascript",i.charset="UTF-8",CL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EL("Browser");var RL="firebase",jL="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(RL,jL,"app");var Qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,FS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,M){function B(){}B.prototype=M.prototype,U.F=M.prototype,U.prototype=new B,U.prototype.constructor=U,U.D=function(W,q,Q){for(var H=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)H[Be-2]=arguments[Be];return M.prototype[q].apply(W,H)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(U,M,B){B||(B=0);const W=Array(16);if(typeof M=="string")for(var q=0;q<16;++q)W[q]=M.charCodeAt(B++)|M.charCodeAt(B++)<<8|M.charCodeAt(B++)<<16|M.charCodeAt(B++)<<24;else for(q=0;q<16;++q)W[q]=M[B++]|M[B++]<<8|M[B++]<<16|M[B++]<<24;M=U.g[0],B=U.g[1],q=U.g[2];let Q=U.g[3],H;H=M+(Q^B&(q^Q))+W[0]+3614090360&4294967295,M=B+(H<<7&4294967295|H>>>25),H=Q+(q^M&(B^q))+W[1]+3905402710&4294967295,Q=M+(H<<12&4294967295|H>>>20),H=q+(B^Q&(M^B))+W[2]+606105819&4294967295,q=Q+(H<<17&4294967295|H>>>15),H=B+(M^q&(Q^M))+W[3]+3250441966&4294967295,B=q+(H<<22&4294967295|H>>>10),H=M+(Q^B&(q^Q))+W[4]+4118548399&4294967295,M=B+(H<<7&4294967295|H>>>25),H=Q+(q^M&(B^q))+W[5]+1200080426&4294967295,Q=M+(H<<12&4294967295|H>>>20),H=q+(B^Q&(M^B))+W[6]+2821735955&4294967295,q=Q+(H<<17&4294967295|H>>>15),H=B+(M^q&(Q^M))+W[7]+4249261313&4294967295,B=q+(H<<22&4294967295|H>>>10),H=M+(Q^B&(q^Q))+W[8]+1770035416&4294967295,M=B+(H<<7&4294967295|H>>>25),H=Q+(q^M&(B^q))+W[9]+2336552879&4294967295,Q=M+(H<<12&4294967295|H>>>20),H=q+(B^Q&(M^B))+W[10]+4294925233&4294967295,q=Q+(H<<17&4294967295|H>>>15),H=B+(M^q&(Q^M))+W[11]+2304563134&4294967295,B=q+(H<<22&4294967295|H>>>10),H=M+(Q^B&(q^Q))+W[12]+1804603682&4294967295,M=B+(H<<7&4294967295|H>>>25),H=Q+(q^M&(B^q))+W[13]+4254626195&4294967295,Q=M+(H<<12&4294967295|H>>>20),H=q+(B^Q&(M^B))+W[14]+2792965006&4294967295,q=Q+(H<<17&4294967295|H>>>15),H=B+(M^q&(Q^M))+W[15]+1236535329&4294967295,B=q+(H<<22&4294967295|H>>>10),H=M+(q^Q&(B^q))+W[1]+4129170786&4294967295,M=B+(H<<5&4294967295|H>>>27),H=Q+(B^q&(M^B))+W[6]+3225465664&4294967295,Q=M+(H<<9&4294967295|H>>>23),H=q+(M^B&(Q^M))+W[11]+643717713&4294967295,q=Q+(H<<14&4294967295|H>>>18),H=B+(Q^M&(q^Q))+W[0]+3921069994&4294967295,B=q+(H<<20&4294967295|H>>>12),H=M+(q^Q&(B^q))+W[5]+3593408605&4294967295,M=B+(H<<5&4294967295|H>>>27),H=Q+(B^q&(M^B))+W[10]+38016083&4294967295,Q=M+(H<<9&4294967295|H>>>23),H=q+(M^B&(Q^M))+W[15]+3634488961&4294967295,q=Q+(H<<14&4294967295|H>>>18),H=B+(Q^M&(q^Q))+W[4]+3889429448&4294967295,B=q+(H<<20&4294967295|H>>>12),H=M+(q^Q&(B^q))+W[9]+568446438&4294967295,M=B+(H<<5&4294967295|H>>>27),H=Q+(B^q&(M^B))+W[14]+3275163606&4294967295,Q=M+(H<<9&4294967295|H>>>23),H=q+(M^B&(Q^M))+W[3]+4107603335&4294967295,q=Q+(H<<14&4294967295|H>>>18),H=B+(Q^M&(q^Q))+W[8]+1163531501&4294967295,B=q+(H<<20&4294967295|H>>>12),H=M+(q^Q&(B^q))+W[13]+2850285829&4294967295,M=B+(H<<5&4294967295|H>>>27),H=Q+(B^q&(M^B))+W[2]+4243563512&4294967295,Q=M+(H<<9&4294967295|H>>>23),H=q+(M^B&(Q^M))+W[7]+1735328473&4294967295,q=Q+(H<<14&4294967295|H>>>18),H=B+(Q^M&(q^Q))+W[12]+2368359562&4294967295,B=q+(H<<20&4294967295|H>>>12),H=M+(B^q^Q)+W[5]+4294588738&4294967295,M=B+(H<<4&4294967295|H>>>28),H=Q+(M^B^q)+W[8]+2272392833&4294967295,Q=M+(H<<11&4294967295|H>>>21),H=q+(Q^M^B)+W[11]+1839030562&4294967295,q=Q+(H<<16&4294967295|H>>>16),H=B+(q^Q^M)+W[14]+4259657740&4294967295,B=q+(H<<23&4294967295|H>>>9),H=M+(B^q^Q)+W[1]+2763975236&4294967295,M=B+(H<<4&4294967295|H>>>28),H=Q+(M^B^q)+W[4]+1272893353&4294967295,Q=M+(H<<11&4294967295|H>>>21),H=q+(Q^M^B)+W[7]+4139469664&4294967295,q=Q+(H<<16&4294967295|H>>>16),H=B+(q^Q^M)+W[10]+3200236656&4294967295,B=q+(H<<23&4294967295|H>>>9),H=M+(B^q^Q)+W[13]+681279174&4294967295,M=B+(H<<4&4294967295|H>>>28),H=Q+(M^B^q)+W[0]+3936430074&4294967295,Q=M+(H<<11&4294967295|H>>>21),H=q+(Q^M^B)+W[3]+3572445317&4294967295,q=Q+(H<<16&4294967295|H>>>16),H=B+(q^Q^M)+W[6]+76029189&4294967295,B=q+(H<<23&4294967295|H>>>9),H=M+(B^q^Q)+W[9]+3654602809&4294967295,M=B+(H<<4&4294967295|H>>>28),H=Q+(M^B^q)+W[12]+3873151461&4294967295,Q=M+(H<<11&4294967295|H>>>21),H=q+(Q^M^B)+W[15]+530742520&4294967295,q=Q+(H<<16&4294967295|H>>>16),H=B+(q^Q^M)+W[2]+3299628645&4294967295,B=q+(H<<23&4294967295|H>>>9),H=M+(q^(B|~Q))+W[0]+4096336452&4294967295,M=B+(H<<6&4294967295|H>>>26),H=Q+(B^(M|~q))+W[7]+1126891415&4294967295,Q=M+(H<<10&4294967295|H>>>22),H=q+(M^(Q|~B))+W[14]+2878612391&4294967295,q=Q+(H<<15&4294967295|H>>>17),H=B+(Q^(q|~M))+W[5]+4237533241&4294967295,B=q+(H<<21&4294967295|H>>>11),H=M+(q^(B|~Q))+W[12]+1700485571&4294967295,M=B+(H<<6&4294967295|H>>>26),H=Q+(B^(M|~q))+W[3]+2399980690&4294967295,Q=M+(H<<10&4294967295|H>>>22),H=q+(M^(Q|~B))+W[10]+4293915773&4294967295,q=Q+(H<<15&4294967295|H>>>17),H=B+(Q^(q|~M))+W[1]+2240044497&4294967295,B=q+(H<<21&4294967295|H>>>11),H=M+(q^(B|~Q))+W[8]+1873313359&4294967295,M=B+(H<<6&4294967295|H>>>26),H=Q+(B^(M|~q))+W[15]+4264355552&4294967295,Q=M+(H<<10&4294967295|H>>>22),H=q+(M^(Q|~B))+W[6]+2734768916&4294967295,q=Q+(H<<15&4294967295|H>>>17),H=B+(Q^(q|~M))+W[13]+1309151649&4294967295,B=q+(H<<21&4294967295|H>>>11),H=M+(q^(B|~Q))+W[4]+4149444226&4294967295,M=B+(H<<6&4294967295|H>>>26),H=Q+(B^(M|~q))+W[11]+3174756917&4294967295,Q=M+(H<<10&4294967295|H>>>22),H=q+(M^(Q|~B))+W[2]+718787259&4294967295,q=Q+(H<<15&4294967295|H>>>17),H=B+(Q^(q|~M))+W[9]+3951481745&4294967295,U.g[0]=U.g[0]+M&4294967295,U.g[1]=U.g[1]+(q+(H<<21&4294967295|H>>>11))&4294967295,U.g[2]=U.g[2]+q&4294967295,U.g[3]=U.g[3]+Q&4294967295}i.prototype.v=function(U,M){M===void 0&&(M=U.length);const B=M-this.blockSize,W=this.C;let q=this.h,Q=0;for(;Q<M;){if(q==0)for(;Q<=B;)a(this,U,Q),Q+=this.blockSize;if(typeof U=="string"){for(;Q<M;)if(W[q++]=U.charCodeAt(Q++),q==this.blockSize){a(this,W),q=0;break}}else for(;Q<M;)if(W[q++]=U[Q++],q==this.blockSize){a(this,W),q=0;break}}this.h=q,this.o+=M},i.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var M=1;M<U.length-8;++M)U[M]=0;M=this.o*8;for(var B=U.length-8;B<U.length;++B)U[B]=M&255,M/=256;for(this.v(U),U=Array(16),M=0,B=0;B<4;++B)for(let W=0;W<32;W+=8)U[M++]=this.g[B]>>>W&255;return U};function c(U,M){var B=m;return Object.prototype.hasOwnProperty.call(B,U)?B[U]:B[U]=M(U)}function u(U,M){this.h=M;const B=[];let W=!0;for(let q=U.length-1;q>=0;q--){const Q=U[q]|0;W&&Q==M||(B[q]=Q,W=!1)}this.g=B}var m={};function g(U){return-128<=U&&U<128?c(U,function(M){return new u([M|0],M<0?-1:0)}):new u([U|0],U<0?-1:0)}function _(U){if(isNaN(U)||!isFinite(U))return T;if(U<0)return V(_(-U));const M=[];let B=1;for(let W=0;U>=B;W++)M[W]=U/B|0,B*=4294967296;return new u(M,0)}function x(U,M){if(U.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(U.charAt(0)=="-")return V(x(U.substring(1),M));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=_(Math.pow(M,8));let W=T;for(let Q=0;Q<U.length;Q+=8){var q=Math.min(8,U.length-Q);const H=parseInt(U.substring(Q,Q+q),M);q<8?(q=_(Math.pow(M,q)),W=W.j(q).add(_(H))):(W=W.j(B),W=W.add(_(H)))}return W}var T=g(0),A=g(1),I=g(16777216);t=u.prototype,t.m=function(){if(z(this))return-V(this).m();let U=0,M=1;for(let B=0;B<this.g.length;B++){const W=this.i(B);U+=(W>=0?W:4294967296+W)*M,M*=4294967296}return U},t.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(P(this))return"0";if(z(this))return"-"+V(this).toString(U);const M=_(Math.pow(U,6));var B=this;let W="";for(;;){const q=_e(B,M).g;B=$(B,q.j(M));let Q=((B.g.length>0?B.g[0]:B.h)>>>0).toString(U);if(B=q,P(B))return Q+W;for(;Q.length<6;)Q="0"+Q;W=Q+W}},t.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function P(U){if(U.h!=0)return!1;for(let M=0;M<U.g.length;M++)if(U.g[M]!=0)return!1;return!0}function z(U){return U.h==-1}t.l=function(U){return U=$(this,U),z(U)?-1:P(U)?0:1};function V(U){const M=U.g.length,B=[];for(let W=0;W<M;W++)B[W]=~U.g[W];return new u(B,~U.h).add(A)}t.abs=function(){return z(this)?V(this):this},t.add=function(U){const M=Math.max(this.g.length,U.g.length),B=[];let W=0;for(let q=0;q<=M;q++){let Q=W+(this.i(q)&65535)+(U.i(q)&65535),H=(Q>>>16)+(this.i(q)>>>16)+(U.i(q)>>>16);W=H>>>16,Q&=65535,H&=65535,B[q]=H<<16|Q}return new u(B,B[B.length-1]&-2147483648?-1:0)};function $(U,M){return U.add(V(M))}t.j=function(U){if(P(this)||P(U))return T;if(z(this))return z(U)?V(this).j(V(U)):V(V(this).j(U));if(z(U))return V(this.j(V(U)));if(this.l(I)<0&&U.l(I)<0)return _(this.m()*U.m());const M=this.g.length+U.g.length,B=[];for(var W=0;W<2*M;W++)B[W]=0;for(W=0;W<this.g.length;W++)for(let q=0;q<U.g.length;q++){const Q=this.i(W)>>>16,H=this.i(W)&65535,Be=U.i(q)>>>16,Pe=U.i(q)&65535;B[2*W+2*q]+=H*Pe,K(B,2*W+2*q),B[2*W+2*q+1]+=Q*Pe,K(B,2*W+2*q+1),B[2*W+2*q+1]+=H*Be,K(B,2*W+2*q+1),B[2*W+2*q+2]+=Q*Be,K(B,2*W+2*q+2)}for(U=0;U<M;U++)B[U]=B[2*U+1]<<16|B[2*U];for(U=M;U<2*M;U++)B[U]=0;return new u(B,0)};function K(U,M){for(;(U[M]&65535)!=U[M];)U[M+1]+=U[M]>>>16,U[M]&=65535,M++}function X(U,M){this.g=U,this.h=M}function _e(U,M){if(P(M))throw Error("division by zero");if(P(U))return new X(T,T);if(z(U))return M=_e(V(U),M),new X(V(M.g),V(M.h));if(z(M))return M=_e(U,V(M)),new X(V(M.g),M.h);if(U.g.length>30){if(z(U)||z(M))throw Error("slowDivide_ only works with positive integers.");for(var B=A,W=M;W.l(U)<=0;)B=de(B),W=de(W);var q=we(B,1),Q=we(W,1);for(W=we(W,2),B=we(B,2);!P(W);){var H=Q.add(W);H.l(U)<=0&&(q=q.add(B),Q=H),W=we(W,1),B=we(B,1)}return M=$(U,q.j(M)),new X(q,M)}for(q=T;U.l(M)>=0;){for(B=Math.max(1,Math.floor(U.m()/M.m())),W=Math.ceil(Math.log(B)/Math.LN2),W=W<=48?1:Math.pow(2,W-48),Q=_(B),H=Q.j(M);z(H)||H.l(U)>0;)B-=W,Q=_(B),H=Q.j(M);P(Q)&&(Q=A),q=q.add(Q),U=$(U,H)}return new X(q,U)}t.B=function(U){return _e(this,U).h},t.and=function(U){const M=Math.max(this.g.length,U.g.length),B=[];for(let W=0;W<M;W++)B[W]=this.i(W)&U.i(W);return new u(B,this.h&U.h)},t.or=function(U){const M=Math.max(this.g.length,U.g.length),B=[];for(let W=0;W<M;W++)B[W]=this.i(W)|U.i(W);return new u(B,this.h|U.h)},t.xor=function(U){const M=Math.max(this.g.length,U.g.length),B=[];for(let W=0;W<M;W++)B[W]=this.i(W)^U.i(W);return new u(B,this.h^U.h)};function de(U){const M=U.g.length+1,B=[];for(let W=0;W<M;W++)B[W]=U.i(W)<<1|U.i(W-1)>>>31;return new u(B,U.h)}function we(U,M){const B=M>>5;M%=32;const W=U.g.length-B,q=[];for(let Q=0;Q<W;Q++)q[Q]=M>0?U.i(Q+B)>>>M|U.i(Q+B+1)<<32-M:U.i(Q+B);return new u(q,U.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,FS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=x,Eo=u}).apply(typeof Qw<"u"?Qw:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HS,gh,qS,zf,Oy,GS,ZS,WS;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var E=0;E<p.length;++E){var N=p[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function a(p,E){if(E)e:{var N=i;p=p.split(".");for(var D=0;D<p.length-1;D++){var ne=p[D];if(!(ne in N))break e;N=N[ne]}p=p[p.length-1],D=N[p],E=E(D),E!=D&&E!=null&&e(N,p,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(E){var N=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&N.push([D,E[D]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function m(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,N){return p.call.apply(p.bind,arguments)}function _(p,E,N){return _=g,_.apply(null,arguments)}function x(p,E){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function T(p,E){function N(){}N.prototype=E.prototype,p.Z=E.prototype,p.prototype=new N,p.prototype.constructor=p,p.Ob=function(D,ne,le){for(var Se=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Se[Fe-2]=arguments[Fe];return E.prototype[ne].apply(D,Se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function I(p){const E=p.length;if(E>0){const N=Array(E);for(let D=0;D<E;D++)N[D]=p[D];return N}return[]}function P(p,E){for(let D=1;D<arguments.length;D++){const ne=arguments[D];var N=typeof ne;if(N=N!="object"?N:ne?Array.isArray(ne)?"array":N:"null",N=="array"||N=="object"&&typeof ne.length=="number"){N=p.length||0;const le=ne.length||0;p.length=N+le;for(let Se=0;Se<le;Se++)p[N+Se]=ne[Se]}else p.push(ne)}}class z{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(p){u.setTimeout(()=>{throw p},0)}function $(){var p=U;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class K{constructor(){this.h=this.g=null}add(E,N){const D=X.get();D.set(E,N),this.h?this.h.next=D:this.g=D,this.h=D}}var X=new z(()=>new _e,p=>p.reset());class _e{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let de,we=!1,U=new K,M=()=>{const p=Promise.resolve(void 0);de=()=>{p.then(B)}};function B(){for(var p;p=$();){try{p.h.call(p.g)}catch(N){V(N)}var E=X;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}we=!1}function W(){this.u=this.u,this.C=this.C}W.prototype.u=!1,W.prototype.dispose=function(){this.u||(this.u=!0,this.N())},W.prototype[Symbol.dispose]=function(){this.dispose()},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};u.addEventListener("test",N,E),u.removeEventListener("test",N,E)}catch{}return p})();function H(p){return/^[\s\xa0]*$/.test(p)}function Be(p,E){q.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}T(Be,q),Be.prototype.init=function(p,E){const N=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(N=="mouseover"?E=p.fromElement:N=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(p,E,N,D,ne){this.listener=p,this.proxy=null,this.src=E,this.type=N,this.capture=!!D,this.ha=ne,this.key=++F,this.da=this.fa=!1}function te(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ae(p,E,N){for(const D in p)E.call(N,p[D],D,p)}function k(p,E){for(const N in p)E.call(void 0,p[N],N,p)}function oe(p){const E={};for(const N in p)E[N]=p[N];return E}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(p,E){let N,D;for(let ne=1;ne<arguments.length;ne++){D=arguments[ne];for(N in D)p[N]=D[N];for(let le=0;le<be.length;le++)N=be[le],Object.prototype.hasOwnProperty.call(D,N)&&(p[N]=D[N])}}function Te(p){this.src=p,this.g={},this.h=0}Te.prototype.add=function(p,E,N,D,ne){const le=p.toString();p=this.g[le],p||(p=this.g[le]=[],this.h++);const Se=Ee(p,E,D,ne);return Se>-1?(E=p[Se],N||(E.fa=!1)):(E=new re(E,this.src,le,!!D,ne),E.fa=N,p.push(E)),E};function Re(p,E){const N=E.type;if(N in p.g){var D=p.g[N],ne=Array.prototype.indexOf.call(D,E,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(D,ne,1),le&&(te(E),p.g[N].length==0&&(delete p.g[N],p.h--))}}function Ee(p,E,N,D){for(let ne=0;ne<p.length;++ne){const le=p[ne];if(!le.da&&le.listener==E&&le.capture==!!N&&le.ha==D)return ne}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),st={};function pi(p,E,N,D,ne){if(Array.isArray(E)){for(let le=0;le<E.length;le++)pi(p,E[le],N,D,ne);return null}return N=Ir(N),p&&p[Pe]?p.J(E,N,m(D)?!!D.capture:!1,ne):Pr(p,E,N,!1,D,ne)}function Pr(p,E,N,D,ne,le){if(!E)throw Error("Invalid event type");const Se=m(ne)?!!ne.capture:!!ne;let Fe=Ta(p);if(Fe||(p[Nt]=Fe=new Te(p)),N=Fe.add(E,N,D,Se,le),N.proxy)return N;if(D=er(),N.proxy=D,D.src=p,D.listener=N,p.addEventListener)Q||(ne=Se),ne===void 0&&(ne=!1),p.addEventListener(E.toString(),D,ne);else if(p.attachEvent)p.attachEvent(wa(E.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function er(){function p(N){return E.call(p.src,p.listener,N)}const E=Vl;return p}function es(p,E,N,D,ne){if(Array.isArray(E))for(var le=0;le<E.length;le++)es(p,E[le],N,D,ne);else D=m(D)?!!D.capture:!!D,N=Ir(N),p&&p[Pe]?(p=p.i,le=String(E).toString(),le in p.g&&(E=p.g[le],N=Ee(E,N,D,ne),N>-1&&(te(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete p.g[le],p.h--)))):p&&(p=Ta(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Ee(E,N,D,ne)),(N=p>-1?E[p]:null)&&Cs(N))}function Cs(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Pe])Re(E.i,p);else{var N=p.type,D=p.proxy;E.removeEventListener?E.removeEventListener(N,D,p.capture):E.detachEvent?E.detachEvent(wa(N),D):E.addListener&&E.removeListener&&E.removeListener(D),(N=Ta(E))?(Re(N,p),N.h==0&&(N.src=null,E[Nt]=null)):te(p)}}}function wa(p){return p in st?st[p]:st[p]="on"+p}function Vl(p,E){if(p.da)p=!0;else{E=new Be(E,this);const N=p.listener,D=p.ha||p.src;p.fa&&Cs(p),p=N.call(D,E)}return p}function Ta(p){return p=p[Nt],p instanceof Te?p:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ir(p){return typeof p=="function"?p:(p[_n]||(p[_n]=function(E){return p.handleEvent(E)}),p[_n])}function Qt(){W.call(this),this.i=new Te(this),this.M=this,this.G=null}T(Qt,W),Qt.prototype[Pe]=!0,Qt.prototype.removeEventListener=function(p,E,N,D){es(this,p,E,N,D)};function Xt(p,E){var N,D=p.G;if(D)for(N=[];D;D=D.G)N.push(D);if(p=p.M,D=E.type||E,typeof E=="string")E=new q(E,p);else if(E instanceof q)E.target=E.target||p;else{var ne=E;E=new q(D,p),me(E,ne)}ne=!0;let le,Se;if(N)for(Se=N.length-1;Se>=0;Se--)le=E.g=N[Se],ne=Li(le,D,!0,E)&&ne;if(le=E.g=p,ne=Li(le,D,!0,E)&&ne,ne=Li(le,D,!1,E)&&ne,N)for(Se=0;Se<N.length;Se++)le=E.g=N[Se],ne=Li(le,D,!1,E)&&ne}Qt.prototype.N=function(){if(Qt.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const N=p.g[E];for(let D=0;D<N.length;D++)te(N[D]);delete p.g[E],p.h--}}this.G=null},Qt.prototype.J=function(p,E,N,D){return this.i.add(String(p),E,!1,N,D)},Qt.prototype.K=function(p,E,N,D){return this.i.add(String(p),E,!0,N,D)};function Li(p,E,N,D){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let ne=!0;for(let le=0;le<E.length;++le){const Se=E[le];if(Se&&!Se.da&&Se.capture==N){const Fe=Se.listener,nt=Se.ha||Se.src;Se.fa&&Re(p.i,Se),ne=Fe.call(nt,D)!==!1&&ne}}return ne&&!D.defaultPrevented}function Ul(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(p,E||0)}function Ea(p){p.g=Ul(()=>{p.g=null,p.i&&(p.i=!1,Ea(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class xu extends W{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ea(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(p){W.call(this),this.h=p,this.g={}}T(Dr,W);var ts=[];function hn(p){Ae(p.g,function(E,N){this.g.hasOwnProperty(N)&&Cs(E)},p),p.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),hn(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=u.JSON.stringify,In=u.JSON.parse,Bl=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Bo(){}function zl(){}var Mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ns(){q.call(this,"d")}T(ns,q);function gi(){q.call(this,"c")}T(gi,q);var yi={},vi=null;function Sa(){return vi=vi||new Qt}yi.Ia="serverreachability";function zo(p){q.call(this,yi.Ia,p)}T(zo,q);function Rs(p){const E=Sa();Xt(E,new zo(E))}yi.STAT_EVENT="statevent";function Lr(p,E){q.call(this,yi.STAT_EVENT,p),this.stat=E}T(Lr,q);function Lt(p){const E=Sa();Xt(E,new Lr(E,p))}yi.Ja="timingevent";function Fl(p,E){q.call(this,yi.Ja,p),this.size=E}T(Fl,q);function tr(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},E)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function Fo(p,E,N,D,ne,le){p.info(function(){if(p.g)if(le){var Se="",Fe=le.split("&");for(let gt=0;gt<Fe.length;gt++){var nt=Fe[gt].split("=");if(nt.length>1){const Mt=nt[0];nt=nt[1];const ai=Mt.split("_");Se=ai.length>=2&&ai[1]=="type"?Se+(Mt+"="+nt+"&"):Se+(Mt+"=redacted&")}}}else Se=null;else Se=le;return"XMLHTTP REQ ("+D+") [attempt "+ne+"]: "+E+`
`+N+`
`+Se})}function Ho(p,E,N,D,ne,le,Se){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ne+"]: "+E+`
`+N+`
`+le+" "+Se})}function js(p,E,N,D){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+is(p,N)+(D?" "+D:"")})}function qo(p,E){p.info(function(){return"TIMEOUT: "+E})}nr.prototype.info=function(){};function is(p,E){if(!p.g)return E;if(!E)return null;try{const le=JSON.parse(E);if(le){for(p=0;p<le.length;p++)if(Array.isArray(le[p])){var N=le[p];if(!(N.length<2)){var D=N[1];if(Array.isArray(D)&&!(D.length<1)){var ne=D[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Se=1;Se<D.length;Se++)D[Se]=""}}}}return Jn(le)}catch{return E}}var Bt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ps;function xn(){}T(xn,Bo),xn.prototype.g=function(){return new XMLHttpRequest},Ps=new xn;function Le(p){return encodeURIComponent(String(p))}function Hl(p){var E=1;p=p.split(":");const N=[];for(;E>0&&p.length;)N.push(p.shift()),E--;return p.length&&N.push(p.join(":")),N}function _i(p,E,N,D){this.j=p,this.i=E,this.l=N,this.S=D||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}var Mr={},xi={};function Oi(p,E,N){p.M=1,p.A=vt(Tt(E)),p.u=N,p.R=!0,ei(p,null)}function ei(p,E){p.F=Date.now(),Or(p),p.B=Tt(p.A);var N=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Na(N.i,"t",D),p.C=0,N=p.j.L,p.h=new Is,p.g=Zr(p.j,N?E:null,!p.u),p.P>0&&(p.O=new xu(_(p.Y,p,p.g),p.P)),E=p.V,N=p.g,D=p.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(ts[0]=ne.toString()),ne=ts);for(let le=0;le<ne.length;le++){const Se=pi(N,ne[le],D||E.handleEvent,!1,E.h||E);if(!Se)break;E.g[Se.key]=Se}E=p.J?oe(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Rs(),Fo(p.i,p.v,p.B,p.l,p.S,p.u)}_i.prototype.ba=function(p){p=p.target;const E=this.O;E&&Sn(p)==3?E.j():this.Y(p)},_i.prototype.Y=function(p){try{if(p==this.g)e:{const Fe=Sn(this.g),nt=this.g.ya(),gt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||lr(this.g)))){this.K||Fe!=4||nt==7||(nt==8||gt<=0?Rs(3):Rs(2)),ki(this);var E=this.g.ca();this.X=E;var N=Ds(this);if(this.o=E==200,Ho(this.i,this.v,this.B,this.l,this.S,Fe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,ne=this.g;if((D=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(D)){var le=D;break t}}le=null}if(p=le)js(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Aa(this,p);else{this.o=!1,this.m=3,Lt(12),ti(this),kr(this);break e}}if(this.R){p=!0;let Mt;for(;!this.K&&this.C<N.length;)if(Mt=ql(this,N),Mt==xi){Fe==4&&(this.m=4,Lt(14),p=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Mr){this.m=4,Lt(15),js(this.i,this.l,N,"[Invalid Chunk]"),p=!1;break}else js(this.i,this.l,Mt,null),Aa(this,Mt);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||N.length!=0||this.h.h||(this.m=1,Lt(16),p=!1),this.o=this.o&&p,!p)js(this.i,this.l,N,"[Invalid Chunked Response]"),ti(this),kr(this);else if(N.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Ko(Se),Se.P=!0,Lt(11))}}else js(this.i,this.l,N,null),Aa(this,N);Fe==4&&ti(this),this.o&&!this.K&&(Fe==4?qn(this.j,this):(this.o=!1,Or(this)))}else Vs(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),ti(this),kr(this)}}}catch{}finally{}};function Ds(p){if(!zt(p))return p.g.la();const E=lr(p.g);if(E==="")return"";let N="";const D=E.length,ne=Sn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ti(p),kr(p),"";p.h.i=new u.TextDecoder}for(let le=0;le<D;le++)p.h.h=!0,N+=p.h.i.decode(E[le],{stream:!(ne&&le==D-1)});return E.length=0,p.h.g+=N,p.C=0,p.h.g}function zt(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ql(p,E){var N=p.C,D=E.indexOf(`
`,N);return D==-1?xi:(N=Number(E.substring(N,D)),isNaN(N)?Mr:(D+=1,D+N>E.length?xi:(E=E.slice(D,D+N),p.C=D+N,E)))}_i.prototype.cancel=function(){this.K=!0,ti(this)};function Or(p){p.T=Date.now()+p.H,ss(p,p.H)}function ss(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=tr(_(p.aa,p),E)}function ki(p){p.D&&(u.clearTimeout(p.D),p.D=null)}_i.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(qo(this.i,this.B),this.M!=2&&(Rs(),Lt(17)),ti(this),this.m=2,kr(this)):ss(this,this.T-p)};function kr(p){p.j.I==0||p.K||qn(p.j,p)}function ti(p){ki(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,hn(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function Aa(p,E){try{var N=p.j;if(N.I!=0&&(N.g==p||Ls(N.h,p))){if(!p.L&&Ls(N.h,p)&&N.I==3){try{var D=N.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ne=D;if(ne[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<p.F)Pa(N),hs(N);else break e;Wo(N),Lt(18)}}else N.xa=ne[1],0<N.xa-N.K&&ne[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=tr(_(N.Va,N),6e3));bi(N.h)<=1&&N.ta&&(N.ta=void 0)}else ds(N,11)}else if((p.L||N.g==p)&&Pa(N),!H(E))for(ne=N.Ba.g.parse(E),E=0;E<ne.length;E++){let gt=ne[E];const Mt=gt[0];if(!(Mt<=N.K))if(N.K=Mt,gt=gt[1],N.I==2)if(gt[0]=="c"){N.M=gt[1],N.ba=gt[2];const ai=gt[3];ai!=null&&(N.ka=ai,N.j.info("VER="+N.ka));const Ti=gt[4];Ti!=null&&(N.za=Ti,N.j.info("SVER="+N.za));const oi=gt[5];oi!=null&&typeof oi=="number"&&oi>0&&(D=1.5*oi,N.O=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const zi=p.g;if(zi){const Fi=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var le=D.h;le.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(rs(le,le.h),le.h=null))}if(D.G){const Ma=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(D.wa=Ma,je(D.J,D.G,Ma))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-p.F,N.j.info("Handshake RTT: "+N.T+"ms")),D=N;var Se=p;if(D.na=$o(D,D.L?D.ba:null,D.W),Se.L){as(D.h,Se);var Fe=Se,nt=D.O;nt&&(Fe.H=nt),Fe.D&&(ki(Fe),Or(Fe)),D.g=Se}else Zo(D);N.i.length>0&&Ui(N)}else gt[0]!="stop"&&gt[0]!="close"||ds(N,7);else N.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ds(N,7):Xe(N):gt[0]!="noop"&&N.l&&N.l.qa(gt),N.A=0)}}Rs(4)}catch{}}var bu=class{constructor(p,E){this.g=p,this.map=E}};function Vr(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ur(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function bi(p){return p.h?1:p.g?p.g.size:0}function Ls(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function rs(p,E){p.g?p.g.add(E):p.h=E}function as(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Vr.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Br(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const N of p.g.values())E=E.concat(N.G);return E}return I(p.i)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(p,E){if(p){p=p.split("&");for(let N=0;N<p.length;N++){const D=p[N].indexOf("=");let ne,le=null;D>=0?(ne=p[N].substring(0,D),le=p[N].substring(D+1)):ne=p[N],E(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function ht(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof ht?(this.l=p.l,ni(this,p.j),this.o=p.o,this.g=p.g,wi(this,p.u),this.h=p.h,ls(this,Fr(p.i)),this.m=p.m):p&&(E=String(p).match(os))?(this.l=!1,ni(this,E[1]||"",!0),this.o=Ms(E[2]||""),this.g=Ms(E[3]||"",!0),wi(this,E[4]),this.h=Ms(E[5]||"",!0),ls(this,E[6]||"",!0),this.m=Ms(E[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}ht.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Ft(E,Go,!0),":");var N=this.g;return(N||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ft(E,Go,!0),"@"),p.push(Le(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&p.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(Ft(N,N.charAt(0)=="/"?Fn:ir,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",Ft(N,cs)),p.join("")},ht.prototype.resolve=function(p){const E=Tt(this);let N=!!p.j;N?ni(E,p.j):N=!!p.o,N?E.o=p.o:N=!!p.g,N?E.g=p.g:N=p.u!=null;var D=p.h;if(N)wi(E,p.u);else if(N=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var ne=E.h.lastIndexOf("/");ne!=-1&&(D=E.h.slice(0,ne+1)+D)}if(ne=D,ne==".."||ne==".")D="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){D=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let Se=0;Se<ne.length;){const Fe=ne[Se++];Fe=="."?D&&Se==ne.length&&le.push(""):Fe==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),D&&Se==ne.length&&le.push("")):(le.push(Fe),D=!0)}D=le.join("/")}else D=ne}return N?E.h=D:N=p.i.toString()!=="",N?ls(E,Fr(p.i)):N=!!p.m,N&&(E.m=p.m),E};function Tt(p){return new ht(p)}function ni(p,E,N){p.j=N?Ms(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function wi(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ls(p,E,N){E instanceof wn?(p.i=E,Hr(p.i,p.l)):(N||(E=Ft(E,It)),p.i=new wn(E,p.l))}function je(p,E,N){p.i.set(E,N)}function vt(p){return je(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ms(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ft(p,E,N){return typeof p=="string"?(p=encodeURI(p).replace(E,bn),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function bn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Go=/[#\/\?@]/g,ir=/[#\?:]/g,Fn=/[#\?]/g,It=/[#\?@]/g,cs=/#/g;function wn(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ii(p){p.g||(p.g=new Map,p.h=0,p.i&&ot(p.i,function(E,N){p.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=wn.prototype,t.add=function(p,E){ii(this),this.i=null,p=si(this,p);let N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(E),this.h+=1,this};function zr(p,E){ii(p),E=si(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Os(p,E){return ii(p),E=si(p,E),p.g.has(E)}t.forEach=function(p,E){ii(this),this.g.forEach(function(N,D){N.forEach(function(ne){p.call(E,ne,D,this)},this)},this)};function sr(p,E){ii(p);let N=[];if(typeof E=="string")Os(p,E)&&(N=N.concat(p.g.get(si(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)N=N.concat(p[E]);return N}t.set=function(p,E){return ii(this),this.i=null,p=si(this,p),Os(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=sr(this,p),p.length>0?String(p[0]):E):E};function Na(p,E,N){zr(p,E),N.length>0&&(p.i=null,p.g.set(si(p,E),I(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var N=E[D];const ne=Le(N);N=sr(this,N);for(let le=0;le<N.length;le++){let Se=ne;N[le]!==""&&(Se+="="+Le(N[le])),p.push(Se)}}return this.i=p.join("&")};function Fr(p){const E=new wn;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function si(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Hr(p,E){E&&!p.j&&(ii(p),p.i=null,p.g.forEach(function(N,D){const ne=D.toLowerCase();D!=ne&&(zr(this,D),Na(this,ne,N))},p)),p.j=E}function rr(p,E){const N=new nr;if(u.Image){const D=new Image;D.onload=x(fn,N,"TestLoadImage: loaded",!0,E,D),D.onerror=x(fn,N,"TestLoadImage: error",!1,E,D),D.onabort=x(fn,N,"TestLoadImage: abort",!1,E,D),D.ontimeout=x(fn,N,"TestLoadImage: timeout",!1,E,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else E(!1)}function ks(p,E){const N=new nr,D=new AbortController,ne=setTimeout(()=>{D.abort(),fn(N,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:D.signal}).then(le=>{clearTimeout(ne),le.ok?fn(N,"TestPingServer: ok",!0,E):fn(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),fn(N,"TestPingServer: error",!1,E)})}function fn(p,E,N,D,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),D(N)}catch{}}function Gl(){this.g=new Bl}function ze(p){this.i=p.Sb||null,this.h=p.ab||!1}T(ze,Bo),ze.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(p,E){Qt.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Tn,Qt),t=Tn.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Vi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?En(this):Vi(this),this.readyState==3&&dt(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,En(this))},t.Na=function(p){this.g&&(this.response=p,En(this))},t.ga=function(){this.g&&En(this)};function En(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Vi(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=E.next();return p.join(`\r
`)};function Vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function us(p){let E="";return Ae(p,function(N,D){E+=D,E+=":",E+=N,E+=`\r
`}),E}function Hn(p,E,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=us(N),typeof p=="string"?N!=null&&Le(N):je(p,E,N))}function ft(p){Qt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ft,Qt);var ar=/^https?$/i,or=["POST","PUT"];t=ft.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ps.g(),this.g.onreadystatechange=A(_(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(le){Dt(this,le);return}if(p=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ne in D)N.set(ne,D[ne]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const le of D.keys())N.set(le,D.get(le));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),ne=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(or,E,void 0)>=0)||D||ne||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Se]of N)this.g.setRequestHeader(le,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(le){Dt(this,le)}};function Dt(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,ri(p),Wt(p)}function ri(p){p.A||(p.A=!0,Xt(p,"complete"),Xt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Xt(this,"complete"),Xt(this,"abort"),Wt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ca(this):this.Xa())},t.Xa=function(){Ca(this)};function Ca(p){if(p.h&&typeof c<"u"){if(p.v&&Sn(p)==4)setTimeout(p.Ca.bind(p),0);else if(Xt(p,"readystatechange"),Sn(p)==4){p.h=!1;try{const le=p.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var D;if(D=le===0){let Se=String(p.D).match(os)[1]||null;!Se&&u.self&&u.self.location&&(Se=u.self.location.protocol.slice(0,-1)),D=!ar.test(Se?Se.toLowerCase():"")}N=D}if(N)Xt(p,"complete"),Xt(p,"success");else{p.o=6;try{var ne=Sn(p)>2?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.ca()+"]",ri(p)}}finally{Wt(p)}}}}function Wt(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const N=p.g;p.g=null,E||Xt(p,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sn(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),In(E)}};function lr(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(p){const E={};p=(p.g&&Sn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(H(p[D]))continue;var N=Hl(p[D]);const ne=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=E[ne]||[];E[ne]=le,le.push(N)}k(E,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(p,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||E}function Gr(p){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qr("baseRetryDelayMs",5e3,p),this.Za=qr("retryDelaySeedMs",1e4,p),this.Ta=qr("forwardChannelMaxRetries",2,p),this.va=qr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Vr(p&&p.concurrentRequestLimit),this.Ba=new Gl,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Gr.prototype,t.ka=8,t.I=1,t.connect=function(p,E,N,D){Lt(0),this.W=p,this.H=E||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.J=$o(this,null,this.W),Ui(this)};function Xe(p){if(mn(p),p.I==3){var E=p.V++,N=Tt(p.J);if(je(N,"SID",p.M),je(N,"RID",E),je(N,"TYPE","terminate"),Us(p,N),E=new _i(p,p.j,E),E.M=2,E.A=vt(Tt(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=E.A,N=!0),N||(E.g=Zr(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Or(E)}Bi(p)}function hs(p){p.g&&(Ko(p),p.g.cancel(),p.g=null)}function mn(p){hs(p),p.v&&(u.clearTimeout(p.v),p.v=null),Pa(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function Ui(p){if(!Ur(p.h)&&!p.m){p.m=!0;var E=p.Ea;de||M(),we||(de(),we=!0),U.add(E,p),p.D=0}}function Zl(p,E){return bi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=tr(_(p.Ea,p,E),Kl(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ne=new _i(this,this.j,p);let le=this.o;if(this.U&&(le?(le=oe(le),me(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=Ra(this,ne,E),N=Tt(this.J),je(N,"RID",p),je(N,"CVER",22),this.G&&je(N,"X-HTTP-Session-Id",this.G),Us(this,N),le&&(this.R?E="headers="+Le(us(le))+"&"+E:this.u&&Hn(N,this.u,le)),rs(this.h,ne),this.Ra&&je(N,"TYPE","init"),this.S?(je(N,"$req",E),je(N,"SID","null"),ne.U=!0,Oi(ne,N,null)):Oi(ne,N,E),this.I=2}}else this.I==3&&(p?Wl(this,p):this.i.length==0||Ur(this.h)||Wl(this))};function Wl(p,E){var N;E?N=E.l:N=p.V++;const D=Tt(p.J);je(D,"SID",p.M),je(D,"RID",N),je(D,"AID",p.K),Us(p,D),p.u&&p.o&&Hn(D,p.u,p.o),N=new _i(p,p.j,N,p.D+1),p.u===null&&(N.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Ra(p,N,1e3),N.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),rs(p.h,N),Oi(N,D,E)}function Us(p,E){p.H&&Ae(p.H,function(N,D){je(E,D,N)}),p.l&&Ae({},function(N,D){je(E,D,N)})}function Ra(p,E,N){N=Math.min(p.i.length,N);const D=p.l?_(p.l.Ka,p.l,p):null;e:{var ne=p.i;let Fe=-1;for(;;){const nt=["count="+N];Fe==-1?N>0?(Fe=ne[0].g,nt.push("ofs="+Fe)):Fe=0:nt.push("ofs="+Fe);let gt=!0;for(let Mt=0;Mt<N;Mt++){var le=ne[Mt].g;const ai=ne[Mt].map;if(le-=Fe,le<0)Fe=Math.max(0,ne[Mt].g-100),gt=!1;else try{le="req"+le+"_"||"";try{var Se=ai instanceof Map?ai:Object.entries(ai);for(const[Ti,oi]of Se){let zi=oi;m(oi)&&(zi=Jn(oi)),nt.push(le+Ti+"="+encodeURIComponent(zi))}}catch(Ti){throw nt.push(le+"type="+encodeURIComponent("_badmap")),Ti}}catch{D&&D(ai)}}if(gt){Se=nt.join("&");break e}}Se=void 0}return p=p.i.splice(0,N),E.G=p,Se}function Zo(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;de||M(),we||(de(),we=!0),U.add(E,p),p.A=0}}function Wo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=tr(_(p.Da,p),Kl(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,ja(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=tr(_(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),hs(this),ja(this))};function Ko(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function ja(p){p.g=new _i(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=Tt(p.na);je(E,"RID","rpc"),je(E,"SID",p.M),je(E,"AID",p.K),je(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&je(E,"TO",p.ia),je(E,"TYPE","xmlhttp"),Us(p,E),p.u&&p.o&&Hn(E,p.u,p.o),p.O&&(p.g.H=p.O);var N=p.g;p=p.ba,N.M=1,N.A=vt(Tt(E)),N.u=null,N.R=!0,ei(N,p)}t.Va=function(){this.C!=null&&(this.C=null,hs(this),Wo(this),Lt(19))};function Pa(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function qn(p,E){var N=null;if(p.g==E){Pa(p),Ko(p),p.g=null;var D=2}else if(Ls(p.h,E))N=E.G,as(p.h,E),D=1;else return;if(p.I!=0){if(E.o)if(D==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var ne=p.D;D=Sa(),Xt(D,new Fl(D,N)),Ui(p)}else Zo(p);else if(ne=E.m,ne==3||ne==0&&E.X>0||!(D==1&&Zl(p,E)||D==2&&Wo(p)))switch(N&&N.length>0&&(E=p.h,E.i=E.i.concat(N)),ne){case 1:ds(p,5);break;case 4:ds(p,10);break;case 3:ds(p,6);break;default:ds(p,2)}}}function Kl(p,E){let N=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(N*=2),N*E}function ds(p,E){if(p.j.info("Error code "+E),E==2){var N=_(p.bb,p),D=p.Ua;const ne=!D;D=new ht(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ni(D,"https"),vt(D),ne?rr(D.toString(),N):ks(D.toString(),N)}else Lt(2);p.I=0,p.l&&p.l.pa(E),Bi(p),mn(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Bi(p){if(p.I=0,p.ja=[],p.l){const E=Br(p.h);(E.length!=0||p.i.length!=0)&&(P(p.ja,E),P(p.ja,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.oa()}}function $o(p,E,N){var D=N instanceof ht?Tt(N):new ht(N);if(D.g!="")E&&(D.g=E+"."+D.g),wi(D,D.u);else{var ne=u.location;D=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new ht(null);D&&ni(le,D),E&&(le.g=E),ne&&wi(le,ne),N&&(le.h=N),D=le}return N=p.G,E=p.wa,N&&E&&je(D,N,E),je(D,"VER",p.ka),Us(p,D),D}function Zr(p,E,N){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new ft(new ze({ab:N})):new ft(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}t=Ia.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Da(){}Da.prototype.g=function(p,E){return new An(p,E)};function An(p,E){Qt.call(this),this.g=new Gr(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!H(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!H(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new cr(this)}T(An,Qt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Xe(this.g)},An.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.v&&(N={},N.__data__=Jn(p),p=N);E.i.push(new bu(E.Ya++,p)),E.I==3&&Ui(E)},An.prototype.N=function(){this.g.l=null,delete this.j,Xe(this.g),delete this.g,An.Z.N.call(this)};function La(p){ns.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const N in E){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}T(La,ns);function $l(){gi.call(this),this.status=1}T($l,gi);function cr(p){this.g=p}T(cr,Ia),cr.prototype.ra=function(){Xt(this.g,"a")},cr.prototype.qa=function(p){Xt(this.g,new La(p))},cr.prototype.pa=function(p){Xt(this.g,new $l)},cr.prototype.oa=function(){Xt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,WS=function(){return new Da},ZS=function(){return Sa()},GS=yi,Oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,zf=Bt,dn.COMPLETE="complete",qS=dn,zl.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",Qt.prototype.listen=Qt.prototype.J,gh=zl,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,HS=ft}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Jw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new B0("@firebase/firestore");function Ac(){return Pl.logLevel}function Ie(t,...e){if(Pl.logLevel<=lt.DEBUG){const n=e.map(Q0);Pl.debug(`Firestore (${au}): ${t}`,...n)}}function ga(t,...e){if(Pl.logLevel<=lt.ERROR){const n=e.map(Q0);Pl.error(`Firestore (${au}): ${t}`,...n)}}function Gc(t,...e){if(Pl.logLevel<=lt.WARN){const n=e.map(Q0);Pl.warn(`Firestore (${au}): ${t}`,...n)}}function Q0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,KS(t,i,n)}function KS(t,e,n){let i=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ga(i),new Error(i)}function _t(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||KS(e,a,i)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Kn.UNAUTHENTICATED)))}shutdown(){}}class IL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DL{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new da;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new da,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},m=g=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new da)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new $S(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class LL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ML{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new LL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const i=c=>{c.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=kL(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<n&&(i+=e.charAt(a[c]%62))}return i}}function ct(t,e){return t<e?-1:t>e?1:0}function ky(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),c=e.charAt(i);if(a!==c)return ty(a)===ty(c)?ct(a,c):ty(a)?1:-1}return ct(t.length,e.length)}const VL=55296,UL=57343;function ty(t){const e=t.charCodeAt(0);return e>=VL&&e<=UL}function Zc(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__name__";class _r{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ge(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const c=_r.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ct(e.length,n.length)}static compareSegments(e,n){const i=_r.isNumericId(e),a=_r.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?_r.extractNumericId(e).compare(_r.extractNumericId(n)):ky(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class Pt extends _r{construct(e,n,i){return new Pt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const BL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends _r{construct(e,n,i){return new Un(e,n,i)}static isValidIdentifier(e){return BL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new Un([tT])}static fromServerFormat(e){const n=[];let i="",a=0;const c=()=>{if(i.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Ce(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ce(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(i+=m,a++):(c(),a++)}if(c(),u)throw new Ce(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Pt.fromString(e))}static fromName(e){return new Ve(Pt.fromString(e).popFirst(5))}static empty(){return new Ve(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e,n){if(!n)throw new Ce(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zL(t,e,n,i){if(e===!0&&i===!0)throw new Ce(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nT(t){if(!Ve.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iT(t){if(Ve.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(t);throw new Ce(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function id(t,e){if(!QS(t))throw new Ce(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new Ce(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=-62135596800,rT=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*rT);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sT)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rT}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(id(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:un("string",wt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new wt(0,0))}static max(){return new $e(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function FL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new No(a,Ve.empty(),e)}function HL(t){return new No(t.readTime,t.key,Oh)}class No{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new No($e.min(),Ve.empty(),Oh)}static max(){return new No($e.max(),Ve.empty(),Oh)}}function qL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==GL)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,i)=>{n(e)}))}static reject(e){return new ve(((n,i)=>{i(e)}))}static waitFor(e){return new ve(((n,i)=>{let a=0,c=0,u=!1;e.forEach((m=>{++a,m.next((()=>{++c,u&&c===a&&n()}),(g=>i(g)))})),u=!0,c===a&&n()}))}static or(e){let n=ve.resolve(!1);for(const i of e)n=n.next((a=>a?ve.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,c)=>{i.push(n.call(this,a,c))})),this.waitFor(i)}static mapArray(e,n){return new ve(((i,a)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next((x=>{u[_]=x,++m,m===c&&i(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new ve(((i,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):i()};c()}))}}function WL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=-1;function Om(t){return t==null}function dm(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="";function $L(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aT(e)),e=YL(t.get(n),e);return aT(e)}function YL(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const c=t.charAt(a);switch(c){case"\0":n+="";break;case XS:n+="";break;default:n+=c}}return n}function aT(t){return t+XS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new Zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,i,a,c){this.key=e,this.value=n,this.color=i??Vn.RED,this.left=a??Vn.EMPTY,this.right=c??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,c){return new Vn(e??this.key,n??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,i),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Vn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,i,a,c){return this}insert(e,n,i){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new yn(Un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new e2("Invalid base64 string: "+c):c}})(e);return new zn(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c})(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const QL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=QL.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="server_timestamp",n2="__type__",i2="__previous_value__",s2="__local_write_time__";function ev(t){return(t?.mapValue?.fields||{})[n2]?.stringValue===t2}function km(t){const e=t.mapValue.fields[i2];return ev(e)?km(e):e}function kh(t){const e=Co(t.mapValue.fields[s2].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,i,a,c,u,m,g,_,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=x}}const fm="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||fm}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===fm}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="__type__",JL="__max__",Af={mapValue:{}},a2="__vector__",mm="value";function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:tM(t)?9007199254740991:eM(t)?10:11:Ge(28295,{value:t})}function Rr(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=Co(a.timestampValue),m=Co(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,c){return Ro(a.bytesValue).isEqual(Ro(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,c){return nn(a.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(t,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return nn(a.integerValue)===nn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=nn(a.doubleValue),m=nn(c.doubleValue);return u===m?dm(u)===dm(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return Zc(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(a,c){const u=a.mapValue.fields||{},m=c.mapValue.fields||{};if(oT(u)!==oT(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!Rr(u[g],m[g])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Uh(t,e){return(t.values||[]).find((n=>Rr(n,e)))!==void 0}function Wc(t,e){if(t===e)return 0;const n=jo(t),i=jo(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=nn(c.integerValue||c.doubleValue),g=nn(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(kh(t),kh(e));case 5:return ky(t.stringValue,e.stringValue);case 6:return(function(c,u){const m=Ro(c),g=Ro(u);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let _=0;_<m.length&&_<g.length;_++){const x=ct(m[_],g[_]);if(x!==0)return x}return ct(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=ct(nn(c.latitude),nn(u.latitude));return m!==0?m:ct(nn(c.longitude),nn(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uT(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},_=m[mm]?.arrayValue,x=g[mm]?.arrayValue,T=ct(_?.values?.length||0,x?.values?.length||0);return T!==0?T:uT(_,x)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Af.mapValue&&u===Af.mapValue)return 0;if(c===Af.mapValue)return 1;if(u===Af.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=u.fields||{},x=Object.keys(_);g.sort(),x.sort();for(let T=0;T<g.length&&T<x.length;++T){const A=ky(g[T],x[T]);if(A!==0)return A;const I=Wc(m[g[T]],_[x[T]]);if(I!==0)return I}return ct(g.length,x.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Co(t),i=Co(e),a=ct(n.seconds,i.seconds);return a!==0?a:ct(n.nanos,i.nanos)}function uT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const c=Wc(n[a],i[a]);if(c)return c}return ct(n.length,i.length)}function Kc(t){return Vy(t)}function Vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Co(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const c of n.values||[])a?a=!1:i+=",",i+=Vy(c);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const u of i)c?c=!1:a+=",",a+=`${u}:${Vy(n.fields[u])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function Ff(t){switch(jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=km(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Ff(c)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ko(i.fields,((c,u)=>{a+=c.length+Ff(u)})),a})(t.mapValue);default:throw Ge(13486,{value:t})}}function hT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uy(t){return!!t&&"integerValue"in t}function tv(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function eM(t){return(t?.mapValue?.fields||{})[r2]?.stringValue===a2}function Eh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Eh(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eh(t.arrayValue.values[n]);return e}return{...t}}function tM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.value=e}static empty(){return new ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(n)}setAll(e){let n=Un.emptyPath(),i={},a=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,a),i={},a=[],n=m.popLast()}u?i[m.lastSegment()]=Eh(u):a.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ko(n,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new ji(Eh(this.value))}}function o2(t){const e=[];return ko(t.fields,((n,i)=>{const a=new Un([n]);if(Hf(i)){const c=o2(i.mapValue).fields;if(c.length===0)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)})),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,i,a,c,u,m){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new $n(e,0,$e.min(),$e.min(),$e.min(),ji.empty(),0)}static newFoundDocument(e,n,i,a){return new $n(e,1,n,$e.min(),i,a,0)}static newNoDocument(e,n){return new $n(e,2,n,$e.min(),$e.min(),ji.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,$e.min(),$e.min(),ji.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.position=e,this.inclusive=n}}function mT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(c.field.isKeyField()?i=Ve.comparator(Ve.fromName(u.referenceValue),n.key):i=Wc(u,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{}class cn extends l2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new sM(e,n,i):n==="array-contains"?new oM(e,i):n==="in"?new lM(e,i):n==="not-in"?new cM(e,i):n==="array-contains-any"?new uM(e,i):new cn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new rM(e,i):new aM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ys extends l2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ys(e,n)}matches(e){return c2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c2(t){return t.op==="and"}function u2(t){return iM(t)&&c2(t)}function iM(t){for(const e of t.filters)if(e instanceof Ys)return!1;return!0}function By(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Kc(t.value);if(u2(t))return t.filters.map((e=>By(e))).join(",");{const e=t.filters.map((n=>By(n))).join(",");return`${t.op}(${e})`}}function h2(t,e){return t instanceof cn?(function(i,a){return a instanceof cn&&i.op===a.op&&i.field.isEqual(a.field)&&Rr(i.value,a.value)})(t,e):t instanceof Ys?(function(i,a){return a instanceof Ys&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,u,m)=>c&&h2(u,a.filters[m])),!0):!1})(t,e):void Ge(19439)}function d2(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kc(n.value)}`})(t):t instanceof Ys?(function(n){return n.op.toString()+" {"+n.getFilters().map(d2).join(" ,")+"}"})(t):"Filter"}class sM extends cn{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class rM extends cn{constructor(e,n){super(e,"in",n),this.keys=f2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aM extends cn{constructor(e,n){super(e,"not-in",n),this.keys=f2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function f2(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class oM extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tv(n)&&Uh(n.arrayValue,this.value)}}class lM extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uh(this.value.arrayValue,n)}}class cM extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uh(this.value.arrayValue,n)}}class uM extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Uh(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n=null,i=[],a=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function gT(t,e=null,n=[],i=[],a=null,c=null,u=null){return new hM(t,e,n,i,a,c,u)}function nv(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>By(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Kc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Kc(i))).join(",")),e.Te=n}return e.Te}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function zy(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,i=[],a=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dM(t,e,n,i,a,c,u,m){return new cu(t,e,n,i,a,c,u,m)}function sv(t){return new cu(t)}function yT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m2(t){return t.collectionGroup!==null}function Sh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new yn(Un.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Bh(c,i))})),n.has(Un.keyField().canonicalString())||e.Ie.push(new Bh(Un.keyField(),i))}return e.Ie}function wr(t){const e=Ye(t);return e.Ee||(e.Ee=fM(e,Sh(t))),e.Ee}function fM(t,e){if(t.limitType==="F")return gT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new Bh(a.field,c)}));const n=t.endAt?new pm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new pm(t.startAt.position,t.startAt.inclusive):null;return gT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Fy(t,e){const n=t.filters.concat([e]);return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hy(t,e,n){return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return iv(wr(t),wr(e))&&t.limitType===e.limitType}function p2(t){return`${nv(wr(t))}|lt:${t.limitType}`}function Nc(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>d2(a))).join(", ")}]`),Om(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Kc(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Kc(a))).join(",")),`Target(${i})`})(wr(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(t,e)&&(function(i,a){for(const c of Sh(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,m,g){const _=mT(u,m,g);return u.inclusive?_<=0:_<0})(i.startAt,Sh(i),a)||i.endAt&&!(function(u,m,g){const _=mT(u,m,g);return u.inclusive?_>=0:_>0})(i.endAt,Sh(i),a))})(t,e)}function mM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g2(t){return(e,n)=>{let i=!1;for(const a of Sh(t)){const c=pM(a,e,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function pM(t,e,n){const i=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(c,u,m){const g=u.data.field(c),_=m.data.field(c);return g!==null&&_!==null?Wc(g,_):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((n,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new Zt(Ve.comparator);function ya(){return gM}const y2=new Zt(Ve.comparator);function yh(...t){let e=y2;for(const n of t)e=e.insert(n.key,n);return e}function v2(t){let e=y2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function _l(){return Ah()}function _2(){return Ah()}function Ah(){return new Ml((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yM=new Zt(Ve.comparator),vM=new yn(Ve.comparator);function ut(...t){let e=vM;for(const n of t)e=e.add(n);return e}const _M=new yn(ct);function xM(){return _M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function x2(t){return{integerValue:""+t}}function bM(t,e){return KL(e)?x2(e):rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this._=void 0}}function wM(t,e,n){return t instanceof zh?(function(a,c){const u={fields:{[n2]:{stringValue:t2},[s2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&ev(c)&&(c=km(c)),c&&(u.fields[i2]=c),{mapValue:u}})(n,e):t instanceof $c?w2(t,e):t instanceof Fh?T2(t,e):(function(a,c){const u=b2(a,c),m=vT(u)+vT(a.Ae);return Uy(u)&&Uy(a.Ae)?x2(m):rv(a.serializer,m)})(t,e)}function TM(t,e,n){return t instanceof $c?w2(t,e):t instanceof Fh?T2(t,e):n}function b2(t,e){return t instanceof gm?(function(i){return Uy(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class zh extends Bm{}class $c extends Bm{constructor(e){super(),this.elements=e}}function w2(t,e){const n=E2(e);for(const i of t.elements)n.some((a=>Rr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Fh extends Bm{constructor(e){super(),this.elements=e}}function T2(t,e){let n=E2(e);for(const i of t.elements)n=n.filter((a=>!Rr(a,i)));return{arrayValue:{values:n}}}class gm extends Bm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vT(t){return nn(t.integerValue||t.doubleValue)}function E2(t){return tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.field=e,this.transform=n}}function EM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof $c&&a instanceof $c||i instanceof Fh&&a instanceof Fh?Zc(i.elements,a.elements,Rr):i instanceof gm&&a instanceof gm?Rr(i.Ae,a.Ae):i instanceof zh&&a instanceof zh})(t.transform,e.transform)}class SM{constructor(e,n){this.version=e,this.transformResults=n}}class Ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ks}static exists(e){return new Ks(void 0,e)}static updateTime(e){return new Ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function A2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C2(t.key,Ks.none()):new sd(t.key,t.data,Ks.none());{const n=t.data,i=ji.empty();let a=new yn(Un.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?i.delete(c):i.set(c,u),a=a.add(c)}return new Vo(t.key,i,new Ji(a.toArray()),Ks.none())}}function AM(t,e,n){t instanceof sd?(function(a,c,u){const m=a.value.clone(),g=xT(a.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof Vo?(function(a,c,u){if(!qf(a.precondition,c))return void c.convertToUnknownDocument(u.version);const m=xT(a.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(N2(a)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,n):(function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nh(t,e,n,i){return t instanceof sd?(function(c,u,m,g){if(!qf(c.precondition,u))return m;const _=c.value.clone(),x=bT(c.fieldTransforms,g,u);return _.setAll(x),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null})(t,e,n,i):t instanceof Vo?(function(c,u,m,g){if(!qf(c.precondition,u))return m;const _=bT(c.fieldTransforms,g,u),x=u.data;return x.setAll(N2(c)),x.setAll(_),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(c,u,m){return qf(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function NM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),c=b2(i.transform,a||null);c!=null&&(n===null&&(n=ji.empty()),n.set(i.field,c))}return n||null}function _T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zc(i,a,((c,u)=>EM(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends zm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vo extends zm{constructor(e,n,i,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function N2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function xT(t,e,n){const i=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,m=e.data.field(c.field);i.set(c.field,TM(u,m,n[a]))}return i}function bT(t,e,n){const i=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);i.set(a.field,wM(c,u,e))}return i}class C2 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CM extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&AM(c,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Nh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Nh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=_2();return this.mutations.forEach((a=>{const c=e.get(a.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(a.key)?null:m;const g=A2(u,m);g!==null&&i.set(a.key,g),u.isValidDocument()||u.convertToNoDocument($e.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,((n,i)=>_T(n,i)))&&Zc(this.baseMutations,e.baseMutations,((n,i)=>_T(n,i)))}}class av{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){_t(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return yM})();const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,i[u].version);return new av(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,pt;function IM(t){switch(t){case ge.OK:return Ge(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function R2(t){if(t===void 0)return ga("GRPC error has no .code"),ge.UNKNOWN;switch(t){case on.OK:return ge.OK;case on.CANCELLED:return ge.CANCELLED;case on.UNKNOWN:return ge.UNKNOWN;case on.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case on.INTERNAL:return ge.INTERNAL;case on.UNAVAILABLE:return ge.UNAVAILABLE;case on.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case on.NOT_FOUND:return ge.NOT_FOUND;case on.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case on.ABORTED:return ge.ABORTED;case on.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case on.DATA_LOSS:return ge.DATA_LOSS;default:return Ge(39323,{code:t})}}(pt=on||(on={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Eo([4294967295,4294967295],0);function wT(t){const e=DM().encode(t),n=new FS;return n.update(e),new Uint8Array(n.digest())}function TT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Eo([n,i],0),new Eo([a,c],0)]}class ov{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(i<0)throw new vh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Eo.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Eo.fromNumber(i)));return a.compare(LM)===1&&(a=new Eo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wT(e),[i,a]=TT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new ov(c,a,n);return i.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=wT(e),[i,a]=TT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,i,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fm($e.min(),a,new Zt(ct),ya(),ut())}}class rd{constructor(e,n,i,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new rd(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class j2{constructor(e,n){this.targetId=e,this.Ce=n}}class P2{constructor(e,n,i=zn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class ET{constructor(){this.ve=0,this.Fe=ST(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),i=ut();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ge(38017,{changeType:c})}})),new rd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=ST()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ya(),this.Je=Nf(),this.He=Nf(),this.Ye=new Zt(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(zy(c))if(i===0){const u=new Ve(c.path);this.et(n,u,$n.newNoDocument(u,$e.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=n;let u,m;try{u=Ro(i).toUint8Array()}catch(g){if(g instanceof e2)return Gc("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ov(u,a,c)}catch(g){return Gc(g instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&zy(m.target)){const g=new Ve(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,$n.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let i=ut();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const a=new Fm(e,n,this.Ye,this.je,i);return this.je=ya(),this.Je=Nf(),this.He=Nf(),this.Ye=new Zt(ct),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ET,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ET),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nf(){return new Zt(Ve.comparator)}function ST(){return new Zt(Ve.comparator)}const OM={asc:"ASCENDING",desc:"DESCENDING"},kM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VM={and:"AND",or:"OR"};class UM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qy(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BM(t,e){return ym(t,e.toTimestamp())}function Tr(t){return _t(!!t,49232),$e.fromTimestamp((function(n){const i=Co(n);return new wt(i.seconds,i.nanos)})(t))}function lv(t,e){return Gy(t,e).canonicalString()}function Gy(t,e){const n=(function(a){return new Pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function D2(t){const e=Pt.fromString(t);return _t(V2(e),10190,{key:e.toString()}),e}function Zy(t,e){return lv(t.databaseId,e.path)}function ny(t,e){const n=D2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(M2(n))}function L2(t,e){return lv(t.databaseId,e)}function zM(t){const e=D2(t);return e.length===4?Pt.emptyPath():M2(e)}function Wy(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M2(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AT(t,e,n){return{name:Zy(t,e),fields:n.value.mapValue.fields}}function FM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(_t(x===void 0||typeof x=="string",58123),zn.fromBase64String(x||"")):(_t(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),zn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(_){const x=_.code===void 0?ge.UNKNOWN:R2(_.code);return new Ce(x,_.message||"")})(u);n=new P2(i,a,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ny(t,i.document.name),c=Tr(i.document.updateTime),u=i.document.createTime?Tr(i.document.createTime):$e.min(),m=new ji({mapValue:{fields:i.document.fields}}),g=$n.newFoundDocument(a,c,u,m),_=i.targetIds||[],x=i.removedTargetIds||[];n=new Gf(_,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ny(t,i.document),c=i.readTime?Tr(i.readTime):$e.min(),u=$n.newNoDocument(a,c),m=i.removedTargetIds||[];n=new Gf([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ny(t,i.document),c=i.removedTargetIds||[];n=new Gf([],c,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,u=new PM(a,c),m=i.targetId;n=new j2(m,u)}}return n}function HM(t,e){let n;if(e instanceof sd)n={update:AT(t,e.key,e.value)};else if(e instanceof C2)n={delete:Zy(t,e.key)};else if(e instanceof Vo)n={update:AT(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof CM))return Ge(16599,{Vt:e.type});n={verify:Zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,u){const m=u.transform;if(m instanceof zh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gm)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ge(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:BM(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ge(27497)})(t,e.precondition)),n}function qM(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,c){let u=a.updateTime?Tr(a.updateTime):Tr(c);return u.isEqual($e.min())&&(u=Tr(c)),new SM(u,a.transformResults||[])})(n,e)))):[]}function GM(t,e){return{documents:[L2(t,e.path)]}}function ZM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=L2(t,a);const c=(function(_){if(_.length!==0)return k2(Ys.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(_){if(_.length!==0)return _.map((x=>(function(A){return{field:Cc(A.field),direction:$M(A.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=qy(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:a}}function WM(t){let e=zM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){_t(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const A=O2(T);return A instanceof Ys&&u2(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((A=>(function(P){return new Bh(Rc(P.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Om(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,I=T.values||[];return new pm(I,A)})(n.startAt));let _=null;return n.endAt&&(_=(function(T){const A=!T.before,I=T.values||[];return new pm(I,A)})(n.endAt)),dM(e,a,u,c,m,"F",g,_)}function KM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Rc(n.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Rc(n.unaryFilter.field);return cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Rc(n.unaryFilter.field);return cn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rc(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(Rc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ys.create(n.compositeFilter.filters.map((i=>O2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function $M(t){return OM[t]}function YM(t){return kM[t]}function QM(t){return VM[t]}function Cc(t){return{fieldPath:t.canonicalString()}}function Rc(t){return Un.fromServerFormat(t.fieldPath)}function k2(t){return t instanceof cn?(function(n){if(n.op==="=="){if(fT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(n.field),op:YM(n.op),value:n.value}}})(t):t instanceof Ys?(function(n){const i=n.getFilters().map((a=>k2(a)));return i.length===1?i[0]:{compositeFilter:{op:QM(n.op),filters:i}}})(t):Ge(54877,{filter:t})}function XM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function V2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,i,a,c=$e.min(),u=$e.min(),m=zn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.yt=e}}function eO(t){const e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Cn=new nO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(No.min())}updateCollectionGroup(e,n,i){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class nO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new yn(Pt.comparator),c=!a.has(i);return this.index[n]=a.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U2=41943040;class Ri{static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(U2,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yc(0)}static cr(){return new Yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="LruGarbageCollector",iO=1048576;function RT([t,e],[n,i]){const a=ct(t,n);return a===0?ct(e,i):a}class sO{constructor(e){this.Ir=e,this.buffer=new yn(RT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();RT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(CT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lu(n)?Ie(CT,"Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.Vr(3e5)}))}}class aO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Mm.ce);const i=new sO(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(NT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,c,u,m,g,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,m=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(_=Date.now(),Ac()<=lt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(_-g)+`ms
Total Duration: ${_-x}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function oO(t,e){return new aO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changes=new Ml((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ve.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Nh(i.mutation,a,Ji.empty(),wt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ut()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ut()){const a=_l();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((c=>{let u=yh();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=_l();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ut())))}populateOverlays(e,n,i){const a=[];return i.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,i,a){let c=ya();const u=Ah(),m=(function(){return Ah()})();return n.forEach(((g,_)=>{const x=i.get(_.key);a.has(_.key)&&(x===void 0||x.mutation instanceof Vo)?c=c.insert(_.key,_):x!==void 0?(u.set(_.key,x.mutation.getFieldMask()),Nh(x.mutation,_,x.mutation.getFieldMask(),wt.now())):u.set(_.key,Ji.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,x)=>u.set(_,x))),n.forEach(((_,x)=>m.set(_,new cO(x,u.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=Ah();let a=new Zt(((u,m)=>u-m)),c=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let x=i.get(g)||Ji.empty();x=m.applyToLocalView(_,x),i.set(g,x);const T=(a.get(m.batchId)||ut()).add(g);a=a.insert(m.batchId,T)}))})).next((()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,x=g.value,T=_2();x.forEach((A=>{if(!c.has(A)){const I=A2(n.get(A),i.get(A));I!==null&&T.set(A,I),c=c.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ve.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-c.size):ve.resolve(_l());let m=Oh,g=c;return u.next((_=>ve.forEach(_,((x,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(x)?ve.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{g=g.insert(x,A)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,ut()))).next((x=>({batchId:m,changes:v2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((i=>{let a=yh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const c=n.collectionGroup;let u=yh();return this.indexManager.getCollectionParents(e,c).next((m=>ve.forEach(m,(g=>{const _=(function(T,A){return new cu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,i,a).next((x=>{x.forEach(((T,A)=>{u=u.insert(T,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,a)))).next((u=>{c.forEach(((g,_)=>{const x=_.getKey();u.get(x)===null&&(u=u.insert(x,$n.newInvalidDocument(x)))}));let m=yh();return u.forEach(((g,_)=>{const x=c.get(g);x!==void 0&&Nh(x.mutation,_,Ji.empty(),wt.now()),Um(n,_)&&(m=m.insert(g,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Tr(a.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:eO(a.bundledQuery),readTime:Tr(a.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.overlays=new Zt(Ve.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const i=_l();return ve.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,c)=>{this.St(e,n,c)})),ve.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),ve.resolve()}getOverlaysForCollection(e,n,i){const a=_l(),c=n.length+1,u=new Ve(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>i&&a.set(g.getKey(),g)}return ve.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let c=new Zt(((_,x)=>_-x));const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let x=c.get(_.largestBatchId);x===null&&(x=_l(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const m=_l(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,x)=>m.set(_,x))),!(m.size()>=a)););return ve.resolve(m)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new jM(n,i));let c=this.qr.get(n);c===void 0&&(c=ut(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.Qr=new yn(Pn.$r),this.Ur=new yn(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Pn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ve(new Pt([])),i=new Pn(n,e),a=new Pn(n,e+1),c=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new Pt([])),i=new Pn(n,e),a=new Pn(n,e+1);let c=ut();return this.Ur.forEachInRange([i,a],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Pn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(Pn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RM(c,n,i,a);this.mutationQueue.push(u);for(const m of a)this.Zr=this.Zr.add(new Pn(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ve.resolve(u)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),c=a<0?0:a;return ve.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?J0:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pn(n,0),a=new Pn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,a],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ve.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yn(ct);return n.forEach((a=>{const c=new Pn(a,0),u=new Pn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{i=i.add(m.Yr)}))})),ve.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let c=i;Ve.isDocumentKey(c)||(c=c.child(""));const u=new Pn(new Ve(c),0);let m=new yn(ct);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!i.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.Yr)),!0)}),u),ve.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ve.forEach(n.mutations,(a=>{const c=new Pn(a.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Pn(n,0),a=this.Zr.firstAfterOrEqual(i);return ve.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.ri=e,this.docs=(function(){return new Zt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),c=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ve.resolve(i?i.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let i=ya();return n.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():$n.newInvalidDocument(a))})),ve.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let c=ya();const u=n.path,m=new Ve(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:x}}=g.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||qL(HL(x),i)<=0||(a.has(x.key)||Um(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ve.resolve(c)}getAllFromCollectionGroup(e,n,i,a){Ge(9500)}ii(e,n){return ve.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new gO(this)}getSize(e){return ve.resolve(this.size)}}class gO extends lO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.persistence=e,this.si=new Ml((n=>nv(n)),iv),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new cv,this.targetCount=0,this.ai=Yc.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,i){let a=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),ve.waitFor(c).next((()=>a))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ve.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ve.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((u=>{c.push(a.markPotentiallyOrphaned(e,u))})),ve.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ve.resolve(i)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mm(0),this.li=!1,this.li=!0,this.hi=new fO,this.referenceDelegate=e(this),this.Pi=new yO(this),this.indexManager=new tO,this.remoteDocumentCache=(function(a){return new pO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new JM(n),this.Ii=new hO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new mO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ie("MemoryPersistence","Starting transaction:",e);const a=new vO(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return ve.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class vO extends ZL{constructor(e){super(),this.currentSequenceNumber=e}}class uv{constructor(e){this.persistence=e,this.Ri=new cv,this.Vi=null}static mi(e){return new uv(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ve.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(i=>{const a=Ve.fromPath(i);return this.gi(e,a).next((c=>{c||n.removeEntry(a,$e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.pi=new Ml((i=>$L(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=oO(this,n)}static mi(e,n){return new vm(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((i,a)=>this.br(e,i,a).next((c=>c?ve.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((m=>{m||(i++,c.removeEntry(u,$e.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,i){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ve.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=ut(),a=ut();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new hv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WP()?8:WL(Xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,a,i).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new _O;return this.Ss(e,n,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>c.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Ac()<=lt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Ac()<=lt.DEBUG&&Ie("QueryEngine","Query:",Nc(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ac()<=lt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):ve.resolve())}ys(e,n){if(yT(n))return ve.resolve(null);let i=wr(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Hy(n,null,"F"),i=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const u=ut(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const _=this.Ds(n,m);return this.Cs(n,_,u,g.readTime)?this.ys(e,Hy(n,null,"F")):this.vs(e,_,n,g)}))))})))))}ws(e,n,i,a){return yT(n)||a.isEqual($e.min())?ve.resolve(null):this.ps.getDocuments(e,i).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,i,a)?ve.resolve(null):(Ac()<=lt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nc(n)),this.vs(e,u,n,FL(a,Oh)).next((m=>m)))}))}Ds(e,n){let i=new yn(g2(e));return n.forEach(((a,c)=>{Um(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,i){return Ac()<=lt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.ps.getDocumentsMatchingQuery(e,n,No.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LocalStore",bO=3e8;class wO{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Zt(ct),this.xs=new Ml((c=>nv(c)),iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TO(t,e,n,i){return new wO(t,e,n,i)}async function z2(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const u=[],m=[];let g=ut();for(const _ of a){u.push(_.batchId);for(const x of _.mutations)g=g.add(x.key)}for(const _ of c){m.push(_.batchId);for(const x of _.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(i,g).next((_=>({Ls:_,removedBatchIds:u,addedBatchIds:m})))}))}))}function EO(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,x){const T=_.batch,A=T.keys();let I=ve.resolve();return A.forEach((P=>{I=I.next((()=>x.getEntry(g,P))).next((z=>{const V=_.docVersions.get(P);_t(V!==null,48541),z.version.compareTo(V)<0&&(T.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),x.addEntry(z)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=ut();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function F2(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SO(t,e){const n=Ye(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach(((x,T)=>{const A=a.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,T))));let I=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(zn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):x.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(x.resumeToken,i)),a=a.insert(T,I),(function(z,V,$){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=bO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,I,x)&&m.push(n.Pi.updateTargetData(c,I))}));let g=ya(),_=ut();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(AO(c,u,e.documentUpdates).next((x=>{g=x.ks,_=x.qs}))),!i.isEqual($e.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));m.push(x)}return ve.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(n.Ms=a,c)))}function AO(t,e,n){let i=ut(),a=ut();return n.forEach((c=>i=i.add(c))),e.getEntries(t,i).next((c=>{let u=ya();return n.forEach(((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual($e.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):Ie(dv,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{ks:u,qs:a}}))}function NO(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=J0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function CO(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((c=>c?(a=c,ve.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new xo(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Ky(t,e,n){const i=Ye(t),a=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!lu(u))throw u;Ie(dv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function jT(t,e,n){const i=Ye(t);let a=$e.min(),c=ut();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,_,x){const T=Ye(g),A=T.xs.get(x);return A!==void 0?ve.resolve(T.Ms.get(A)):T.Pi.getTargetData(_,x)})(i,u,wr(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:$e.min(),n?c:ut()))).next((m=>(RO(i,mM(e),m),{documents:m,Qs:c})))))}function RO(t,e,n){let i=t.Os.get(e)||$e.min();n.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),t.Os.set(e,i)}class PT{constructor(){this.activeTargetIds=xM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jO{constructor(){this.Mo=new PT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class DT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie(IT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie(IT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function $y(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="RestConnection",IO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===fm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,c){const u=$y(),m=this.zo(e,n.toUriEncodedString());Ie(iy,`Sending RPC '${e}' ${u}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,c);const{host:_}=new URL(m),x=iu(_);return this.Jo(e,m,g,i,x).then((T=>(Ie(iy,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw Gc(iy,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",i),T}))}Ho(e,n,i,a,c,u){return this.Go(e,n,i,a,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+au})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const i=IO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class MO extends DO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,c){const u=$y();return new Promise(((m,g)=>{const _=new HS;_.setWithCredentials(!0),_.listenOnce(qS.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zf.NO_ERROR:const T=_.getResponseJson();Ie(Wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case zf.TIMEOUT:Ie(Wn,`RPC '${e}' ${u} timed out`),g(new Ce(ge.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const A=_.getStatus();if(Ie(Wn,`RPC '${e}' ${u} failed with status:`,A,"response text:",_.getResponseText()),A>0){let I=_.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const z=(function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(K)>=0?K:ge.UNKNOWN})(P.status);g(new Ce(z,P.message))}else g(new Ce(ge.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ce(ge.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:u,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Ie(Wn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);Ie(Wn,`RPC '${e}' ${u} sending request:`,a),_.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=$y(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WS(),m=ZS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const x=c.join("");Ie(Wn,`Creating RPC '${e}' stream ${a}: ${x}`,g);const T=u.createWebChannel(x,g);this.I_(T);let A=!1,I=!1;const P=new LO({Yo:V=>{I?Ie(Wn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(A||(Ie(Wn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),Ie(Wn,`RPC '${e}' stream ${a} sending:`,V),T.send(V))},Zo:()=>T.close()}),z=(V,$,K)=>{V.listen($,(X=>{try{K(X)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return z(T,gh.EventType.OPEN,(()=>{I||(Ie(Wn,`RPC '${e}' stream ${a} transport opened.`),P.o_())})),z(T,gh.EventType.CLOSE,(()=>{I||(I=!0,Ie(Wn,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(T))})),z(T,gh.EventType.ERROR,(V=>{I||(I=!0,Gc(Wn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),P.a_(new Ce(ge.UNAVAILABLE,"The operation could not be completed")))})),z(T,gh.EventType.MESSAGE,(V=>{if(!I){const $=V.data[0];_t(!!$,16349);const K=$,X=K?.error||K[0]?.error;if(X){Ie(Wn,`RPC '${e}' stream ${a} received error:`,X);const _e=X.status;let de=(function(M){const B=on[M];if(B!==void 0)return R2(B)})(_e),we=X.message;de===void 0&&(de=ge.INTERNAL,we="Unknown error status: "+_e+" with message "+X.message),I=!0,P.a_(new Ce(de,we)),T.close()}else Ie(Wn,`RPC '${e}' stream ${a} received:`,$),P.u_($)}})),z(m,GS.STAT_EVENT,(V=>{V.stat===Oy.PROXY?Ie(Wn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Oy.NOPROXY&&Ie(Wn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return new UM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,i=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="PersistentStream";class q2{constructor(e,n,i,a,c,u,m,g){this.Mi=e,this.S_=i,this.b_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(ga(n.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ce(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ie(LT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ie(LT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OO extends q2{constructor(e,n,i,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FM(this.serializer,e),i=(function(c){if(!("targetChange"in c))return $e.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Tr(u.readTime):$e.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Wy(this.serializer),n.addTarget=(function(c,u){let m;const g=u.target;if(m=zy(g)?{documents:GM(c,g)}:{query:ZM(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=I2(c,u.resumeToken);const _=qy(c,u.expectedCount);_!==null&&(m.expectedCount=_)}else if(u.snapshotVersion.compareTo($e.min())>0){m.readTime=ym(c,u.snapshotVersion.toTimestamp());const _=qy(c,u.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const i=KM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Wy(this.serializer),n.removeTarget=e,this.q_(n)}}class kO extends q2{constructor(e,n,i,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qM(e.writeResults,e.commitTime),i=Tr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Wy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>HM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{}class UO extends VO{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Gy(n,i),a,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(ge.UNKNOWN,c.toString())}))}Ho(e,n,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Gy(n,i),a,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(ge.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ga(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class zO{constructor(e,n,i,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ol(this)&&(Ie(Il,"Restarting streams for network reachability change."),await(async function(g){const _=Ye(g);_.Ea.add(4),await ad(_),_.Ra.set("Unknown"),_.Ea.delete(4),await qm(_)})(this))}))})),this.Ra=new BO(i,a)}}async function qm(t){if(Ol(t))for(const e of t.da)await e(!0)}async function ad(t){for(const e of t.da)await e(!1)}function G2(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gv(n)?pv(n):uu(n).O_()&&mv(n,e))}function fv(t,e){const n=Ye(t),i=uu(n);n.Ia.delete(e),i.O_()&&Z2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ol(n)&&n.Ra.set("Unknown"))}function mv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).Y_(e)}function Z2(t,e){t.Va.Ue(e),uu(t).Z_(e)}function pv(t){t.Va=new MM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.Ra.ua()}function gv(t){return Ol(t)&&!uu(t).x_()&&t.Ia.size>0}function Ol(t){return Ye(t).Ea.size===0}function W2(t){t.Va=void 0}async function FO(t){t.Ra.set("Online")}async function HO(t){t.Ia.forEach(((e,n)=>{mv(t,e)}))}async function qO(t,e){W2(t),gv(t)?(t.Ra.ha(e),pv(t)):t.Ra.set("Unknown")}async function GO(t,e,n){if(t.Ra.set("Online"),e instanceof P2&&e.state===2&&e.cause)try{await(async function(a,c){const u=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.Ia.delete(m),a.Va.removeTarget(m))})(t,e)}catch(i){Ie(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _m(t,i)}else if(e instanceof Gf?t.Va.Ze(e):e instanceof j2?t.Va.st(e):t.Va.tt(e),!n.isEqual($e.min()))try{const i=await F2(t.localStore);n.compareTo(i)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,_)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(zn.EMPTY_BYTE_STRING,x.snapshotVersion)),Z2(c,g);const T=new xo(x.target,g,_,x.sequenceNumber);mv(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(i){Ie(Il,"Failed to raise snapshot:",i),await _m(t,i)}}async function _m(t,e,n){if(!lu(e))throw e;t.Ea.add(1),await ad(t),t.Ra.set("Offline"),n||(n=()=>F2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ie(Il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qm(t)}))}function K2(t,e){return e().catch((n=>_m(t,n,e)))}async function Gm(t){const e=Ye(t),n=Po(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:J0;for(;ZO(e);)try{const a=await NO(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,WO(e,a)}catch(a){await _m(e,a)}$2(e)&&Y2(e)}function ZO(t){return Ol(t)&&t.Ta.length<10}function WO(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $2(t){return Ol(t)&&!Po(t).x_()&&t.Ta.length>0}function Y2(t){Po(t).start()}async function KO(t){Po(t).ra()}async function $O(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function YO(t,e,n){const i=t.Ta.shift(),a=av.from(i,e,n);await K2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Gm(t)}async function QO(t,e){e&&Po(t).X_&&await(async function(i,a){if((function(u){return IM(u)&&u!==ge.ABORTED})(a.code)){const c=i.Ta.shift();Po(i).B_(),await K2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Gm(i)}})(t,e),$2(t)&&Y2(t)}async function MT(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ie(Il,"RemoteStore received new credentials");const i=Ol(n);n.Ea.add(3),await ad(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qm(n)}async function XO(t,e){const n=Ye(t);e?(n.Ea.delete(2),await qm(n)):e||(n.Ea.add(2),await ad(n),n.Ra.set("Unknown"))}function uu(t){return t.ma||(t.ma=(function(n,i,a){const c=Ye(n);return c.sa(),new OO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:FO.bind(null,t),t_:HO.bind(null,t),r_:qO.bind(null,t),H_:GO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),gv(t)?pv(t):t.Ra.set("Unknown")):(await t.ma.stop(),W2(t))}))),t.ma}function Po(t){return t.fa||(t.fa=(function(n,i,a){const c=Ye(n);return c.sa(),new kO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KO.bind(null,t),r_:QO.bind(null,t),ta:$O.bind(null,t),na:YO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie(Il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,i,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,c){const u=Date.now()+i,m=new yv(e,n,u,a,c);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(t,e){if(ga("AsyncQueue",`${e}: ${t}`),lu(t))return new Ce(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{static emptySet(e){return new Bc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=yh(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Bc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.ga=new Zt(Ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Qc{constructor(e,n,i,a,c,u,m,g,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,a,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Qc(e,n,Bc.emptySet(n),u,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ek{constructor(){this.queries=kT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ye(n),c=a.queries;a.queries=kT(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new Ce(ge.ABORTED,"Firestore shutting down"))}}function kT(){return new Ml((t=>p2(t)),Vm)}async function Q2(t,e){const n=Ye(t);let i=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(i=2):(c=new JO,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const m=vv(u,`Initialization of query '${Nc(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&_v(n)}async function X2(t,e){const n=Ye(t),i=e.query;let a=3;const c=n.queries.get(i);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tk(t,e){const n=Ye(t);let i=!1;for(const a of e){const c=a.query,u=n.queries.get(c);if(u){for(const m of u.Sa)m.Fa(a)&&(i=!0);u.wa=a}}i&&_v(n)}function nk(t,e,n){const i=Ye(t),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);i.queries.delete(e)}function _v(t){t.Ca.forEach((e=>{e.next()}))}var Yy,VT;(VT=Yy||(Yy={})).Ma="default",VT.Cache="cache";class J2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Qc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class ik{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=g2(e),this.tu=new Bc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new OT,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,T)=>{const A=a.get(x),I=Um(this.query,T)?T:null,P=!!A&&this.mutatedKeys.has(A.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;A&&I?A.data.isEqual(I.data)?P!==z&&(i.track({type:3,doc:I}),V=!0):this.su(A,I)||(i.track({type:2,doc:I}),V=!0,(g&&this.eu(I,g)>0||_&&this.eu(I,_)<0)&&(m=!0)):!A&&I?(i.track({type:0,doc:I}),V=!0):A&&!I&&(i.track({type:1,doc:A}),V=!0,(g||_)&&(m=!0)),V&&(I?(u=u.add(I),c=z?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,T)=>(function(I,P){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:V})}};return z(I)-z(P)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(i),a=a??!1;const m=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,_=g!==this.Za;return this.Za=g,u.length!==0||_?{snapshot:new Qc(this.query,e.tu,c,u,e.mutatedKeys,g===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new tA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new eA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xv="SyncEngine";class sk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class rk{constructor(e){this.key=e,this.hu=!1}}class ak{constructor(e,n,i,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ml((m=>p2(m)),Vm),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(Ve.comparator),this.Au=new Map,this.Ru=new cv,this.Vu={},this.mu=new Map,this.fu=Yc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ok(t,e,n=!0){const i=oA(t);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await nA(i,e,n,!0),a}async function lk(t,e){const n=oA(t);await nA(n,e,!0,!1)}async function nA(t,e,n,i){const a=await CO(t.localStore,wr(e)),c=a.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let m;return i&&(m=await ck(t,e,c,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&G2(t.remoteStore,a),m}async function ck(t,e,n,i,a){t.pu=(T,A,I)=>(async function(z,V,$,K){let X=V.view.ru($);X.Cs&&(X=await jT(z.localStore,V.query,!1).then((({documents:U})=>V.view.ru(U,X))));const _e=K&&K.targetChanges.get(V.targetId),de=K&&K.targetMismatches.get(V.targetId)!=null,we=V.view.applyChanges(X,z.isPrimaryClient,_e,de);return BT(z,V.targetId,we.au),we.snapshot})(t,T,A,I);const c=await jT(t.localStore,e,!0),u=new ik(e,c.Qs),m=u.ru(c.documents),g=rd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),_=u.applyChanges(m,t.isPrimaryClient,g);BT(t,n,_.au);const x=new sk(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),_.snapshot}async function uk(t,e,n){const i=Ye(t),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter((u=>!Vm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ky(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&fv(i.remoteStore,a.targetId),Qy(i,a.targetId)})).catch(ou)):(Qy(i,a.targetId),await Ky(i.localStore,a.targetId,!0))}async function hk(t,e){const n=Ye(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),fv(n.remoteStore,i.targetId))}async function dk(t,e,n){const i=_k(t);try{const a=await(function(u,m){const g=Ye(u),_=wt.now(),x=m.reduce(((I,P)=>I.add(P.key)),ut());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=ya(),z=ut();return g.Ns.getEntries(I,x).next((V=>{P=V,P.forEach((($,K)=>{K.isValidDocument()||(z=z.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,P))).next((V=>{T=V;const $=[];for(const K of m){const X=NM(K,T.get(K.key).overlayedDocument);X!=null&&$.push(new Vo(K.key,X,o2(X.value.mapValue),Ks.exists(!0)))}return g.mutationQueue.addMutationBatch(I,_,$,m)})).next((V=>{A=V;const $=V.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(I,V.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:v2(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,m,g){let _=u.Vu[u.currentUser.toKey()];_||(_=new Zt(ct)),_=_.insert(m,g),u.Vu[u.currentUser.toKey()]=_})(i,a.batchId,n),await od(i,a.changes),await Gm(i.remoteStore)}catch(a){const c=vv(a,"Failed to persist write");n.reject(c)}}async function iA(t,e){const n=Ye(t);try{const i=await SO(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const u=n.Au.get(c);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await od(n,i,e)}catch(i){await ou(i)}}function UT(t,e,n){const i=Ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(u,m){const g=Ye(u);g.onlineState=m;let _=!1;g.queries.forEach(((x,T)=>{for(const A of T.Sa)A.va(m)&&(_=!0)})),_&&_v(g)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fk(t,e,n){const i=Ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),c=a&&a.key;if(c){let u=new Zt(Ve.comparator);u=u.insert(c,$n.newNoDocument(c,$e.min()));const m=ut().add(c),g=new Fm($e.min(),new Map,new Zt(ct),u,m);await iA(i,g),i.du=i.du.remove(c),i.Au.delete(e),bv(i)}else await Ky(i.localStore,e,!1).then((()=>Qy(i,e,n))).catch(ou)}async function mk(t,e){const n=Ye(t),i=e.batch.batchId;try{const a=await EO(n.localStore,e);rA(n,i,null),sA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await od(n,a)}catch(a){await ou(a)}}async function pk(t,e,n){const i=Ye(t);try{const a=await(function(u,m){const g=Ye(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return g.mutationQueue.lookupMutationBatch(_,m).next((T=>(_t(T!==null,37113),x=T.keys(),g.mutationQueue.removeMutationBatch(_,T)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>g.localDocuments.getDocuments(_,x)))}))})(i.localStore,e);rA(i,e,n),sA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await od(i,a)}catch(a){await ou(a)}}function sA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rA(t,e,n){const i=Ye(t);let a=i.Vu[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Qy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||aA(t,i)}))}function aA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bv(t))}function BT(t,e,n){for(const i of n)i instanceof eA?(t.Ru.addReference(i.key,e),gk(t,i)):i instanceof tA?(Ie(xv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||aA(t,i.key)):Ge(19791,{wu:i})}function gk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ie(xv,"New document in limbo: "+n),t.Eu.add(i),bv(t))}function bv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Pt.fromString(e)),i=t.fu.next();t.Au.set(i,new rk(n)),t.du=t.du.insert(n,i),G2(t.remoteStore,new xo(wr(sv(n.path)),i,"TargetPurposeLimboResolution",Mm.ce))}}async function od(t,e,n){const i=Ye(t),a=[],c=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{u.push(i.pu(g,e,n).then((_=>{if((_||n)&&i.isPrimaryClient){const x=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(_){a.push(_);const x=hv.As(g.targetId,_);c.push(x)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(g,_){const x=Ye(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ve.forEach(_,(A=>ve.forEach(A.Es,(I=>x.persistence.referenceDelegate.addReference(T,A.targetId,I))).next((()=>ve.forEach(A.ds,(I=>x.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))))))}catch(T){if(!lu(T))throw T;Ie(dv,"Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const I=x.Ms.get(A),P=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(P);x.Ms=x.Ms.insert(A,z)}}})(i.localStore,c))}async function yk(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ie(xv,"User change. New user:",e.toKey());const i=await z2(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new Ce(ge.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await od(n,i.Ls)}}function vk(t,e){const n=Ye(t),i=n.Au.get(e);if(i&&i.hu)return ut().add(i.key);{let a=ut();const c=n.Iu.get(e);if(!c)return a;for(const u of c){const m=n.Tu.get(u);a=a.unionWith(m.view.nu)}return a}}function oA(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.Pu.H_=tk.bind(null,e.eventManager),e.Pu.yu=nk.bind(null,e.eventManager),e}function _k(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pk.bind(null,e),e}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TO(this.persistence,new xO,e.initialUser,this.serializer)}Cu(e){return new B2(uv.mi,this.serializer)}Du(e){return new jO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class xk extends xm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof vm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new B2((i=>vm.mi(i,n)),this.serializer)}}class Xy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yk.bind(null,this.syncEngine),await XO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ek})()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),i=(function(c){return new MO(c)})(e.databaseInfo);return(function(c,u,m,g){return new UO(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,c,u,m){return new zO(i,a,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>UT(this.syncEngine,n,0)),(function(){return DT.v()?new DT:new PO})())}createSyncEngine(e,n){return(function(a,c,u,m,g,_,x){const T=new ak(a,c,u,m,g,_);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ye(n);Ie(Il,"RemoteStore shutting down."),i.Ea.add(5),await ad(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xy.provider={build:()=>new Xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class bk{constructor(e,n,i,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Kn.UNAUTHENTICATED,this.clientId=X0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async u=>{Ie(Io,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ie(Io,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ry(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await z2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wk(t);Ie(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>MT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>MT(e.remoteStore,a))),t._onlineComponents=e}async function wk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(Io,"Using user provided OfflineComponentProvider");try{await ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Gc("Error using user provided cache. Falling back to memory cache: "+n),await ry(t,new xm)}}else Ie(Io,"Using default OfflineComponentProvider"),await ry(t,new xk(void 0));return t._offlineComponents}async function cA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(Io,"Using user provided OnlineComponentProvider"),await zT(t,t._uninitializedComponentsProvider._online)):(Ie(Io,"Using default OnlineComponentProvider"),await zT(t,new Xy))),t._onlineComponents}function Tk(t){return cA(t).then((e=>e.syncEngine))}async function uA(t){const e=await cA(t),n=e.eventManager;return n.onListen=ok.bind(null,e.syncEngine),n.onUnlisten=uk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hk.bind(null,e.syncEngine),n}function Ek(t,e,n={}){const i=new da;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,_){const x=new lA({next:A=>{x.Nu(),u.enqueueAndForget((()=>X2(c,T)));const I=A.docs.has(m);!I&&A.fromCache?_.reject(new Ce(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&g&&g.source==="server"?_.reject(new Ce(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new J2(sv(m.path),x,{includeMetadataChanges:!0,qa:!0});return Q2(c,T)})(await uA(t),t.asyncQueue,e,n,i))),i.promise}function Sk(t,e,n={}){const i=new da;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,_){const x=new lA({next:A=>{x.Nu(),u.enqueueAndForget((()=>X2(c,T))),A.fromCache&&g.source==="server"?_.reject(new Ce(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new J2(m,x,{includeMetadataChanges:!0,qa:!0});return Q2(c,T)})(await uA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",HT=!0;class qT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=HT}else this.host=e.host,this.ssl=e.ssl??HT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iO)throw new Ce(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new PL;switch(i.type){case"firstParty":return new ML(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=FT.get(n);i&&(Ie("ComponentProvider","Removing Datastore"),FT.delete(n),i.terminate())})(this),Promise.resolve()}}function Ak(t,e,n,i={}){t=Cr(t,Zm);const a=iu(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;a&&(XE(`https://${m}`),JE("Firestore",!0)),c.host!==dA&&c.host!==m&&Gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:a,emulatorOptions:i};if(!Ao(g,u)&&(t._setSettings(g),i.mockUserToken)){let _,x;if(typeof i.mockUserToken=="string")_=i.mockUserToken,x=Kn.MOCK_USER;else{_=VP(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ce(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Kn(T)}t._authCredentials=new IL(new $S(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new kl(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(id(n,sn._jsonSchema))return new sn(e,i||null,new Ve(Pt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:un("string",sn._jsonSchemaVersion),referencePath:un("string")};class So extends kl{constructor(e,n,i){super(e,n,sv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ve(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Tl(t,e,...n){if(t=vn(t),YS("collection","path",e),t instanceof Zm){const i=Pt.fromString(e,...n);return iT(i),new So(t,null,i)}{if(!(t instanceof sn||t instanceof So))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Pt.fromString(e,...n));return iT(i),new So(t.firestore,null,i)}}function Ts(t,e,...n){if(t=vn(t),arguments.length===1&&(e=X0.newId()),YS("doc","path",e),t instanceof Zm){const i=Pt.fromString(e,...n);return nT(i),new sn(t,null,new Ve(i))}{if(!(t instanceof sn||t instanceof So))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Pt.fromString(e,...n));return nT(i),new sn(t.firestore,t instanceof So?t.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class ZT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H2(this,"async_queue_retry"),this._c=()=>{const i=sy();i&&Ie(GT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lu(e))throw e;Ie(GT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",WT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=yv.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hu extends Zm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new ZT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZT(e),this._firestoreClient=void 0,await e}}}function fA(t,e){const n=typeof t=="object"?t:iS(),i=typeof t=="string"?t:fm,a=F0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=OP("firestore");c&&Ak(a,...c)}return a}function wv(t){if(t._terminated)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Nk(t),t._firestoreClient}function Nk(t){const e=t._freezeSettings(),n=(function(a,c,u,m){return new XL(a,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,hA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(zn.fromBase64String(e))}catch(n){throw new Ce(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ws(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(id(e,ws._jsonSchema))return ws.fromBase64String(e.bytes)}}ws._jsonSchemaVersion="firestore/bytes/1.0",ws._jsonSchema={type:un("string",ws._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(id(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:un("string",Er._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(id(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Sr(e.vectorValues);throw new Ce(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:un("string",Sr._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^__.*__$/;class Rk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class mA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class Km{constructor(e,n,i,a,c,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pA(this.Ac)&&Ck.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hm(e)}Cc(e,n,i,a=!1){return new Km({Ac:e,methodName:n,Dc:i,path:Un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(t){const e=t._freezeSettings(),n=Hm(t._databaseId);return new jk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gA(t,e,n,i,a,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,a);Sv("Data must be an object, but it was:",u,i);const m=yA(i,u);let g,_;if(c.merge)g=new Ji(u.fieldMask),_=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const A=Jy(e,T,n);if(!u.contains(A))throw new Ce(ge.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);_A(x,A)||x.push(A)}g=new Ji(x),_=u.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,_=u.fieldTransforms;return new Rk(new ji(m),g,_)}class Ym extends ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}function Pk(t,e,n){return new Km({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tv extends ld{_toFieldTransform(e){return new S2(e.path,new zh)}isEqual(e){return e instanceof Tv}}class Ev extends ld{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Pk(this,e,!0),i=this.vc.map((c=>du(c,n))),a=new $c(i);return new S2(e.path,a)}isEqual(e){return e instanceof Ev&&Ao(this.vc,e.vc)}}function Ik(t,e,n,i){const a=t.Cc(1,e,n);Sv("Data must be an object, but it was:",a,i);const c=[],u=ji.empty();ko(i,((g,_)=>{const x=Av(e,g,n);_=vn(_);const T=a.yc(x);if(_ instanceof Ym)c.push(x);else{const A=du(_,T);A!=null&&(c.push(x),u.set(x,A))}}));const m=new Ji(c);return new mA(u,m,a.fieldTransforms)}function Dk(t,e,n,i,a,c){const u=t.Cc(1,e,n),m=[Jy(e,i,n)],g=[a];if(c.length%2!=0)throw new Ce(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Jy(e,c[A])),g.push(c[A+1]);const _=[],x=ji.empty();for(let A=m.length-1;A>=0;--A)if(!_A(_,m[A])){const I=m[A];let P=g[A];P=vn(P);const z=u.yc(I);if(P instanceof Ym)_.push(I);else{const V=du(P,z);V!=null&&(_.push(I),x.set(I,V))}}const T=new Ji(_);return new mA(x,T,u.fieldTransforms)}function Lk(t,e,n,i=!1){return du(n,t.Cc(i?4:3,e))}function du(t,e){if(vA(t=vn(t)))return Sv("Unsupported field value:",e,t),yA(t,e);if(t instanceof ld)return(function(i,a){if(!pA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const c=[];let u=0;for(const m of i){let g=du(m,a.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=wt.fromDate(i);return{timestampValue:ym(a.serializer,c)}}if(i instanceof wt){const c=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ym(a.serializer,c)}}if(i instanceof Er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ws)return{bytesValue:I2(a.serializer,i._byteString)};if(i instanceof sn){const c=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Sr)return(function(u,m){return{mapValue:{fields:{[r2]:{stringValue:a2},[mm]:{arrayValue:{values:u.toArray().map((_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return rv(m.serializer,_)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Lm(i)}`)})(t,e)}function yA(t,e){const n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,((i,a)=>{const c=du(a,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function vA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Er||t instanceof ws||t instanceof sn||t instanceof ld||t instanceof Sr)}function Sv(t,e,n){if(!vA(n)||!QS(n)){const i=Lm(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Jy(t,e,n){if((e=vn(e))instanceof Wm)return e._internalPath;if(typeof e=="string")return Av(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mk=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(Mk)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wm(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,i,a){const c=i&&!i.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${i}`),u&&(g+=` in document ${a}`),g+=")"),new Ce(ge.INVALID_ARGUMENT,m+t+g)}function _A(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,i,a,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ok extends xA{data(){return super.data()}}function Qm(t,e){return typeof e=="string"?Av(t,e):e instanceof Wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nv{}class bA extends Nv{}function wA(t,e,...n){let i=[];e instanceof Nv&&i.push(e),i=i.concat(n),(function(c){const u=c.filter((g=>g instanceof Cv)).length,m=c.filter((g=>g instanceof Xm)).length;if(u>1||u>0&&m>0)throw new Ce(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Xm extends bA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Xm(e,n,i)}_apply(e){const n=this._parse(e);return TA(e._query,n),new kl(e.firestore,e.converter,Fy(e._query,n))}_parse(e){const n=$m(e.firestore);return(function(c,u,m,g,_,x,T){let A;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){$T(T,x);const P=[];for(const z of T)P.push(KT(g,c,z));A={arrayValue:{values:P}}}else A=KT(g,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||$T(T,x),A=Lk(m,u,T,x==="in"||x==="not-in");return cn.create(_,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vk(t,e,n){const i=e,a=Qm("where",t);return Xm._create(a,i,n)}class Cv extends Nv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ys.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let u=a;const m=c.getFlattenedFilters();for(const g of m)TA(u,g),u=Fy(u,g)})(e._query,n),new kl(e.firestore,e.converter,Fy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rv extends bA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rv(e,n)}_apply(e){const n=(function(a,c,u){if(a.startAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(c,u)})(e._query,this._field,this._direction);return new kl(e.firestore,e.converter,(function(a,c){const u=a.explicitOrderBy.concat([c]);return new cu(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Uk(t,e="asc"){const n=e,i=Qm("orderBy",t);return Rv._create(i,n)}function KT(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m2(e)&&n.indexOf("/")!==-1)throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Pt.fromString(n));if(!Ve.isDocumentKey(i))throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hT(t,new Ve(i))}if(n instanceof sn)return hT(t,n._key);throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(n)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(t,e){const n=(function(a,c){for(const u of a)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bk{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ko(e,((a,c)=>{i[a]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[mm].arrayValue?.values?.map((i=>nn(i.doubleValue)));return new Sr(n)}convertGeoPoint(e){return new Er(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=km(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=Co(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Pt.fromString(e);_t(V2(i),9688,{name:e});const a=new Vh(i.get(1),i.get(3)),c=new Ve(i.popFirst(5));return a.isEqual(n)||ga(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class _h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends xA{constructor(e,n,i,a,c,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Qm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=El._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}El._jsonSchemaVersion="firestore/documentSnapshot/1.0",El._jsonSchema={type:un("string",El._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Zf extends El{data(e={}){return super.data(e)}}class zc{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _h(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Zf(this._firestore,this._userDataWriter,i.key,i,new _h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((m=>{const g=new Zf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new _h(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Zf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new _h(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,x=-1;return m.type!==0&&(_=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),x=u.indexOf(m.doc.key)),{type:zk(m.type),doc:g,oldIndex:_,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){t=Cr(t,sn);const e=Cr(t.firestore,hu);return Ek(wv(e),t._key).then((n=>Fk(e,t,n)))}zc._jsonSchemaVersion="firestore/querySnapshot/1.0",zc._jsonSchema={type:un("string",zc._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class SA extends Bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function e0(t){t=Cr(t,kl);const e=Cr(t.firestore,hu),n=wv(e),i=new SA(e);return kk(t._query),Sk(n,t._query).then((a=>new zc(e,i,t,a)))}function YT(t,e,n){t=Cr(t,sn);const i=Cr(t.firestore,hu),a=EA(t.converter,e);return jv(i,[gA($m(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ks.none())])}function ay(t,e,n,...i){t=Cr(t,sn);const a=Cr(t.firestore,hu),c=$m(a);let u;return u=typeof(e=vn(e))=="string"||e instanceof Wm?Dk(c,"updateDoc",t._key,e,n,i):Ik(c,"updateDoc",t._key,e),jv(a,[u.toMutation(t._key,Ks.exists(!0))])}function Wf(t,e){const n=Cr(t.firestore,hu),i=Ts(t),a=EA(t.converter,e);return jv(n,[gA($m(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ks.exists(!1))]).then((()=>i))}function jv(t,e){return(function(i,a){const c=new da;return i.asyncQueue.enqueueAndForget((async()=>dk(await Tk(i),a,c))),c.promise})(wv(t),e)}function Fk(t,e,n){const i=n.docs.get(e._key),a=new SA(t);return new El(t,a,e._key,i,new _h(n.hasPendingWrites,n.fromCache),e.converter)}function Kf(){return new Tv("serverTimestamp")}function QT(...t){return new Ev("arrayUnion",t)}(function(e,n=!0){(function(a){au=a})(su),Hc(new Cl("firestore",((i,{instanceIdentifier:a,options:c})=>{const u=i.getProvider("app").getImmediate(),m=new hu(new DL(i.getProvider("auth-internal")),new OL(u,i.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ce(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(_.options.projectId,x)})(u,a),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),To(Xw,Jw,e),To(Xw,Jw,"esm2020")})();const Hk={apiKey:"AIzaSyD106Y2G0g9sVQBjjmXXRicLaQpSGIGA_Q",authDomain:"fruitbunch-f1f23.firebaseapp.com",projectId:"fruitbunch-f1f23",storageBucket:"fruitbunch-f1f23.firebasestorage.app",messagingSenderId:"794545150234",appId:"1:794545150234:web:69f9820a661e0750ce34a3",measurementId:"G-JNY3T9LHLW"},AA=nS(Hk),fu=zS(AA),Bn=fA(AA),qk=({children:t})=>{const e=Ns(),[n,i]=O.useState(null),[a,c]=O.useState(!0);return O.useEffect(()=>{const u=jS(fu,m=>{i(m),c(!1)});return()=>u()},[]),a?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n?t:d.jsx(k0,{to:"/login",state:{from:e},replace:!0})},Gk=({children:t})=>{const[e,n]=O.useState(null),[i,a]=O.useState(!0);return O.useEffect(()=>{const c=jS(fu,async u=>{if(!u){n(!1),localStorage.setItem("isAdmin",JSON.stringify(!1)),a(!1);return}const m=Ts(Bn,"admins",u.uid),_=(await Pc(m)).exists();n(_),localStorage.setItem("isAdmin",JSON.stringify(_)),a(!1)});return()=>c()},[]),i?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e?t:d.jsx(k0,{to:"/",replace:!0})},NA=O.createContext(),Zk=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):{items:[],total:0}},Wk=(t,e)=>{switch(e.type){case"ADD_TO_CART":const n=t.items.findIndex(u=>u.id===e.payload.id);if(n>=0){const u=[...t.items];return u[n].quantity+=1,{...t,items:u,total:t.total+e.payload.price}}return{...t,items:[...t.items,{...e.payload,quantity:1}],total:t.total+e.payload.price};case"REMOVE_FROM_CART":const i=t.items.find(u=>u.id===e.payload);return{...t,items:t.items.filter(u=>u.id!==e.payload),total:t.total-i.price*i.quantity};case"UPDATE_QUANTITY":const a=t.items.map(u=>u.id===e.payload.id?(e.payload.quantity-u.quantity,{...u,quantity:e.payload.quantity}):u),c=a.reduce((u,m)=>u+m.price*m.quantity,0);return{...t,items:a,total:c};case"CLEAR_CART":return{items:[],total:0};default:return t}},Kk=({children:t})=>{const[e,n]=O.useReducer(Wk,void 0,Zk);O.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=m=>{n({type:"ADD_TO_CART",payload:m})},a=m=>{n({type:"REMOVE_FROM_CART",payload:m})},c=(m,g)=>{if(g<=0){a(m);return}n({type:"UPDATE_QUANTITY",payload:{id:m,quantity:g}})},u=()=>{n({type:"CLEAR_CART"})};return d.jsx(NA.Provider,{value:{cartItems:e.items,cartTotal:e.total,addToCart:i,removeFromCart:a,updateQuantity:c,clearCart:u},children:t})},Jm=()=>{const t=O.useContext(NA);if(!t)throw new Error("useCart must be used within a CartProvider");return t},$k="/fruitbunch/assets/mainlogo-DCHUEAV1.png",Yk=()=>{const[t,e]=O.useState(!1),{cartItems:n}=Jm(),[i,a]=O.useState(null),[c,u]=O.useState(!1);O.useEffect(()=>{const g=localStorage.getItem("user");g&&a(JSON.parse(g));const _=localStorage.getItem("isAdmin");_&&u(JSON.parse(_))},[]);const m=g=>`https://ui-avatars.com/api/?background=43A047&size=130&color=FFF&font-size=0.60&name=${g.charAt(0).toUpperCase()}`;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-green-800 text-white text-xs lg:text-md py-2",children:d.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 mb-2 md:mb-0",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-envelope mr-2"})," fruitbunch.tvm@gmail.com"]}),d.jsxs("span",{className:"flex items-center hidden md:block",children:[d.jsx("i",{className:"fa-solid fa-clock mr-2"})," MON-SAT: 7.30am - 6.00pm"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-phone mr-2"})," +91 8807239379"]})]}),d.jsxs("div",{className:"flex space-x-4 hidden md:block",children:[d.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:d.jsx("i",{className:"fa-brands fa-instagram"})}),d.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:d.jsx("i",{className:"fa-brands fa-whatsapp"})})]})]})}),d.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-[9999]",children:[d.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[d.jsx(Qe,{to:"/",className:"flex items-center",children:d.jsx("img",{src:$k,alt:"Fruit Bunch",className:"h-14"})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-5 lg:space-x-8 text-sm lg:text-md",children:[d.jsx(fh,{to:"/",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Home"}),d.jsx(fh,{to:"/subscription",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Fruit Bowl Subscription"}),d.jsx(fh,{to:"/corporate",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Corporate Orders"}),d.jsx(fh,{to:"/about",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"About Us"}),d.jsx("div",{className:"flex items-center space-x-4",children:i?d.jsxs(d.Fragment,{children:[c&&d.jsx(Qe,{to:"/admin",className:"bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition",children:"Admin Dashboard"}),d.jsxs(Qe,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition flex items-center",children:[d.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),d.jsx(Qe,{to:"/profile",className:"flex items-center",children:d.jsx("img",{src:m(i.name||"U"),alt:"User Avatar",className:"w-10 h-10 rounded-full"})})]}):d.jsx(Qe,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",children:"Login"})})]}),d.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:()=>e(!t),children:d.jsx("i",{className:`fa-solid ${t?"fa-xmark":"fa-bars"} text-xl`})})]}),t&&d.jsx("div",{className:"md:hidden bg-white px-4 pb-4",children:d.jsxs("div",{className:"flex flex-col space-y-3",children:[d.jsx(Qe,{to:"/",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Home"}),d.jsx(Qe,{to:"/subscription",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Fruit Bowl Subscription"}),d.jsx(Qe,{to:"/corporate",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Corporate Orders"}),d.jsx(Qe,{to:"/about",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"About Us"}),d.jsx("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:i?d.jsxs(d.Fragment,{children:[c&&d.jsx(Qe,{to:"/admin",onClick:()=>e(!1),className:"bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition",children:"Admin Dashboard"}),d.jsxs(Qe,{to:"/cart",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[d.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),d.jsxs(Qe,{to:"/profile",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[d.jsx("i",{className:"fa-solid fa-user mr-2"})," Profile"]})]}):d.jsx(Qe,{to:"/login",onClick:()=>e(!1),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-center transition",children:"Login"})})]})})]})]})},Qk=()=>d.jsx("footer",{className:"bg-green-900 text-white py-12 px-5 md:px-10 text-xs sm:px-10 lg:text-sm",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"quicklink",children:[d.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Quick Links"}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(Qe,{to:"/",className:"hover:text-green-300 transition",children:"Home"}),d.jsx(Qe,{to:"/subscription",className:"hover:text-green-300 transition",children:"Fruit Bowl Subscription"}),d.jsx(Qe,{to:"/corporate",className:"hover:text-green-300 transition",children:"Corporate Orders"}),d.jsx(Qe,{to:"/about",className:"hover:text-green-300 transition",children:"About Us"}),d.jsx(Qe,{to:"/termsandconditions",className:"hover:text-green-300 transition",children:"Terms and Conditions"}),d.jsx(Qe,{to:"/privacypolicy",className:"hover:text-green-300 transition",children:"Privacy Policy"})]})]}),d.jsxs("div",{className:"footabout",children:[d.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Subscription Services"}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx("p",{children:"Fruit Bowl"}),d.jsx("p",{children:"Diet Platter"}),d.jsx("p",{children:"Salad Bowls"}),d.jsx("p",{children:"Fresh Juice"})]}),d.jsx("div",{className:"mt-4",children:d.jsx("b",{className:"text-green-300",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"})})]}),d.jsxs("div",{className:"contact",children:[d.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Contact Us"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-phone w-5 mr-2"}),d.jsx("a",{href:"tel:+918807239379",className:"hover:underline",children:"+91 8807239379"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-envelope w-5 mr-2"}),d.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"hover:underline",children:"fruitbunch.tvm@gmail.com"})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("i",{className:"fa-solid fa-location-dot w-5 mr-2 mt-1"}),d.jsxs("span",{children:["No:59, Sarathambal nagar,",d.jsx("br",{})," Tiruvannamalai,",d.jsx("br",{})," Tamil Nadu 606601"]})]})]})]})]}),d.jsx("div",{className:"border-t border-green-800 mt-8 pt-8 text-center",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," Fruit Bunch. All rights reserved."]})})]})}),Xk="/fruitbunch/assets/home-1-DzAgSFnE.png",Jk="/fruitbunch/assets/home-2-D3iDtu3z.png",e3="/fruitbunch/assets/backbowl1-CMZS9lr5.png",t3="/fruitbunch/assets/sixfruit-n1UQudVg.jpg",n3="/fruitbunch/assets/homeplan-hNcT9G7U.jpg",i3=()=>{const[t,e]=O.useState(0),n=[Jk,Xk,e3];return O.useEffect(()=>{const i=setInterval(()=>{e(a=>(a+1)%n.length)},4e3);return()=>clearInterval(i)},[]),O.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("section",{className:"bg-gradient-to-r from-green-50 to-green-100 py-12 px-5 md:py-20 md:px-10 relative overflow-hidden",children:d.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center relative z-10",children:[d.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 mr-4",children:[d.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-gray-800 mb-6","data-aos":"fade-up",children:"Fresh Fruit. No Fuss. Just Bunches of Goodness."}),d.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-8","data-aos":"fade-up","data-aos-delay":"200",children:"Fruit Bunch delivers clean, ready-to-eat fruit bowls straight to your doorstep. It's the simple, tasty, and healthy choiceevery single day. Subscribe now and stay fresh, always."}),d.jsx(Qe,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1","data-aos":"zoom-in","data-aos-delay":"400",children:"Enjoy fresh cut fruit daily"})]}),d.jsx("div",{className:"w-full md:w-1/2 flex justify-center",children:d.jsxs("div",{className:"relative w-full max-w-md h-[200px] md:h-[280px] lg:h-[400px] overflow-hidden rounded-lg shadow-xl","data-aos":"fade-left","data-aos-delay":"300",children:[n.map((i,a)=>d.jsx("img",{src:i,alt:"Fresh fruits",className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${t===a?"opacity-100":"opacity-0"}`},a)),d.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-md text-sm sm:text-base animate-bounce",children:d.jsx("span",{className:"text-green-600 font-bold",children:" Fresh!"})})]})})]})}),d.jsx("section",{className:"py-16 px-5 bg-white",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center md:px-10",children:[d.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right","data-aos-delay":"200",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:t3,alt:"Variety of fruits",className:"w-full max-w-md rounded-lg shadow-md mx-auto transform transition-transform duration-700 hover:scale-105"}),d.jsx("div",{className:"absolute -bottom-4 -left-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm sm:text-base",children:d.jsx("span",{className:"font-bold",children:"6 Fruits Daily!"})})]})}),d.jsx("div",{className:"md:w-1/2 md:pl-12",children:d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{title:"Tropical Refresh: Summer Care Fruit Pack",desc:"Cool down with this hydrating mix of nature's most refreshing fruits, perfect for beating the summer heat.",icon:""},{title:"Shield Boost: Immuno Care Fruit Pack",desc:"Strengthen your body's natural defenses with this immunity-boosting blend, rich in vitamin C and antioxidants.",icon:""},{title:"Nurture Nest: Mother Care Fresh Fruit Pack",desc:"Carefully selected to support maternal health, rich in iron, folate, and essential nutrients.",icon:""},{title:"Glow Mix: Skin & Hair Care Pack",desc:"Let your beauty shine from within with this antioxidant-rich blend for clear skin and healthy hair.",icon:""}].map((i,a)=>d.jsxs("div",{className:"bg-green-50 p-6 rounded-lg transition-all duration-300 hover:shadow-lg hover:bg-green-100 transform hover:-translate-y-1","data-aos":"fade-up","data-aos-delay":a*200,children:[d.jsx("div",{className:"flex items-center mb-3",children:d.jsx("h3",{className:"font-bold text-sm lg:text-xl text-green-800",children:i.title})}),d.jsx("p",{className:"text-xs lg:text-lg text-gray-600",children:i.desc})]},a))})})]})})}),d.jsx("section",{className:"py-16 px-5 md:px-10 bg-green-50 relative overflow-hidden",children:d.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Best Seller"}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl","data-aos":"zoom-in",children:[d.jsxs("div",{className:"md:w-1/2 p-6 sm:p-8",children:[d.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-4","data-aos":"fade-right",children:"6 Days Six Different Variety of Diet Platter"}),d.jsx("ul",{className:"space-y-3 mb-6",children:["Amla 5pcs. Steamed broccoli 150gm Corn+Carrot & Cucumber, Sprouts, Dates + Nuts.","Papaya, Pineapple, Steamed Zucchini 150g + Green Peas (Bell Pepper Onion +Tomato + Sweet corn), Salad Sprouts, Nuts + Seeds.","Dragon fruit Apple, Steamed cabbage & beans 150g + Black eyed bean + Beetroot + Carrot, Sprouts Dates Seeds."].map((i,a)=>d.jsxs("li",{className:"flex items-start transition-transform duration-300 hover:translate-x-2","data-aos":"fade-up","data-aos-delay":a*150,children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{className:"text-sm lg:text-lg",children:i})]},a))}),d.jsx(Qe,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 md:px-4 md:py-2 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in",children:"View All Plans"})]}),d.jsx("div",{className:"md:w-1/2","data-aos":"fade-left","data-aos-delay":"200",children:d.jsxs("div",{className:"bg-green-100 p-8 text-center h-full flex flex-col justify-center",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("img",{src:n3,alt:"Balanced Diet Platter",className:"w-full max-w-xs mx-auto rounded-lg mb-4 transform transition-transform duration-700 hover:scale-105"}),d.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular!"})]}),d.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"BALANCED DIET PLATTER"}),d.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-2",children:"3,499/- per month"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Free delivery"}),d.jsx("div",{className:"flex justify-center items-center text-yellow-400 mb-4",children:[...Array(5)].map((i,a)=>d.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},a))}),d.jsx(Qe,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in","data-aos-delay":"200",children:"Subscribe Now"})]})})]})]})})]})},s3="/fruitbunch/assets/BasicPlanImage-BMqsYUJx.jpeg",r3="/fruitbunch/assets/PeriumPlanImage-C680bpQe.jpeg",CA="/fruitbunch/assets/fruit-7-B0YHmhe4.jpg",a3="/fruitbunch/assets/BalancedDiet-DpC7SgYG.png",o3="/fruitbunch/assets/juice2-CHOH3c0W.jpg",l3="/fruitbunch/assets/kidsplan-BmS3QCpZ.jpg",c3="/fruitbunch/assets/freshjuice-DH0t0v_N.jpg",u3="/fruitbunch/assets/butter-DYvvPtp9.jpg",h3="/fruitbunch/assets/yogurt-B2y-BBUE.jpg",d3=()=>{const{addToCart:t,cartItems:e}=Jm(),[n,i]=O.useState({}),a=Mo(),c=T=>{i(A=>({...A,[T]:!A[T]}))};O.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]);const u=[{id:1,name:"Basic plan",price:2499,image:s3,description:"Apple, Orange, Papaya, Pineapple",moreInfo:"Grapes, Guava, Water melon, Fig, Pears, chikku",type:"plan"},{id:2,name:"Premium plan",price:2999,image:r3,description:"Apple, Orange, Dragon fruits, Pineapple",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"},{id:3,name:"Diabetic plan",price:2499,image:CA,description:"Amla, Guava, Kiwi, Fig",moreInfo:"Grapes, Pineapple, Kiwi, Orange",type:"plan"},{id:4,name:"Balanced Diet platter",price:3499,image:a3,description:"2 Fruit, 2 Vegetables, Dry Fruit",moreInfo:"Nuts, Sprouts, Steamed Vegetables",type:"plan"},{id:5,name:"Salad Bowl",price:2499,image:o3,description:"Nutrients, Quality Proteins, Good fat",moreInfo:"Healthy, Probiotic, Whole carb, antioxidants",type:"plan"},{id:6,name:"Kids fruit bowl",price:1199,image:l3,description:"Corn, Cucumber, Nuts",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"}],m=[{id:7,name:"Fresh Juice",price:699,image:c3,type:"drink"},{id:8,name:"Butter milk",price:599,image:u3,type:"drink"},{id:9,name:"Greek Yogurt",price:40,image:h3,type:"drink",isDaily:!0}],g=e.some(T=>T.type==="plan"),_=T=>{if(T.type==="drink"&&!g){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/cart")},x=T=>{if(T.type==="drink"&&!g){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/checkout")};return d.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Choose Your Subscription"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:u.map(T=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[d.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),d.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:["",T.price,"/- per month"]}),d.jsxs("p",{className:"text-gray-600 mb-3 text-sm",children:[T.description.length>20?T.description.slice(0,20)+"...":T.description,d.jsx("button",{onClick:()=>c(T.id),className:"ml-2 text-green-600 hover:text-green-800 font-semibold",children:n[T.id]?"Less":"More"})]}),n[T.id]&&d.jsx("p",{className:"text-gray-600 mb-4",children:T.moreInfo}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),d.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))}),d.jsxs("div",{className:"mb-16",children:[d.jsx("div",{className:"absolute -top-200 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-640 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-8","data-aos":"fade-up",children:"Add On Drinks"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:m.map(T=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[d.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-green-600 mb-4",children:["",T.price,"/- ",T.isDaily?"per day":"per month"]}),d.jsxs("div",{className:"flex lg:space-x-3 md:flex-col lg:flex-row gap-3",children:[d.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),d.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))})]})]})},f3="/fruitbunch/assets/bulk1-CEBMS9Ua.jpeg",m3="/fruitbunch/assets/bulk2-Dqc0Jvw1.jpeg",p3="/fruitbunch/assets/bulk3-Dj3Rrqm9.jpeg",g3="/fruitbunch/assets/primeplan-scfj7ntK.jpg",y3="/fruitbunch/assets/basicplan-Bm8xxGeT.jpg",v3=()=>{const t=Mo(),[e,n]=O.useState({name:"",email:"",phone:"",message:""}),[i,a]=O.useState({name:"",email:"",phone:"",message:""}),[c,u]=O.useState(0),m=[f3,m3,p3];O.useEffect(()=>{const A=setInterval(()=>{u(I=>(I+1)%m.length)},4e3);return()=>clearInterval(A)},[]);const g=A=>{const{name:I,value:P}=A.target;n({...e,[I]:P}),i[I]&&a({...i,[I]:""})},_=()=>{let A=!0;const I={...i};return e.name.trim()||(I.name="Name is required",A=!1),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(I.email="Email is invalid",A=!1):(I.email="Email is required",A=!1),e.phone.trim()||(I.phone="Phone number is required",A=!1),e.message.trim()||(I.message="Message is required",A=!1),a(I),A},x=async A=>{if(A.preventDefault(),_())try{await Wf(Tl(Bn,"corporateQuotes"),{...e,createdAt:wt.now()}),alert("Thank you! Your request has been submitted."),n({name:"",email:"",phone:"",message:""})}catch(I){console.error(I),alert("Something went wrong. Please try again.")}},T=()=>{const A="918807239379",P=encodeURIComponent("I'm interested in corporate orders for Fruit Bunch"),z=`https://wa.me/${A}?text=${P}`;window.open(z,"_blank")};return d.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute top-[750px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-[1400px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute top-[2100px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-[2100px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsxs("section",{className:"flex flex-col lg:flex-row items-center mb-20 gap-10",children:[d.jsx("div",{className:"lg:w-1/2",children:d.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow transform transition-all duration-500 hover:shadow-xl w-full max-w-xl aspect-[4/4]",children:[m.map((A,I)=>d.jsx("img",{src:A,alt:"Corporate Orders",className:`absolute inset-0 w-full h-full object-cover rounded-2xl transition-opacity duration-1000 ease-in-out ${c===I?"opacity-100":"opacity-0"}`},I)),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-2xl"})]})}),d.jsxs("div",{className:"lg:w-1/2",children:[d.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:["Elevate Workplace Wellness with"," ",d.jsx("span",{className:"text-green-600",children:"Fresh Fruit Delivery"})]}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Combat afternoon slumps with natural energy boosts"})]}),d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Reduce sick days with immune-boosting nutrition"})]}),d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Increase productivity with healthier, happier teams"})]})]}),d.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-2xl border-l-4 border-green-500",children:[d.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-green-800 mb-2",children:"Ready to transform your workplace?"}),d.jsx("p",{className:"text-lg lg:text-xl font-medium text-gray-700",children:"Call us: +918807239379"})]}),d.jsxs("button",{onClick:T,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md transform hover:-translate-y-1 flex items-center justify-center",children:[d.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})}),"Message us on WhatsApp"]})]})]}),d.jsxs("section",{className:"mb-20",children:[d.jsxs("div",{className:"text-center mb-14",children:[d.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-4",children:"Corporate Wellness Plans"}),d.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto",children:"Tailored fruit delivery programs designed to boost employee health and productivity"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[d.jsxs("div",{className:"relative overflow-hidden h-64",children:[d.jsx("img",{src:y3,alt:"Basic Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),d.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white py-1 px-3 rounded-full text-sm font-semibold",children:"Most Popular"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Essential Wellness"}),d.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Perfect for small teams looking to incorporate healthy habits"}),d.jsxs("ul",{className:"space-y-2 mb-6",children:[d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"3 fruit varieties daily"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Weekly delivery"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Seasonal selections"})]})]}),d.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[d.jsx("div",{className:"relative overflow-hidden h-64",children:d.jsx("img",{src:g3,alt:"Premium Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Premium Refresh"}),d.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Comprehensive nutrition for medium to large organizations"}),d.jsxs("ul",{className:"space-y-2 mb-6",children:[d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"5+ premium fruit varieties"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Twice weekly delivery"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Organic options available"})]})]}),d.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[d.jsx("div",{className:"relative overflow-hidden h-64",children:d.jsx("img",{src:CA,alt:"Diet Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Executive Wellness"}),d.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Premium customized programs for health-conscious organizations"}),d.jsxs("ul",{className:"space-y-2 mb-6",children:[d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Customized fruit selection"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Daily delivery options"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Nutritionist consultation included"})]})]}),d.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]})]})]}),d.jsx("section",{className:"mb-20 bg-gradient-to-r from-green-50 to-emerald-50 py-14 px-4 rounded-3xl",children:d.jsxs("div",{className:"max-w-5xl mx-auto",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Companies Choose Us"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"92%"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Employee satisfaction"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"350+"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Corporate clients"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"10h"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Delivery time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Organic guarantee"})]})]})]})}),d.jsx("section",{className:"bg-white rounded-3xl p-8 shadow-lg",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Get Your Custom Quote"}),d.jsx("p",{className:"text-xl text-gray-600",children:"Tell us about your company's needs and we'll prepare a tailored proposal"})]}),d.jsxs("form",{onSubmit:x,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:g,className:`w-full px-5 py-4 border ${i.name?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.name&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.name})]}),d.jsxs("div",{children:[d.jsx("input",{type:"email",name:"email",placeholder:"Work Email",value:e.email,onChange:g,className:`w-full px-5 py-4 border ${i.email?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.email&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.email})]})]}),d.jsxs("div",{children:[d.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:e.phone,onChange:g,className:`w-full px-5 py-4 border ${i.phone?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.phone&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.phone})]}),d.jsxs("div",{children:[d.jsx("textarea",{name:"message",placeholder:"Tell us about your company size and fruit preferences...",rows:"5",value:e.message,onChange:g,className:`w-full px-5 py-4 border ${i.message?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.message&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.message})]}),d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md",children:"Request Custom Proposal"})]})]})})]})},_3="/fruitbunch/assets/about-3-DaCk93dU.jpg",x3="/fruitbunch/assets/aboutbackimgg-BkiEa4ds.jpg",b3=()=>d.jsxs("div",{className:"container mx-auto px-10 py-12",children:[d.jsxs("section",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 mb-20",children:[d.jsxs("div",{className:"lg:w-1/2 order-2 lg:order-1",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["Nourishing Lives Through ",d.jsx("span",{className:"text-green-600",children:"Wholesome Eating"})]}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"At Fruit Bunch, we specialize in crafting healthy, ready-to-eat meals packed with essential nutrients to fuel your body and mind."}),d.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Our offerings include:"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Fruit Bowls"})]}),d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Diet Platters"})]}),d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Salad Bowls"})]}),d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Fresh Juices"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border-l-4 border-green-500",children:[d.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Our Goal is Simple"}),d.jsx("p",{className:"text-lg text-gray-700",children:"To make healthy eating"}),d.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:"Easy, Affordable and Delicious!"})]})]}),d.jsx("div",{className:"lg:w-1/2 order-1 lg:order-2",children:d.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl w-full max-w-xl aspect-[4/4]",children:[d.jsx("img",{src:_3,alt:"About Fruit Bunch",className:"w-full h-full object-cover rounded-2xl transition-transform duration-700 hover:scale-105"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})]}),d.jsx("section",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-3xl p-10 shadow-lg mb-20",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),d.jsx("div",{className:"text-2xl text-green-700 font-semibold mb-8",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"}),d.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[d.jsx("p",{children:"At Fruit Bunch, we believe in the transformative power of healthy eating. Our mission is to provide nutrient-rich, well-balanced meals that fuel your body and mind for optimal performance."}),d.jsx("p",{children:"We meticulously source the freshest ingredients and craft them into wholesome platters, salads, and drinks that cater to a healthy and active lifestyle. Each item on our menu is designed to deliver maximum nutritional value without compromising on taste."}),d.jsx("p",{children:"Whether you're looking for a balanced diet, nutritious salad bowl, or refreshing add-ons, our carefully curated menu ensures you get the perfect combination of taste, health, and convenience."})]})]})}),d.jsxs("section",{className:"mb-20",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-14",children:"What Drives Us"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[d.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:d.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0A1.5 1.5 0 013 15.546V5a2 2 0 012-2h14a2 2 0 012 2v10.546z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v4l2 2"})]})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quality & Freshness"}),d.jsx("p",{className:"text-gray-600",children:"We source only the freshest, highest-quality ingredients for all our products, ensuring maximum nutritional value and taste."})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[d.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Community Health"}),d.jsx("p",{className:"text-gray-600",children:"We're committed to improving community health by making nutritious eating accessible, affordable, and enjoyable for everyone."})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[d.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sustainability"}),d.jsx("p",{className:"text-gray-600",children:"We prioritize environmentally responsible practices, from sourcing to packaging, to minimize our ecological footprint."})]})]})]}),d.jsxs("section",{className:"mb-20",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Visit Us"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Come experience the freshness at our location. We'd love to welcome you!"})]}),d.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3899.0586626904005!2d79.0956933!3d12.244307300000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bacc17e8a517c7f%3A0xc7eb43ae80e2cef2!2sFRUIT%20BUNCH!5e0!3m2!1sen!2sin!4v1758553288639!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",title:"Fruit Bunch Location",className:"rounded-2xl"})}),d.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Store Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsxs("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-700",children:"Address"}),d.jsx("p",{className:"text-gray-600",children:"No:59, sarathambal nagar, Tiruvannamalai, Tamil Nadu 606601"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-700",children:"Opening Hours"}),d.jsx("p",{className:"text-gray-600",children:"Mon-Sat: 7:30 AM - 6:00 PM"})]})]})]})]})]}),d.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl mb-16",children:[d.jsx("img",{src:x3,alt:"Fresh fruits background",className:"w-full h-96 object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:d.jsxs("div",{className:"text-center p-6 max-w-3xl",children:[d.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Fresh. Healthy. Delivered."}),d.jsx("p",{className:"text-xl text-white mb-8 opacity-90",children:"Experience the difference that fresh, nutrient-packed meals can make in your life."}),d.jsx(Qe,{to:"/subscription",className:"bg-white text-green-700 font-semibold py-3 px-8 rounded-xl hover:bg-green-50 transition-colors duration-300 shadow-lg",children:"Explore Our Menu"})]})})]}),d.jsx("section",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Freshness Delivered To Your Door"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Enjoy seasonal fruits, health tips, and exclusive offers  straight from our farm to your family."}),d.jsx(Qe,{to:"/subscription",className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300 inline-block",children:"Start Your Subscription"})]})})]}),w3=()=>{const t=Mo(),n=Ns().state?.from?.pathname||"/",[i,a]=O.useState({identifier:"",password:""}),[c,u]=O.useState(!1),[m,g]=O.useState(!1),[_,x]=O.useState(""),T=P=>{a({...i,[P.target.name]:P.target.value})},A=async P=>{P.preventDefault();try{u(!0),x("");let z=i.identifier;if(!i.identifier.includes("@")){const U=Ts(Bn,"phoneToUid",i.identifier),M=await Pc(U);if(!M.exists())throw new Error("No account found with this phone number");const{uid:B}=M.data(),W=Ts(Bn,"users",B),q=await Pc(W);if(!q.exists())throw new Error("User profile not found");z=q.data().email}const $=(await dD(fu,z,i.password)).user,K=Ts(Bn,"users",$.uid),X=await Pc(K),_e=Ts(Bn,"admins",$.uid),we=(await Pc(_e)).exists();if(X.exists()){const U=X.data();u(!1),localStorage.setItem("isAdmin",JSON.stringify(we)),localStorage.setItem("user",JSON.stringify({uid:$.uid,email:U.email,name:U.name,phone:U.phone}))}else console.log("No user profile found in Firestore!");u(!1),t(n,{replace:!0})}catch(z){console.error("Login error:",z.message),x(z.message||"Invalid credentials"),u(!1)}},I=()=>{g(!0),setTimeout(()=>{g(!1)},3e3)};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome back"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(Qe,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"create a new account"})]})]}),_&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"identifier",className:"sr-only",children:"Email address or Phone Number"}),d.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address or Phone Number",value:i.identifier,onChange:T})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:i.password,onChange:T}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:I,children:m?d.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"}):d.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),d.jsx("div",{className:"text-sm",children:d.jsx(Qe,{to:"/forgot-password",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Forgot your password?"})})]}),d.jsx("div",{children:d.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:c,children:[c?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,c?"Signing in...":"Sign in"]})})]})]})]})},T3=()=>{const t=Mo(),[e,n]=O.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[i,a]=O.useState(!1),[c,u]=O.useState(""),[m,g]=O.useState(!1),[_,x]=O.useState(!1),T=z=>{n({...e,[z.target.name]:z.target.value})},A=async z=>{if(z.preventDefault(),e.password!==e.confirmPassword){u("Passwords do not match!");return}try{a(!0),u("");const $=(await hD(fu,e.email,e.password)).user;await mD($,{displayName:e.name}),await YT(Ts(Bn,"users",$.uid),{uid:$.uid,name:e.name,email:e.email,phone:e.phone,createdAt:Kf()}),await YT(Ts(Bn,"phoneToUid",e.phone),{uid:$.uid}),console.log("User created & saved:",$.uid),a(!1),t("/login")}catch(V){console.error("Signup error:",V.message),u(V.message),a(!1)}},I=()=>{g(!0),setTimeout(()=>{g(!1)},3e3)},P=()=>{x(!0),setTimeout(()=>{x(!1)},3e3)};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 right-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),d.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Create your account"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(Qe,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"sign in to your existing account"})]})]}),c&&d.jsx("p",{className:"text-red-500 text-sm mb-2",children:c}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),d.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Full Name",value:e.name,onChange:T}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:e.email,onChange:T}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),d.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Phone Number",value:e.phone,onChange:T}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:e.password,onChange:T}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:I,children:m?d.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):d.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:_?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Confirm Password",value:e.confirmPassword,onChange:T}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:P,children:_?d.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):d.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150",required:!0}),d.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",d.jsx("a",{href:"/fruitbunch/termsandconditions",className:"text-green-600 hover:text-green-500 transition-colors duration-300",children:"Terms and Conditions"})]})]}),d.jsx("div",{children:d.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:i,children:[i?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,i?"Creating account...":"Create Account"]})})]})]})]})},E3=()=>{const{cartItems:t,updateQuantity:e,removeFromCart:n,cartTotal:i,clearCart:a}=Jm(),[c,u]=O.useState(!1),m=(x,T)=>{T<1||e(x,T)},g=x=>{n(x)},_=()=>{u(!0),setTimeout(()=>{u(!1)},1e3)};return t.length===0?d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:""}),d.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),d.jsx(Qe,{to:"/subscription",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Continue Shopping"})]})}):d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Your Cart"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:["Cart Items (",t.length,")"]}),d.jsx("div",{className:"space-y-6",children:t.map(x=>d.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-6",children:[d.jsx("img",{src:x.image,alt:x.name,className:"w-20 h-20 object-cover rounded-lg"}),d.jsxs("div",{className:"ml-4 flex-grow",children:[d.jsx("h3",{className:"font-medium text-gray-800 text-lg",children:x.name}),d.jsxs("p",{className:"text-green-600 font-bold",children:["",x.price]})]}),d.jsxs("div",{className:"flex items-center ml-4",children:[d.jsx("button",{onClick:()=>m(x.id,x.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l-md",children:"-"}),d.jsx("span",{className:"w-10 h-8 flex items-center justify-center bg-gray-50",children:x.quantity}),d.jsx("button",{onClick:()=>m(x.id,x.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-r-md",children:"+"})]}),d.jsx("div",{className:"ml-6 hidden md:block",children:d.jsxs("p",{className:"font-bold text-green-600",children:["",x.price*x.quantity]})}),d.jsx("button",{onClick:()=>g(x.id),className:"ml-6 text-red-500 hover:text-red-700 hidden md:block",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},x.id))}),d.jsxs("div",{className:"flex justify-between mt-8",children:[d.jsxs(Qe,{to:"/subscription",className:"flex items-center text-green-600 hover:text-green-800 font-medium",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),d.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-700 font-medium",children:"Clear Cart"})]})]})}),d.jsx("div",{children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),d.jsx("div",{className:"space-y-4",children:t.map(x=>d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[x.name,"  ",x.quantity]}),d.jsxs("span",{className:"font-medium",children:["",x.price*x.quantity]})]},x.id))}),d.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",i]})]}),d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Delivery Fee"}),d.jsx("span",{className:"text-green-600",children:"Free"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",i]})]})]}),d.jsx("div",{className:"mt-6",children:d.jsx(Qe,{to:"/checkout",onClick:_,disabled:c,className:`w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center ${c?"opacity-75 cursor-not-allowed":""}`,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})})]})})]})]})};function RA(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const S3=1;function A3(t){return Object.freeze({__version:S3,map:t})}function N3(t,e){return Object.freeze({...t,...e})}const Pv=O.createContext(null);function Iv(){const t=O.use(Pv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function C3(t){function e(n,i){const{instance:a,context:c}=t(n).current;O.useImperativeHandle(i,()=>a);const{children:u}=n;return u==null?null:Sy.createElement(Pv,{value:c},u)}return O.forwardRef(e)}function R3(t){function e(n,i){const[a,c]=O.useState(!1),{instance:u}=t(n,c).current;O.useImperativeHandle(i,()=>u),O.useEffect(function(){a&&u.update()},[u,a,n.children]);const m=u._contentNode;return m?NP.createPortal(n.children,m):null}return O.forwardRef(e)}function j3(t){function e(n,i){const{instance:a}=t(n).current;return O.useImperativeHandle(i,()=>a),null}return O.forwardRef(e)}function jA(t,e){const n=O.useRef(void 0);O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Dv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function P3(t,e){return function(i,a){const c=Iv(),u=t(Dv(i,c),c);return RA(c.map,i.attribution),jA(u.current,i.eventHandlers),e(u.current,c,i,a),u}}var xh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var I3=xh.exports,XT;function D3(){return XT||(XT=1,(function(t,e){(function(n,i){i(e)})(I3,(function(n){var i="1.9.4";function a(o){var h,y,w,S;for(y=1,w=arguments.length;y<w;y++){S=arguments[y];for(h in S)o[h]=S[h]}return o}var c=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function u(o,h){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var w=y.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(y.call(arguments)):arguments)}}var m=0;function g(o){return"_leaflet_id"in o||(o._leaflet_id=++m),o._leaflet_id}function _(o,h,y){var w,S,R,G;return G=function(){w=!1,S&&(R.apply(y,S),S=!1)},R=function(){w?S=arguments:(o.apply(y,arguments),setTimeout(G,h),w=!0)},R}function x(o,h,y){var w=h[1],S=h[0],R=w-S;return o===w&&y?o:((o-S)%R+R)%R+S}function T(){return!1}function A(o,h){if(h===!1)return o;var y=Math.pow(10,h===void 0?6:h);return Math.round(o*y)/y}function I(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function P(o){return I(o).split(/\s+/)}function z(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var y in h)o.options[y]=h[y];return o.options}function V(o,h,y){var w=[];for(var S in o)w.push(encodeURIComponent(y?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function K(o,h){return o.replace($,function(y,w){var S=h[w];if(S===void 0)throw new Error("No value provided for variable "+y);return typeof S=="function"&&(S=S(h)),S})}var X=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function _e(o,h){for(var y=0;y<o.length;y++)if(o[y]===h)return y;return-1}var de="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function we(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var U=0;function M(o){var h=+new Date,y=Math.max(0,16-(h-U));return U=h+y,window.setTimeout(o,y)}var B=window.requestAnimationFrame||we("RequestAnimationFrame")||M,W=window.cancelAnimationFrame||we("CancelAnimationFrame")||we("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function q(o,h,y){if(y&&B===M)o.call(h);else return B.call(window,u(o,h))}function Q(o){o&&W.call(window,o)}var H={__proto__:null,extend:a,create:c,bind:u,get lastId(){return m},stamp:g,throttle:_,wrapNum:x,falseFn:T,formatNum:A,trim:I,splitWords:P,setOptions:z,getParamString:V,template:K,isArray:X,indexOf:_e,emptyImageUrl:de,requestFn:B,cancelFn:W,requestAnimFrame:q,cancelAnimFrame:Q};function Be(){}Be.extend=function(o){var h=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,w=c(y);w.constructor=h,h.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return o.statics&&a(h,o.statics),o.includes&&(Pe(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=y.options?c(y.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,G=w._initHooks.length;R<G;R++)w._initHooks[R].call(this)}},h},Be.include=function(o){var h=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Be.mergeOptions=function(o){return a(this.prototype.options,o),this},Be.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function Pe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=X(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(o,h,y){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=P(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,y)}return this},off:function(o,h,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=P(o);for(var S=arguments.length===1,R=0,G=o.length;R<G;R++)S?this._off(o[R]):this._off(o[R],h,y)}return this},_on:function(o,h,y,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,y)===!1){y===this&&(y=void 0);var S={fn:h,ctx:y};w&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,h,y){var w,S,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,R=w.length;S<R;S++)w[S].fn=T;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var G=this._listens(o,h,y);if(G!==!1){var ee=w[G];this._firingCount&&(ee.fn=T,this._events[o]=w=w.slice()),w.splice(G,1)}}},fire:function(o,h,y){if(!this.listens(o,y))return this;var w=a({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,G=S.length;R<G;R++){var ee=S[R],ue=ee.fn;ee.once&&this.off(o,ue,ee.ctx),ue.call(ee.ctx||this,w)}this._firingCount--}}return y&&this._propagateEvent(w),this},listens:function(o,h,y,w){typeof o!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(w=!!h,S=void 0,y=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,S,y)!==!1)return!0;if(w){for(var G in this._eventParents)if(this._eventParents[G].listens(o,h,y,w))return!0}return!1},_listens:function(o,h,y){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;y===this&&(y=void 0);for(var S=0,R=w.length;S<R;S++)if(w[S].fn===h&&w[S].ctx===y)return S;return!1},once:function(o,h,y){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=P(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[g(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[g(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var re=Be.extend(F);function te(o,h,y){this.x=y?Math.round(o):o,this.y=y?Math.round(h):h}var Ae=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(o){return this.clone()._add(k(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(k(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new te(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new te(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(o){o=k(o);var h=o.x-this.x,y=o.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(o){return o=k(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=k(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function k(o,h,y){return o instanceof te?o:X(o)?new te(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new te(o.x,o.y):new te(o,h,y)}function oe(o,h){if(o)for(var y=h?[o,h]:o,w=0,S=y.length;w<S;w++)this.extend(y[w])}oe.prototype={extend:function(o){var h,y;if(!o)return this;if(o instanceof te||typeof o[0]=="number"||"x"in o)h=y=k(o);else if(o=be(o),h=o.min,y=o.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,y;return typeof o[0]=="number"||o instanceof te?o=k(o):o=be(o),o instanceof oe?(h=o.min,y=o.max):h=y=o,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=be(o);var h=this.min,y=this.max,w=o.min,S=o.max,R=S.x>=h.x&&w.x<=y.x,G=S.y>=h.y&&w.y<=y.y;return R&&G},overlaps:function(o){o=be(o);var h=this.min,y=this.max,w=o.min,S=o.max,R=S.x>h.x&&w.x<y.x,G=S.y>h.y&&w.y<y.y;return R&&G},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,y=this.max,w=Math.abs(h.x-y.x)*o,S=Math.abs(h.y-y.y)*o;return be(k(h.x-w,h.y-S),k(y.x+w,y.y+S))},equals:function(o){return o?(o=be(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function be(o,h){return!o||o instanceof oe?o:new oe(o,h)}function me(o,h){if(o)for(var y=h?[o,h]:o,w=0,S=y.length;w<S;w++)this.extend(y[w])}me.prototype={extend:function(o){var h=this._southWest,y=this._northEast,w,S;if(o instanceof Re)w=o,S=o;else if(o instanceof me){if(w=o._southWest,S=o._northEast,!w||!S)return this}else return o?this.extend(Ee(o)||Te(o)):this;return!h&&!y?(this._southWest=new Re(w.lat,w.lng),this._northEast=new Re(S.lat,S.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),y.lat=Math.max(S.lat,y.lat),y.lng=Math.max(S.lng,y.lng)),this},pad:function(o){var h=this._southWest,y=this._northEast,w=Math.abs(h.lat-y.lat)*o,S=Math.abs(h.lng-y.lng)*o;return new me(new Re(h.lat-w,h.lng-S),new Re(y.lat+w,y.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=Ee(o):o=Te(o);var h=this._southWest,y=this._northEast,w,S;return o instanceof me?(w=o.getSouthWest(),S=o.getNorthEast()):w=S=o,w.lat>=h.lat&&S.lat<=y.lat&&w.lng>=h.lng&&S.lng<=y.lng},intersects:function(o){o=Te(o);var h=this._southWest,y=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>=h.lat&&w.lat<=y.lat,G=S.lng>=h.lng&&w.lng<=y.lng;return R&&G},overlaps:function(o){o=Te(o);var h=this._southWest,y=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>h.lat&&w.lat<y.lat,G=S.lng>h.lng&&w.lng<y.lng;return R&&G},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Te(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(o,h){return o instanceof me?o:new me(o,h)}function Re(o,h,y){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,y!==void 0&&(this.alt=+y)}Re.prototype={equals:function(o,h){if(!o)return!1;o=Ee(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return st.distance(this,Ee(o))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,y=h/Math.cos(Math.PI/180*this.lat);return Te([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Ee(o,h,y){return o instanceof Re?o:X(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Re(o,h,y)}var Nt={latLngToPoint:function(o,h){var y=this.projection.project(o),w=this.scale(h);return this.transformation._transform(y,w)},pointToLatLng:function(o,h){var y=this.scale(h),w=this.transformation.untransform(o,y);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(o),w=this.transformation.transform(h.min,y),S=this.transformation.transform(h.max,y);return new oe(w,S)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Re(y,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),y=this.wrapLatLng(h),w=h.lat-y.lat,S=h.lng-y.lng;if(w===0&&S===0)return o;var R=o.getSouthWest(),G=o.getNorthEast(),ee=new Re(R.lat-w,R.lng-S),ue=new Re(G.lat-w,G.lng-S);return new me(ee,ue)}},st=a({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var y=Math.PI/180,w=o.lat*y,S=h.lat*y,R=Math.sin((h.lat-o.lat)*y/2),G=Math.sin((h.lng-o.lng)*y/2),ee=R*R+Math.cos(w)*Math.cos(S)*G*G,ue=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*ue}}),pi=6378137,Pr={R:pi,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,y=this.MAX_LATITUDE,w=Math.max(Math.min(y,o.lat),-y),S=Math.sin(w*h);return new te(this.R*o.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var h=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=pi*Math.PI;return new oe([-o,-o],[o,o])})()};function er(o,h,y,w){if(X(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=y,this._d=w}er.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new te((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function es(o,h,y,w){return new er(o,h,y,w)}var Cs=a({},st,{code:"EPSG:3857",projection:Pr,transformation:(function(){var o=.5/(Math.PI*Pr.R);return es(o,.5,-o,.5)})()}),wa=a({},Cs,{code:"EPSG:900913"});function Vl(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ta(o,h){var y="",w,S,R,G,ee,ue;for(w=0,R=o.length;w<R;w++){for(ee=o[w],S=0,G=ee.length;S<G;S++)ue=ee[S],y+=(S?"L":"M")+ue.x+" "+ue.y;y+=h?Le.svg?"z":"x":""}return y||"M0 0"}var _n=document.documentElement.style,Ir="ActiveXObject"in window,Qt=Ir&&!document.addEventListener,Xt="msLaunchUri"in navigator&&!("documentMode"in document),Li=xn("webkit"),Ul=xn("android"),Ea=xn("android 2")||xn("android 3"),xu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dr=Ul&&xn("Google")&&xu<537&&!("AudioNode"in window),ts=!!window.opera,hn=!Xt&&xn("chrome"),Jn=xn("gecko")&&!Li&&!ts&&!Ir,In=!hn&&xn("safari"),Bl=xn("phantom"),Bo="OTransition"in _n,zl=navigator.platform.indexOf("Win")===0,Mi=Ir&&"transition"in _n,ns="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ea,gi="MozPerspective"in _n,yi=!window.L_DISABLE_3D&&(Mi||ns||gi)&&!Bo&&!Bl,vi=typeof orientation<"u"||xn("mobile"),Sa=vi&&Li,zo=vi&&ns,Rs=!window.PointerEvent&&window.MSPointerEvent,Lr=!!(window.PointerEvent||Rs),Lt="ontouchstart"in window||!!window.TouchEvent,Fl=!window.L_NO_TOUCH&&(Lt||Lr),tr=vi&&ts,nr=vi&&Jn,Fo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ho=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,h),window.removeEventListener("testPassiveEventSupport",T,h)}catch{}return o})(),js=(function(){return!!document.createElement("canvas").getContext})(),qo=!!(document.createElementNS&&Vl("svg").createSVGRect),is=!!qo&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Bt=!qo&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),dn=navigator.platform.indexOf("Mac")===0,Ps=navigator.platform.indexOf("Linux")===0;function xn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Le={ie:Ir,ielt9:Qt,edge:Xt,webkit:Li,android:Ul,android23:Ea,androidStock:Dr,opera:ts,chrome:hn,gecko:Jn,safari:In,phantom:Bl,opera12:Bo,win:zl,ie3d:Mi,webkit3d:ns,gecko3d:gi,any3d:yi,mobile:vi,mobileWebkit:Sa,mobileWebkit3d:zo,msPointer:Rs,pointer:Lr,touch:Fl,touchNative:Lt,mobileOpera:tr,mobileGecko:nr,retina:Fo,passiveEvents:Ho,canvas:js,svg:qo,vml:Bt,inlineSvg:is,mac:dn,linux:Ps},Hl=Le.msPointer?"MSPointerDown":"pointerdown",_i=Le.msPointer?"MSPointerMove":"pointermove",Is=Le.msPointer?"MSPointerUp":"pointerup",Mr=Le.msPointer?"MSPointerCancel":"pointercancel",xi={touchstart:Hl,touchmove:_i,touchend:Is,touchcancel:Mr},Oi={touchstart:Aa,touchmove:ti,touchend:ti,touchcancel:ti},ei={},Ds=!1;function zt(o,h,y){return h==="touchstart"&&kr(),Oi[h]?(y=Oi[h].bind(this,y),o.addEventListener(xi[h],y,!1),y):(console.warn("wrong event specified:",h),T)}function ql(o,h,y){if(!xi[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(xi[h],y,!1)}function Or(o){ei[o.pointerId]=o}function ss(o){ei[o.pointerId]&&(ei[o.pointerId]=o)}function ki(o){delete ei[o.pointerId]}function kr(){Ds||(document.addEventListener(Hl,Or,!0),document.addEventListener(_i,ss,!0),document.addEventListener(Is,ki,!0),document.addEventListener(Mr,ki,!0),Ds=!0)}function ti(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in ei)h.touches.push(ei[y]);h.changedTouches=[h],o(h)}}function Aa(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Dt(h),ti(o,h)}function bu(o){var h={},y,w;for(w in o)y=o[w],h[w]=y&&y.bind?y.bind(o):y;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Vr=200;function Ur(o,h){o.addEventListener("dblclick",h);var y=0,w;function S(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var G=Ca(R);if(!(G.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!G.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var ee=Date.now();ee-y<=Vr?(w++,w===2&&h(bu(R))):w=1,y=ee}}}return o.addEventListener("click",S),{dblclick:h,simDblclick:S}}function bi(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Ls=ir(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=ir(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),as=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function Br(o){return typeof o=="string"?document.getElementById(o):o}function os(o,h){var y=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);y=w?w[h]:null}return y==="auto"?null:y}function ot(o,h,y){var w=document.createElement(o);return w.className=h||"",y&&y.appendChild(w),w}function ht(o){var h=o.parentNode;h&&h.removeChild(o)}function Tt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ni(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function wi(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function ls(o,h){if(o.classList!==void 0)return o.classList.contains(h);var y=Ft(o);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function je(o,h){if(o.classList!==void 0)for(var y=P(h),w=0,S=y.length;w<S;w++)o.classList.add(y[w]);else if(!ls(o,h)){var R=Ft(o);Ms(o,(R?R+" ":"")+h)}}function vt(o,h){o.classList!==void 0?o.classList.remove(h):Ms(o,I((" "+Ft(o)+" ").replace(" "+h+" "," ")))}function Ms(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Ft(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function bn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Go(o,h)}function Go(o,h){var y=!1,w="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function ir(o){for(var h=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in h)return o[y];return!1}function Fn(o,h,y){var w=h||new te(0,0);o.style[Ls]=(Le.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(y?" scale("+y+")":"")}function It(o,h){o._leaflet_pos=h,Le.any3d?Fn(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function cs(o){return o._leaflet_pos||new te(0,0)}var wn,ii,zr;if("onselectstart"in document)wn=function(){ze(window,"selectstart",Dt)},ii=function(){dt(window,"selectstart",Dt)};else{var Os=ir(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(Os){var o=document.documentElement.style;zr=o[Os],o[Os]="none"}},ii=function(){Os&&(document.documentElement.style[Os]=zr,zr=void 0)}}function sr(){ze(window,"dragstart",Dt)}function Na(){dt(window,"dragstart",Dt)}var Fr,si;function Hr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(rr(),Fr=o,si=o.style.outlineStyle,o.style.outlineStyle="none",ze(window,"keydown",rr))}function rr(){Fr&&(Fr.style.outlineStyle=si,Fr=void 0,si=void 0,dt(window,"keydown",rr))}function ks(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Gl={__proto__:null,TRANSFORM:Ls,TRANSITION:rs,TRANSITION_END:as,get:Br,getStyle:os,create:ot,remove:ht,empty:Tt,toFront:ni,toBack:wi,hasClass:ls,addClass:je,removeClass:vt,setClass:Ms,getClass:Ft,setOpacity:bn,testProp:ir,setTransform:Fn,setPosition:It,getPosition:cs,get disableTextSelection(){return wn},get enableTextSelection(){return ii},disableImageDrag:sr,enableImageDrag:Na,preventOutline:Hr,restoreOutline:rr,getSizedParentNode:ks,getScale:fn};function ze(o,h,y,w){if(h&&typeof h=="object")for(var S in h)us(o,S,h[S],y);else{h=P(h);for(var R=0,G=h.length;R<G;R++)us(o,h[R],y,w)}return this}var Tn="_leaflet_events";function dt(o,h,y,w){if(arguments.length===1)En(o),delete o[Tn];else if(h&&typeof h=="object")for(var S in h)Hn(o,S,h[S],y);else if(h=P(h),arguments.length===2)En(o,function(ee){return _e(h,ee)!==-1});else for(var R=0,G=h.length;R<G;R++)Hn(o,h[R],y,w);return this}function En(o,h){for(var y in o[Tn]){var w=y.split(/\d/)[0];(!h||h(w))&&Hn(o,w,null,null,y)}}var Vi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function us(o,h,y,w){var S=h+g(y)+(w?"_"+g(w):"");if(o[Tn]&&o[Tn][S])return this;var R=function(ee){return y.call(w||o,ee||window.event)},G=R;!Le.touchNative&&Le.pointer&&h.indexOf("touch")===0?R=zt(o,h,R):Le.touch&&h==="dblclick"?R=Ur(o,R):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Vi[h]||h,R,Le.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function(ee){ee=ee||window.event,Vs(o,ee)&&G(ee)},o.addEventListener(Vi[h],R,!1)):o.addEventListener(h,G,!1):o.attachEvent("on"+h,R),o[Tn]=o[Tn]||{},o[Tn][S]=R}function Hn(o,h,y,w,S){S=S||h+g(y)+(w?"_"+g(w):"");var R=o[Tn]&&o[Tn][S];if(!R)return this;!Le.touchNative&&Le.pointer&&h.indexOf("touch")===0?ql(o,h,R):Le.touch&&h==="dblclick"?bi(o,R):"removeEventListener"in o?o.removeEventListener(Vi[h]||h,R,!1):o.detachEvent("on"+h,R),o[Tn][S]=null}function ft(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ar(o){return us(o,"wheel",ft),this}function or(o){return ze(o,"mousedown touchstart dblclick contextmenu",ft),o._leaflet_disable_click=!0,this}function Dt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ri(o){return Dt(o),ft(o),this}function Ca(o){if(o.composedPath)return o.composedPath();for(var h=[],y=o.target;y;)h.push(y),y=y.parentNode;return h}function Wt(o,h){if(!h)return new te(o.clientX,o.clientY);var y=fn(h),w=y.boundingClientRect;return new te((o.clientX-w.left)/y.x-h.clientLeft,(o.clientY-w.top)/y.y-h.clientTop)}var Sn=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lr(o){return Le.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Sn:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Vs(o,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var qr={__proto__:null,on:ze,off:dt,stopPropagation:ft,disableScrollPropagation:ar,disableClickPropagation:or,preventDefault:Dt,stop:ri,getPropagationPath:Ca,getMousePosition:Wt,getWheelDelta:lr,isExternalTarget:Vs,addListener:ze,removeListener:dt},Gr=re.extend({run:function(o,h,y,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=cs(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var y=this._startPos.add(this._offset.multiplyBy(o));h&&y._round(),It(this._el,y),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Xe=re.extend({options:{crs:Cs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=z(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Ee(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,as,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Ee(o),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=a({animate:y.animate},y.zoom),y.pan=a({animate:y.animate,duration:y.duration},y.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,y.zoom):this._tryAnimatedPan(o,y.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,y){var w=this.getZoomScale(h),S=this.getSize().divideBy(2),R=o instanceof te?o:this.latLngToContainerPoint(o),G=R.subtract(S).multiplyBy(1-1/w),ee=this.containerPointToLatLng(S.add(G));return this.setView(ee,h,{zoom:y})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Te(o);var y=k(h.paddingTopLeft||h.padding||[0,0]),w=k(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(o,!1,y.add(w));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var R=w.subtract(y).divideBy(2),G=this.project(o.getSouthWest(),S),ee=this.project(o.getNorthEast(),S),ue=this.unproject(G.add(ee).divideBy(2).add(R),S);return{center:ue,zoom:S}},fitBounds:function(o,h){if(o=Te(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=k(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){je(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,y){if(y=y||{},y.animate===!1||!Le.any3d)return this.setView(o,h,y);this._stop();var w=this.project(this.getCenter()),S=this.project(o),R=this.getSize(),G=this._zoom;o=Ee(o),h=h===void 0?G:h;var ee=Math.max(R.x,R.y),ue=ee*this.getZoomScale(G,h),xe=S.distanceTo(w)||1,Ne=1.42,De=Ne*Ne;function Oe(Ot){var ps=Ot?-1:1,Fs=Ot?ue:ee,fr=ue*ue-ee*ee+ps*De*De*xe*xe,Hs=2*Fs*De*xe,ol=fr/Hs,sc=Math.sqrt(ol*ol+1)-ol,ll=sc<1e-9?-18:Math.log(sc);return ll}function Ke(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Rt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Ht(Ot){return Ke(Ot)/Rt(Ot)}var Nn=Oe(0);function Ei(Ot){return ee*(Rt(Nn)/Rt(Nn+Ne*Ot))}function Sd(Ot){return ee*(Rt(Nn)*Ht(Nn+Ne*Ot)-Ke(Nn))/De}function Ad(Ot){return 1-Math.pow(1-Ot,1.5)}var al=Date.now(),Ga=(Oe(1)-Nn)/Ne,Nd=y.duration?1e3*y.duration:1e3*Ga*.8;function Za(){var Ot=(Date.now()-al)/Nd,ps=Ad(Ot)*Ga;Ot<=1?(this._flyToFrame=q(Za,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(Sd(ps)/xe)),G),this.getScaleZoom(ee/Ei(ps),G),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),Za.call(this),this},flyToBounds:function(o,h){var y=this._getBoundsCenterZoom(o,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(o){return o=Te(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var y=this.getCenter(),w=this._limitCenter(y,this._zoom,Te(o));return y.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var y=k(h.paddingTopLeft||h.padding||[0,0]),w=k(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(o),G=this.getPixelBounds(),ee=be([G.min.add(y),G.max.subtract(w)]),ue=ee.getSize();if(!ee.contains(R)){this._enforcingBounds=!0;var xe=R.subtract(ee.getCenter()),Ne=ee.extend(R).getSize().subtract(ue);S.x+=xe.x<0?-Ne.x:Ne.x,S.y+=xe.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),w=h.divideBy(2).round(),S=y.divideBy(2).round(),R=w.subtract(S);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=u(this._handleGeolocationResponse,this),y=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,o):navigator.geolocation.getCurrentPosition(h,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,y=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,y=o.coords.longitude,w=new Re(h,y),S=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var G=this.getBoundsZoom(S);this.setView(w,R.maxZoom?Math.min(G,R.maxZoom):G)}var ee={latlng:w,bounds:S,timestamp:o.timestamp};for(var ue in o.coords)typeof o.coords[ue]=="number"&&(ee[ue]=o.coords[ue]);this.fire("locationfound",ee)}},addHandler:function(o,h){if(!h)return this;var y=this[o]=new h(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ht(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=ot("div",y,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new me(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,y){o=Te(o),y=k(y||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),G=o.getNorthWest(),ee=o.getSouthEast(),ue=this.getSize().subtract(y),xe=be(this.project(ee,w),this.project(G,w)).getSize(),Ne=Le.any3d?this.options.zoomSnap:1,De=ue.x/xe.x,Oe=ue.y/xe.y,Ke=h?Math.max(De,Oe):Math.min(De,Oe);return w=this.getScaleZoom(Ke,w),Ne&&(w=Math.round(w/(Ne/100))*(Ne/100),w=h?Math.ceil(w/Ne)*Ne:Math.floor(w/Ne)*Ne),Math.max(S,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var y=this._getTopLeftPoint(o,h);return new oe(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(o)/y.scale(h)},getScaleZoom:function(o,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var w=y.zoom(o*y.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Ee(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(k(o),h)},layerPointToLatLng:function(o){var h=k(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Ee(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ee(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Te(o))},distance:function(o,h){return this.options.crs.distance(Ee(o),Ee(h))},containerPointToLayerPoint:function(o){return k(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return k(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(k(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(o)))},mouseEventToContainerPoint:function(o){return Wt(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Br(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(h,"scroll",this._onScroll,this),this._containerId=g(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,je(o,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=os(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(je(o.markerPane,"leaflet-zoom-hide"),je(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,y){It(this._mapPane,new te(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,y)._move(o,h)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,y,w){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?y&&y.pinch&&this.fire("zoom",y):((S||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){It(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[g(this._container)]=this;var h=o?dt:ze;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var y=[],w,S=h==="mouseout"||h==="mouseover",R=o.target||o.srcElement,G=!1;R;){if(w=this._targets[g(R)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){G=!0;break}if(w&&w.listens(h,!0)&&(S&&!Vs(R,o)||(y.push(w),S))||R===this._container)break;R=R.parentNode}return!y.length&&!G&&!S&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var y=o.type;y==="mousedown"&&Hr(h),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,y){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,y)}var S=this._findEventTargets(o,h);if(y){for(var R=[],G=0;G<y.length;G++)y[G].listens(h,!0)&&R.push(y[G]);S=R.concat(S)}if(S.length){h==="contextmenu"&&Dt(o);var ee=S[0],ue={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var xe=ee.getLatLng&&(!ee._radius||ee._radius<=10);ue.containerPoint=xe?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(o),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=xe?ee.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(G=0;G<S.length;G++)if(S[G].fire(h,ue,!0),ue.originalEvent._stopped||S[G].options.bubblingMouseEvents===!1&&_e(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return cs(this._mapPane)||new te(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var y=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var y=this.getSize()._divideBy(2);return this.project(o,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,y){var w=this._getNewPixelOrigin(y,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,y){var w=this._getNewPixelOrigin(y,h);return be([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,y){if(!y)return o;var w=this.project(o,h),S=this.getSize().divideBy(2),R=new oe(w.subtract(S),w.add(S)),G=this._getBoundsOffset(R,y,h);return Math.abs(G.x)<=1&&Math.abs(G.y)<=1?o:this.unproject(w.add(G),h)},_limitOffset:function(o,h){if(!h)return o;var y=this.getPixelBounds(),w=new oe(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,y){var w=be(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),S=w.min.subtract(o.min),R=w.max.subtract(o.max),G=this._rebound(S.x,-R.x),ee=this._rebound(S.y,-R.y);return new te(G,ee)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),y=this.getMaxZoom(),w=Le.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var y=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var o=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var y=Ls,w=this._proxy.style[y];Fn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Fn(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),S=this._getCenterOffset(o)._divideBy(1-1/w);return y.animate!==!0&&!this.getSize().contains(S)?!1:(q(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,y,w){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hs(o,h){return new Xe(o,h)}var mn=Be.extend({options:{position:"topright"},initialize:function(o){z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),y=this.getPosition(),w=o._controlCorners[y];return je(h,"leaflet-control"),y.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ui=function(o){return new mn(o)};Xe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",y=this._controlContainer=ot("div",h+"control-container",this._container);function w(S,R){var G=h+S+" "+h+R;o[S+R]=ot("div",G,y)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ht(this._controlCorners[o]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,y,w){return y<w?-1:w<y?1:0}},initialize:function(o,h,y){z(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(g(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=ot("div",o),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),or(h),ar(h);var w=this._section=ot("section",o+"-list");y&&(this._map.on("click",this.collapse,this),ze(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ot("a",o+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),ze(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Dt(R),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=ot("div",o+"-base",w),this._separator=ot("div",o+"-separator",w),this._overlaysList=ot("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&g(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(u(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tt(this._baseLayersList),Tt(this._overlaysList),this._layerControlInputs=[];var o,h,y,w,S=0;for(y=0;y<this._layers.length;y++)w=this._layers[y],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(g(o.target)),y=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(o,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=y,w.firstChild},_addItem:function(o){var h=document.createElement("label"),y=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=y):w=this._createRadioElement("leaflet-base-layers_"+g(this),y),this._layerControlInputs.push(w),w.layerId=g(o.layer),ze(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(w),R.appendChild(S);var G=o.overlay?this._overlaysList:this._baseLayersList;return G.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,y,w=[],S=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)h=o[R],y=this._getLayer(h.layerId).layer,h.checked?w.push(y):h.checked||S.push(y);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,y,w=this._map.getZoom(),S=o.length-1;S>=0;S--)h=o[S],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&w<y.options.minZoom||y.options.maxZoom!==void 0&&w>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ze(o,"click",Dt),this.expand();var h=this;setTimeout(function(){dt(o,"click",Dt),h._preventClick=!1})}}),Wl=function(o,h,y){return new Zl(o,h,y)},Us=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",y=ot("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,y,w,S){var R=ot("a",y,w);return R.innerHTML=o,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),or(R),ze(R,"click",ri),ze(R,"click",S,this),ze(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";vt(this._zoomInButton,h),vt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(je(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(je(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Us,this.addControl(this.zoomControl))});var Ra=function(o){return new Us(o)},Zo=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",y=ot("div",h),w=this.options;return this._addScales(w,h+"-line",y),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,y){o.metric&&(this._mScale=ot("div",h,y)),o.imperial&&(this._iScale=ot("div",h,y))},_update:function(){var o=this._map,h=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/o)},_updateImperial:function(o){var h=o*3.2808399,y,w,S;h>5280?(y=h/5280,w=this._getRoundNum(y),this._updateScale(this._iScale,w+" mi",w/y)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(o,h,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),y=o/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),Wo=function(o){return new Zo(o)},Ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ja=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?Ko+" ":"")+"Leaflet</a>"},initialize:function(o){z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),or(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new ja().addTo(this)});var Pa=function(o){return new ja(o)};mn.Layers=Zl,mn.Zoom=Us,mn.Scale=Zo,mn.Attribution=ja,Ui.layers=Wl,Ui.zoom=Ra,Ui.scale=Wo,Ui.attribution=Pa;var qn=Be.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(o,h){return o.addHandler(h,this),this};var Kl={Events:F},ds=Le.touch?"touchstart mousedown":"mousedown",Bi=re.extend({options:{clickTolerance:3},initialize:function(o,h,y,w){z(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=y},enable:function(){this._enabled||(ze(this._dragStartTarget,ds,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Bi._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,ds,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ls(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Bi._dragging===this&&this.finishDrag();return}if(!(Bi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Bi._dragging=this,this._preventOutline&&Hr(this._element),sr(),wn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,y=ks(this._element);this._startPoint=new te(h.clientX,h.clientY),this._startPos=cs(this._element),this._parentScale=fn(y);var w=o.type==="mousedown";ze(document,w?"mousemove":"touchmove",this._onMove,this),ze(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,y=new te(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Dt(o),this._moved||(this.fire("dragstart"),this._moved=!0,je(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),It(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Na(),ii();var h=this._moved&&this._moving;this._moving=!1,Bi._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function $o(o,h,y){var w,S=[1,4,2,8],R,G,ee,ue,xe,Ne,De,Oe;for(R=0,Ne=o.length;R<Ne;R++)o[R]._code=le(o[R],h);for(ee=0;ee<4;ee++){for(De=S[ee],w=[],R=0,Ne=o.length,G=Ne-1;R<Ne;G=R++)ue=o[R],xe=o[G],ue._code&De?xe._code&De||(Oe=ne(xe,ue,De,h,y),Oe._code=le(Oe,h),w.push(Oe)):(xe._code&De&&(Oe=ne(xe,ue,De,h,y),Oe._code=le(Oe,h),w.push(Oe)),w.push(ue));o=w}return o}function Zr(o,h){var y,w,S,R,G,ee,ue,xe,Ne;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var De=Ee([0,0]),Oe=Te(o),Ke=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ke<1700&&(De=Ia(o));var Rt=o.length,Ht=[];for(y=0;y<Rt;y++){var Nn=Ee(o[y]);Ht.push(h.project(Ee([Nn.lat-De.lat,Nn.lng-De.lng])))}for(ee=ue=xe=0,y=0,w=Rt-1;y<Rt;w=y++)S=Ht[y],R=Ht[w],G=S.y*R.x-R.y*S.x,ue+=(S.x+R.x)*G,xe+=(S.y+R.y)*G,ee+=G*3;ee===0?Ne=Ht[0]:Ne=[ue/ee,xe/ee];var Ei=h.unproject(k(Ne));return Ee([Ei.lat+De.lat,Ei.lng+De.lng])}function Ia(o){for(var h=0,y=0,w=0,S=0;S<o.length;S++){var R=Ee(o[S]);h+=R.lat,y+=R.lng,w++}return Ee([h/w,y/w])}var Da={__proto__:null,clipPolygon:$o,polygonCenter:Zr,centroid:Ia};function An(o,h){if(!h||!o.length)return o.slice();var y=h*h;return o=E(o,y),o=cr(o,y),o}function La(o,h,y){return Math.sqrt(Fe(o,h,y,!0))}function $l(o,h,y){return Fe(o,h,y)}function cr(o,h){var y=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(y);S[0]=S[y-1]=1,p(o,S,h,0,y-1);var R,G=[];for(R=0;R<y;R++)S[R]&&G.push(o[R]);return G}function p(o,h,y,w,S){var R=0,G,ee,ue;for(ee=w+1;ee<=S-1;ee++)ue=Fe(o[ee],o[w],o[S],!0),ue>R&&(G=ee,R=ue);R>y&&(h[G]=1,p(o,h,y,w,G),p(o,h,y,G,S))}function E(o,h){for(var y=[o[0]],w=1,S=0,R=o.length;w<R;w++)Se(o[w],o[S])>h&&(y.push(o[w]),S=w);return S<R-1&&y.push(o[R-1]),y}var N;function D(o,h,y,w,S){var R=w?N:le(o,y),G=le(h,y),ee,ue,xe;for(N=G;;){if(!(R|G))return[o,h];if(R&G)return!1;ee=R||G,ue=ne(o,h,ee,y,S),xe=le(ue,y),ee===R?(o=ue,R=xe):(h=ue,G=xe)}}function ne(o,h,y,w,S){var R=h.x-o.x,G=h.y-o.y,ee=w.min,ue=w.max,xe,Ne;return y&8?(xe=o.x+R*(ue.y-o.y)/G,Ne=ue.y):y&4?(xe=o.x+R*(ee.y-o.y)/G,Ne=ee.y):y&2?(xe=ue.x,Ne=o.y+G*(ue.x-o.x)/R):y&1&&(xe=ee.x,Ne=o.y+G*(ee.x-o.x)/R),new te(xe,Ne,S)}function le(o,h){var y=0;return o.x<h.min.x?y|=1:o.x>h.max.x&&(y|=2),o.y<h.min.y?y|=4:o.y>h.max.y&&(y|=8),y}function Se(o,h){var y=h.x-o.x,w=h.y-o.y;return y*y+w*w}function Fe(o,h,y,w){var S=h.x,R=h.y,G=y.x-S,ee=y.y-R,ue=G*G+ee*ee,xe;return ue>0&&(xe=((o.x-S)*G+(o.y-R)*ee)/ue,xe>1?(S=y.x,R=y.y):xe>0&&(S+=G*xe,R+=ee*xe)),G=o.x-S,ee=o.y-R,w?G*G+ee*ee:new te(S,R)}function nt(o){return!X(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function gt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nt(o)}function Mt(o,h){var y,w,S,R,G,ee,ue,xe;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ne=Ee([0,0]),De=Te(o),Oe=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Oe<1700&&(Ne=Ia(o));var Ke=o.length,Rt=[];for(y=0;y<Ke;y++){var Ht=Ee(o[y]);Rt.push(h.project(Ee([Ht.lat-Ne.lat,Ht.lng-Ne.lng])))}for(y=0,w=0;y<Ke-1;y++)w+=Rt[y].distanceTo(Rt[y+1])/2;if(w===0)xe=Rt[0];else for(y=0,R=0;y<Ke-1;y++)if(G=Rt[y],ee=Rt[y+1],S=G.distanceTo(ee),R+=S,R>w){ue=(R-w)/S,xe=[ee.x-ue*(ee.x-G.x),ee.y-ue*(ee.y-G.y)];break}var Nn=h.unproject(k(xe));return Ee([Nn.lat+Ne.lat,Nn.lng+Ne.lng])}var ai={__proto__:null,simplify:An,pointToSegmentDistance:La,closestPointOnSegment:$l,clipSegment:D,_getEdgeIntersection:ne,_getBitCode:le,_sqClosestPointOnSegment:Fe,isFlat:nt,_flat:gt,polylineCenter:Mt},Ti={project:function(o){return new te(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new oe([-180,-90],[180,90])},oi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,y=this.R,w=o.lat*h,S=this.R_MINOR/y,R=Math.sqrt(1-S*S),G=R*Math.sin(w),ee=Math.tan(Math.PI/4-w/2)/Math.pow((1-G)/(1+G),R/2);return w=-y*Math.log(Math.max(ee,1e-10)),new te(o.lng*h*y,w)},unproject:function(o){for(var h=180/Math.PI,y=this.R,w=this.R_MINOR/y,S=Math.sqrt(1-w*w),R=Math.exp(-o.y/y),G=Math.PI/2-2*Math.atan(R),ee=0,ue=.1,xe;ee<15&&Math.abs(ue)>1e-7;ee++)xe=S*Math.sin(G),xe=Math.pow((1-xe)/(1+xe),S/2),ue=Math.PI/2-2*Math.atan(R*xe)-G,G+=ue;return new Re(G*h,o.x*h/y)}},zi={__proto__:null,LonLat:Ti,Mercator:oi,SphericalMercator:Pr},Fi=a({},st,{code:"EPSG:3395",projection:oi,transformation:(function(){var o=.5/(Math.PI*oi.R);return es(o,.5,-o,.5)})()}),Ma=a({},st,{code:"EPSG:4326",projection:Ti,transformation:es(1/180,1,-1/180,.5)}),cp=a({},Nt,{projection:Ti,transformation:es(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var y=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(y*y+w*w)},infinite:!0});Nt.Earth=st,Nt.EPSG3395=Fi,Nt.EPSG3857=Cs,Nt.EPSG900913=wa,Nt.EPSG4326=Ma,Nt.Simple=cp;var Hi=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[g(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[g(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=g(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=g(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return g(o)in this._layers},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},_addLayers:function(o){o=o?X(o)?o:[o]:[];for(var h=0,y=o.length;h<y;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[g(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=g(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,y=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wr=Hi.extend({initialize:function(o,h){z(this,h),this._layers={};var y,w;if(o)for(y=0,w=o.length;y<w;y++)this.addLayer(o[y])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),y,w;for(y in this._layers)w=this._layers[y],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return g(o)}}),vd=function(o,h){return new Wr(o,h)},li=Wr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Wr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Wr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new me;for(var h in this._layers){var y=this._layers[h];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),Yo=function(o,h){return new li(o,h)},Oa=Be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var y=this.options,w=y[h+"Size"];typeof w=="number"&&(w=[w,w]);var S=k(w),R=k(h==="shadow"&&y.shadowAnchor||y.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(y.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Le.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Yl(o){return new Oa(o)}var ka=Oa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof ka.imagePath!="string"&&(ka.imagePath=this._detectIconPath()),(this.options.imagePath||ka.imagePath)+Oa.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(y,w,S){var R=w.exec(y);return R&&R[S]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ot("div","leaflet-default-icon-path",document.body),h=os(o,"background-image")||os(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),wu=qn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Bi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),je(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,y=h._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=cs(h._icon),G=y.getPixelBounds(),ee=y.getPixelOrigin(),ue=be(G.min._subtract(ee).add(S),G.max._subtract(ee).subtract(S));if(!ue.contains(R)){var xe=k((Math.max(ue.max.x,R.x)-ue.max.x)/(G.max.x-ue.max.x)-(Math.min(ue.min.x,R.x)-ue.min.x)/(G.min.x-ue.min.x),(Math.max(ue.max.y,R.y)-ue.max.y)/(G.max.y-ue.max.y)-(Math.min(ue.min.y,R.y)-ue.min.y)/(G.min.y-ue.min.y)).multiplyBy(w);y.panBy(xe,{animate:!1}),this._draggable._newPos._add(xe),this._draggable._startPos._add(xe),It(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,y=h._shadow,w=cs(h._icon),S=h._map.layerPointToLatLng(w);y&&It(y,w),h._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Va=Hi.extend({options:{icon:new ka,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){z(this,h),this._latlng=Ee(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),w=!1;y!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),je(y,h),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(y,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(je(S,h),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&It(this._icon,o),this._shadow&&It(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&bn(this._icon,o),this._shadow&&bn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,y=h.iconSize?k(h.iconSize):k(0,0),w=h.iconAnchor?k(h.iconAnchor):k(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:y.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tu(o,h){return new Va(o,h)}var Bs=Hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qo=Bs.extend({options:{fill:!0,radius:10},initialize:function(o,h){z(this,h),this._latlng=Ee(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Bs.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,y=this._clickTolerance(),w=[o+y,h+y];this._pxBounds=new oe(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _d(o,h){return new Qo(o,h)}var Eu=Qo.extend({initialize:function(o,h,y){if(typeof h=="number"&&(h=a({},y,{radius:h})),z(this,h),this._latlng=Ee(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Bs.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,y=this._map,w=y.options.crs;if(w.distance===st.distance){var S=Math.PI/180,R=this._mRadius/st.R/S,G=y.project([h+R,o]),ee=y.project([h-R,o]),ue=G.add(ee).divideBy(2),xe=y.unproject(ue).lat,Ne=Math.acos((Math.cos(R*S)-Math.sin(h*S)*Math.sin(xe*S))/(Math.cos(h*S)*Math.cos(xe*S)))/S;(isNaN(Ne)||Ne===0)&&(Ne=R/Math.cos(Math.PI/180*h)),this._point=ue.subtract(y.getPixelOrigin()),this._radius=isNaN(Ne)?0:ue.x-y.project([xe,o-Ne]).x,this._radiusY=ue.y-G.y}else{var De=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(De).x}this._updateBounds()}});function up(o,h,y){return new Eu(o,h,y)}var zs=Bs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){z(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,y=null,w=Fe,S,R,G=0,ee=this._parts.length;G<ee;G++)for(var ue=this._parts[G],xe=1,Ne=ue.length;xe<Ne;xe++){S=ue[xe-1],R=ue[xe];var De=w(o,S,R,!0);De<h&&(h=De,y=w(o,S,R))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Ee(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new me,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return nt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],y=nt(o),w=0,S=o.length;w<S;w++)y?(h[w]=Ee(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new te(o,o);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,y){var w=o[0]instanceof Re,S=o.length,R,G;if(w){for(G=[],R=0;R<S;R++)G[R]=this._map.latLngToLayerPoint(o[R]),y.extend(G[R]);h.push(G)}else for(R=0;R<S;R++)this._projectLatlngs(o[R],h,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,w,S,R,G,ee,ue;for(y=0,S=0,R=this._rings.length;y<R;y++)for(ue=this._rings[y],w=0,G=ue.length;w<G-1;w++)ee=D(ue[w],ue[w+1],o,w,!0),ee&&(h[S]=h[S]||[],h[S].push(ee[0]),(ee[1]!==ue[w+1]||w===G-2)&&(h[S].push(ee[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,y=0,w=o.length;y<w;y++)o[y]=An(o[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var y,w,S,R,G,ee,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,R=this._parts.length;y<R;y++)for(ee=this._parts[y],w=0,G=ee.length,S=G-1;w<G;S=w++)if(!(!h&&w===0)&&La(o,ee[S],ee[w])<=ue)return!0;return!1}});function hp(o,h){return new zs(o,h)}zs._flat=gt;var Ua=zs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=zs.prototype._convertLatLngs.call(this,o),y=h.length;return y>=2&&h[0]instanceof Re&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(o){zs.prototype._setLatLngs.call(this,o),nt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,y=new te(h,h);if(o=new oe(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,R;w<S;w++)R=$o(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,y,w,S,R,G,ee,ue,xe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,ue=this._parts.length;R<ue;R++)for(y=this._parts[R],G=0,xe=y.length,ee=xe-1;G<xe;ee=G++)w=y[G],S=y[ee],w.y>o.y!=S.y>o.y&&o.x<(S.x-w.x)*(o.y-w.y)/(S.y-w.y)+w.x&&(h=!h);return h||zs.prototype._containsPoint.call(this,o,!0)}});function ci(o,h){return new Ua(o,h)}var ui=li.extend({initialize:function(o,h){z(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=X(o)?o:o.features,y,w,S;if(h){for(y=0,w=h.length;y<w;y++)S=h[y],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var G=Xo(o,R);return G?(G.feature=Ba(o),G.defaultOptions=G.options,this.resetStyle(G),R.onEachFeature&&R.onEachFeature(o,G),this.addLayer(G)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Xo(o,h){var y=o.type==="Feature"?o.geometry:o,w=y?y.coordinates:null,S=[],R=h&&h.pointToLayer,G=h&&h.coordsToLatLng||Ql,ee,ue,xe,Ne;if(!w&&!y)return null;switch(y.type){case"Point":return ee=G(w),Su(R,o,ee,h);case"MultiPoint":for(xe=0,Ne=w.length;xe<Ne;xe++)ee=G(w[xe]),S.push(Su(R,o,ee,h));return new li(S);case"LineString":case"MultiLineString":return ue=Jo(w,y.type==="LineString"?0:1,G),new zs(ue,h);case"Polygon":case"MultiPolygon":return ue=Jo(w,y.type==="Polygon"?1:2,G),new Ua(ue,h);case"GeometryCollection":for(xe=0,Ne=y.geometries.length;xe<Ne;xe++){var De=Xo({geometry:y.geometries[xe],type:"Feature",properties:o.properties},h);De&&S.push(De)}return new li(S);case"FeatureCollection":for(xe=0,Ne=y.features.length;xe<Ne;xe++){var Oe=Xo(y.features[xe],h);Oe&&S.push(Oe)}return new li(S);default:throw new Error("Invalid GeoJSON object.")}}function Su(o,h,y,w){return o?o(h,y):new Va(y,w&&w.markersInheritOptions&&w)}function Ql(o){return new Re(o[1],o[0],o[2])}function Jo(o,h,y){for(var w=[],S=0,R=o.length,G;S<R;S++)G=h?Jo(o[S],h-1,y):(y||Ql)(o[S]),w.push(G);return w}function el(o,h){return o=Ee(o),o.alt!==void 0?[A(o.lng,h),A(o.lat,h),A(o.alt,h)]:[A(o.lng,h),A(o.lat,h)]}function Xl(o,h,y,w){for(var S=[],R=0,G=o.length;R<G;R++)S.push(h?Xl(o[R],nt(o[R])?0:h-1,y,w):el(o[R],w));return!h&&y&&S.length>0&&S.push(S[0].slice()),S}function qi(o,h){return o.feature?a({},o.feature,{geometry:h}):Ba(h)}function Ba(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Kr={toGeoJSON:function(o){return qi(this,{type:"Point",coordinates:el(this.getLatLng(),o)})}};Va.include(Kr),Eu.include(Kr),Qo.include(Kr),zs.include({toGeoJSON:function(o){var h=!nt(this._latlngs),y=Xl(this._latlngs,h?1:0,!1,o);return qi(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),Ua.include({toGeoJSON:function(o){var h=!nt(this._latlngs),y=h&&!nt(this._latlngs[0]),w=Xl(this._latlngs,y?2:h?1:0,!0,o);return h||(w=[w]),qi(this,{type:(y?"Multi":"")+"Polygon",coordinates:w})}}),Wr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(o).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var y=h==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(o);if(y)w.push(R.geometry);else{var G=Ba(R);G.type==="FeatureCollection"?w.push.apply(w,G.features):w.push(G)}}}),y?qi(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Jl(o,h){return new ui(o,h)}var xd=Jl,fs=Hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,y){this._url=o,this._bounds=Te(h),z(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ni(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Te(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:ot("img");if(je(h,"leaflet-image-layer"),this._zoomAnimated&&je(h,"leaflet-zoom-animated"),this.options.className&&je(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onload=u(this.fire,this,"load"),h.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Fn(this._image,y,h)},_reset:function(){var o=this._image,h=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();It(o,h.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),za=function(o,h,y){return new fs(o,h,y)},ec=fs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:ot("video");if(je(h,"leaflet-image-layer"),this._zoomAnimated&&je(h,"leaflet-zoom-animated"),this.options.className&&je(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onloadeddata=u(this.fire,this,"load"),o){for(var y=h.getElementsByTagName("source"),w=[],S=0;S<y.length;S++)w.push(y[S].src);this._url=y.length>0?w:[h.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var G=ot("source");G.src=this._url[R],h.appendChild(G)}}});function bd(o,h,y){return new ec(o,h,y)}var ur=fs.extend({_initImage:function(){var o=this._image=this._url;je(o,"leaflet-image-layer"),this._zoomAnimated&&je(o,"leaflet-zoom-animated"),this.options.className&&je(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function wd(o,h,y){return new ur(o,h,y)}var Gi=Hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Re||X(o))?(this._latlng=Ee(o),z(this,h)):(z(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&bn(this._container,1),this.bringToFront(),this.options.interactive&&(je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(bn(this._container,0),this._removeTimeout=setTimeout(u(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ee(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ni(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof li){h=null;var y=this._source._layers;for(var w in y)if(y[w]._map){h=y[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=k(this.options.offset),y=this._getAnchor();this._zoomAnimated?It(this._container,o.add(y)):h=h.add(o).add(y);var w=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(o,h,y,w){var S=h;return S instanceof o||(S=new o(w).setContent(h)),y&&S.setLatLng(y),S}}),Hi.include({_initOverlay:function(o,h,y,w){var S=y;return S instanceof o?(z(S,w),S._source=this):(S=h&&!w?h:new o(w,this),S.setContent(y)),S}});var tl=Gi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Gi.prototype.openOn.call(this,o)},onAdd:function(o){Gi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bs||this._source.on("preclick",ft))},onRemove:function(o){Gi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bs||this._source.off("preclick",ft))},getEvents:function(){var o=Gi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=ot("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=ot("div",o+"-content-wrapper",h);if(this._contentNode=ot("div",o+"-content",y),or(h),ar(this._contentNode),ze(h,"contextmenu",ft),this._tipContainer=ot("div",o+"-tip-container",h),this._tip=ot("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ot("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ze(w,"click",function(S){Dt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&w>S?(h.height=S+"px",je(o,R)):vt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();It(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(os(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,w=this._containerWidth,S=new te(this._containerLeft,-y-this._containerBottom);S._add(cs(this._container));var R=o.layerPointToContainerPoint(S),G=k(this.options.autoPanPadding),ee=k(this.options.autoPanPaddingTopLeft||G),ue=k(this.options.autoPanPaddingBottomRight||G),xe=o.getSize(),Ne=0,De=0;R.x+w+ue.x>xe.x&&(Ne=R.x+w-xe.x+ue.x),R.x-Ne-ee.x<0&&(Ne=R.x-ee.x),R.y+y+ue.y>xe.y&&(De=R.y+y-xe.y+ue.y),R.y-De-ee.y<0&&(De=R.y-ee.y),(Ne||De)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ne,De]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dp=function(o,h){return new tl(o,h)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(o,h,y){return this._initOverlay(tl,o,h,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Hi.include({bindPopup:function(o,h){return this._popup=this._initOverlay(tl,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof li||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){ri(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Bs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var tc=Gi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Gi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Gi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Gi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,y,w=this._map,S=this._container,R=w.latLngToContainerPoint(w.getCenter()),G=w.layerPointToContainerPoint(o),ee=this.options.direction,ue=S.offsetWidth,xe=S.offsetHeight,Ne=k(this.options.offset),De=this._getAnchor();ee==="top"?(h=ue/2,y=xe):ee==="bottom"?(h=ue/2,y=0):ee==="center"?(h=ue/2,y=xe/2):ee==="right"?(h=0,y=xe/2):ee==="left"?(h=ue,y=xe/2):G.x<R.x?(ee="right",h=0,y=xe/2):(ee="left",h=ue+(Ne.x+De.x)*2,y=xe/2),o=o.subtract(k(h,y,!0)).add(Ne).add(De),vt(S,"leaflet-tooltip-right"),vt(S,"leaflet-tooltip-left"),vt(S,"leaflet-tooltip-top"),vt(S,"leaflet-tooltip-bottom"),je(S,"leaflet-tooltip-"+ee),It(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&bn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fp=function(o,h){return new tc(o,h)};Xe.include({openTooltip:function(o,h,y){return this._initOverlay(tc,o,h,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Hi.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tc,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof li||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(ze(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ze(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,y,w;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Au=Oa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(Tt(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var w=k(y.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function Td(o){return new Au(o)}Oa.Default=ka;var $r=Hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ht(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof te?o:new te(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,y=-o(-1/0,1/0),w=0,S=h.length,R;w<S;w++)R=h[w].style.zIndex,h[w]!==this._container&&R&&(y=o(y,+R));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){bn(this._container,this.options.opacity);var o=+new Date,h=!1,y=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var R=Math.min(1,(o-S.loaded)/200);bn(S.el,R),R<1?h=!0:(S.active?y=!0:this._onOpaqueTile(S),S.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(Q(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=h-Math.abs(o-y),this._onUpdateLevel(y)):(ht(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var w=this._levels[o],S=this._map;return w||(w=this._levels[o]={},w.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,S.getCenter(),S.getZoom()),T(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ht(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,y,w){var S=Math.floor(o/2),R=Math.floor(h/2),G=y-1,ee=new te(+S,+R);ee.z=+G;var ue=this._tileCoordsToKey(ee),xe=this._tiles[ue];return xe&&xe.active?(xe.retain=!0,!0):(xe&&xe.loaded&&(xe.retain=!0),G>w?this._retainParent(S,R,G,w):!1)},_retainChildren:function(o,h,y,w){for(var S=2*o;S<2*o+2;S++)for(var R=2*h;R<2*h+2;R++){var G=new te(S,R);G.z=y+1;var ee=this._tileCoordsToKey(G),ue=this._tiles[ee];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);y+1<w&&this._retainChildren(S,R,y+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,y,w){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,h)},_setZoomTransform:function(o,h,y){var w=this._map.getZoomScale(y,o.zoom),S=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,y)).round();Le.any3d?Fn(o.el,S,w):It(o.el,S)},_resetGrid:function(){var o=this._map,h=o.options.crs,y=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/y.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/y.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(y,this._tileZoom),S=h.project(o,this._tileZoom).floor(),R=h.getSize().divideBy(w*2);return new oe(S.subtract(R),S.add(R))},_update:function(o){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(w),R=S.getCenter(),G=[],ee=this.options.keepBuffer,ue=new oe(S.getBottomLeft().subtract([ee,-ee]),S.getTopRight().add([ee,-ee]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xe in this._tiles){var Ne=this._tiles[xe].coords;(Ne.z!==this._tileZoom||!ue.contains(new te(Ne.x,Ne.y)))&&(this._tiles[xe].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var De=S.min.y;De<=S.max.y;De++)for(var Oe=S.min.x;Oe<=S.max.x;Oe++){var Ke=new te(Oe,De);if(Ke.z=this._tileZoom,!!this._isValidTile(Ke)){var Rt=this._tiles[this._tileCoordsToKey(Ke)];Rt?Rt.current=!0:G.push(Ke)}}if(G.sort(function(Nn,Ei){return Nn.distanceTo(R)-Ei.distanceTo(R)}),G.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(Oe=0;Oe<G.length;Oe++)this._addTile(G[Oe],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!h.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Te(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,y=this.getTileSize(),w=o.scaleBy(y),S=w.add(y),R=h.unproject(w,o.z),G=h.unproject(S,o.z);return[R,G]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),y=new me(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),y=new te(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(o){var h=this._tiles[o];h&&(ht(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){je(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=T,o.onmousemove=T,Le.ielt9&&this.options.opacity<1&&bn(o,this.options.opacity)},_addTile:function(o,h){var y=this._getTilePos(o),w=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&q(u(this._tileReady,this,o,null,S)),It(S,y),this._tiles[w]={el:S,coords:o,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:o});var w=this._tileCoordsToKey(o);y=this._tiles[w],y&&(y.loaded=+new Date,this._map._fadeAnimated?(bn(y.el,0),Q(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(je(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new te(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new oe(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Zi(o){return new $r(o)}var Yr=$r.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=z(this,h),h.detectRetina&&Le.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var y=document.createElement("img");return ze(y,"load",u(this._tileOnLoad,this,h,y)),ze(y,"error",u(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var h={r:Le.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=y),h["-y"]=y}return K(this._url,a(h,this.options))},_tileOnLoad:function(o,h){Le.ielt9?setTimeout(u(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,y){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(y,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,w=this.options.zoomOffset;return y&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=T,h.onerror=T,!h.complete)){h.src=de;var y=this._tiles[o].coords;ht(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",de),$r.prototype._removeTile.call(this,o)},_tileReady:function(o,h,y){if(!(!this._map||y&&y.getAttribute("src")===de))return $r.prototype._tileReady.call(this,o,h,y)}});function hi(o,h){return new Yr(o,h)}var di=Yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var y=a({},this.defaultWmsParams);for(var w in h)w in this.options||(y[w]=h[w]);h=z(this,h);var S=h.detectRetina&&Le.retina?2:1,R=this.getTileSize();y.width=R.x*S,y.height=R.y*S,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Yr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),y=this._crs,w=be(y.project(h[0]),y.project(h[1])),S=w.min,R=w.max,G=(this._wmsVersion>=1.3&&this._crs===Ma?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),ee=Yr.prototype.getTileUrl.call(this,o);return ee+V(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+G},setParams:function(o,h){return a(this.wmsParams,o),h||this.redraw(),this}});function Fa(o,h){return new di(o,h)}Yr.WMS=di,hi.wms=Fa;var Wi=Hi.extend({options:{padding:.1},initialize:function(o){z(this,o),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var y=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),R=w.multiplyBy(-y).add(S).subtract(this._map._getNewPixelOrigin(o,h));Le.any3d?Fn(this._container,R,y):It(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new oe(y,y.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nl=Wi.extend({options:{tolerance:0},getEvents:function(){var o=Wi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ze(o,"mousemove",this._onMouseMove,this),ze(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,ht(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var o=this._bounds,h=this._container,y=o.getSize(),w=Le.retina?2:1;It(h,o.min),h.width=w*y.x,h.height=w*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[g(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,y=h.next,w=h.prev;y?y.prev=w:this._drawLast=w,w?w.next=y:this._drawFirst=y,delete o._order,delete this._layers[g(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),y=[],w,S;for(S=0;S<h.length;S++){if(w=Number(h[S]),isNaN(w))return;y.push(w)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var y,w,S,R,G=o._parts,ee=G.length,ue=this._ctx;if(ee){for(ue.beginPath(),y=0;y<ee;y++){for(w=0,S=G[y].length;w<S;w++)R=G[y][w],ue[w?"lineTo":"moveTo"](R.x,R.y);h&&ue.closePath()}this._fillStroke(ue,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,y=this._ctx,w=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||w)/w;S!==1&&(y.save(),y.scale(1,S)),y.beginPath(),y.arc(h.x,h.y/S,w,0,Math.PI*2,!1),S!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,h){var y=h.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),y,w,S=this._drawFirst;S;S=S.next)y=S.layer,y.options.interactive&&y._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(w=y);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(vt(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var y,w,S=this._drawFirst;S;S=S.next)y=S.layer,y.options.interactive&&y._containsPoint(h)&&(w=y);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(je(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,y){this._map._fireDOMEvent(h,y||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var y=h.next,w=h.prev;if(y)y.prev=w;else return;w?w.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var y=h.next,w=h.prev;if(w)w.next=y;else return;y?y.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function il(o){return Le.canvas?new nl(o):null}var Qr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ha={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Qr("shape");je(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Qr("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;ht(h),o.removeInteractiveTarget(h),delete this._layers[g(o)]},_updateStyle:function(o){var h=o._stroke,y=o._fill,w=o.options,S=o._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(h||(h=o._stroke=Qr("stroke")),S.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=X(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(S.removeChild(h),o._stroke=null),w.fill?(y||(y=o._fill=Qr("fill")),S.appendChild(y),y.color=w.fillColor||w.color,y.opacity=w.fillOpacity):y&&(S.removeChild(y),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),y=Math.round(o._radius),w=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){ni(o._container)},_bringToBack:function(o){wi(o._container)}},sl=Le.vml?Qr:Vl,hr=Wi.extend({_initContainer:function(){this._container=sl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=sl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),It(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=sl("path");o.options.className&&je(h,o.options.className),o.options.interactive&&je(h,"leaflet-interactive"),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ht(o._path),o.removeInteractiveTarget(o._path),delete this._layers[g(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,y=o.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Ta(o._parts,h))},_updateCircle:function(o){var h=o._point,y=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||y,S="a"+y+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(h.x-y)+","+h.y+S+y*2+",0 "+S+-y*2+",0 ";this._setPath(o,R)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){ni(o._path)},_bringToBack:function(o){wi(o._path)}});Le.vml&&hr.include(Ha);function Xr(o){return Le.svg||Le.vml?new hr(o):null}Xe.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&il(o)||Xr(o)}});var Ed=Ua.extend({initialize:function(o,h){Ua.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Te(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function fi(o,h){return new Ed(o,h)}hr.create=sl,hr.pointsToPath=Ta,ui.geometryToLayer=Xo,ui.coordsToLatLng=Ql,ui.coordsToLatLngs=Jo,ui.latLngToCoords=el,ui.latLngsToCoords=Xl,ui.getFeature=qi,ui.asFeature=Ba,Xe.mergeOptions({boxZoom:!0});var nc=qn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),sr(),this._startPoint=this._map.mouseEventToContainerPoint(o),ze(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new oe(this._point,this._startPoint),y=h.getSize();It(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(ht(this._box),vt(this._container,"leaflet-crosshair")),ii(),Na(),dt(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var h=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",nc),Xe.mergeOptions({doubleClickZoom:!0});var ms=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,y=h.getZoom(),w=h.options.zoomDelta,S=o.originalEvent.shiftKey?y-w:y+w;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(o.containerPoint,S)}});Xe.addInitHook("addHandler","doubleClickZoom",ms),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nu=qn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Bi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Te(this._map.options.maxBounds);this._offsetLimit=be(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),y=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-h+y)%o+h-y,R=(w+h+y)%o-h-y,G=Math.abs(S+y)<Math.abs(R+y)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=G},_onDragEnd:function(o){var h=this._map,y=h.options,w=!y.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,G=y.easeLinearity,ee=S.multiplyBy(G/R),ue=ee.distanceTo([0,0]),xe=Math.min(y.inertiaMaxSpeed,ue),Ne=ee.multiplyBy(xe/ue),De=xe/(y.inertiaDeceleration*G),Oe=Ne.multiplyBy(-De/2).round();!Oe.x&&!Oe.y?h.fire("moveend"):(Oe=h._limitOffset(Oe,h.options.maxBounds),q(function(){h.panBy(Oe,{duration:De,easeLinearity:G,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",Nu),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rl=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ze(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,y=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},y=this.keyCodes,w,S;for(w=0,S=y.left.length;w<S;w++)h[y.left[w]]=[-1*o,0];for(w=0,S=y.right.length;w<S;w++)h[y.right[w]]=[o,0];for(w=0,S=y.down.length;w<S;w++)h[y.down[w]]=[0,o];for(w=0,S=y.up.length;w<S;w++)h[y.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},y=this.keyCodes,w,S;for(w=0,S=y.zoomIn.length;w<S;w++)h[y.zoomIn[w]]=o;for(w=0,S=y.zoomOut.length;w<S;w++)h[y.zoomOut[w]]=-o},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,y=this._map,w;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=k(w).multiplyBy(3)),y.options.maxBounds&&(w=y._limitOffset(k(w),y.options.maxBounds)),y.options.worldCopyJump){var S=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(w)));y.panTo(S)}else y.panBy(w)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;ri(o)}}});Xe.addInitHook("addHandler","keyboard",rl),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dr=qn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=lr(o),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),w),ri(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=y?Math.ceil(S/y)*y:S,G=o._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,G&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+G):o.setZoomAround(this._lastMousePos,h+G))}});Xe.addInitHook("addHandler","scrollWheelZoom",dr);var Cu=600;Xe.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var ic=qn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new te(h.clientX,h.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Dt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Cu),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){dt(document,"touchend",Dt),dt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new te(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});Xe.addInitHook("addHandler","tapHold",ic),Xe.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var Jr=qn.extend({addHooks:function(){je(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(w)._divideBy(2))),this._startDist=y.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Dt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),S=y.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=y._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var G=u(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(G,this,!0),Dt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",Jr),Xe.BoxZoom=nc,Xe.DoubleClickZoom=ms,Xe.Drag=Nu,Xe.Keyboard=rl,Xe.ScrollWheelZoom=dr,Xe.TapHold=ic,Xe.TouchZoom=Jr,n.Bounds=oe,n.Browser=Le,n.CRS=Nt,n.Canvas=nl,n.Circle=Eu,n.CircleMarker=Qo,n.Class=Be,n.Control=mn,n.DivIcon=Au,n.DivOverlay=Gi,n.DomEvent=qr,n.DomUtil=Gl,n.Draggable=Bi,n.Evented=re,n.FeatureGroup=li,n.GeoJSON=ui,n.GridLayer=$r,n.Handler=qn,n.Icon=Oa,n.ImageOverlay=fs,n.LatLng=Re,n.LatLngBounds=me,n.Layer=Hi,n.LayerGroup=Wr,n.LineUtil=ai,n.Map=Xe,n.Marker=Va,n.Mixin=Kl,n.Path=Bs,n.Point=te,n.PolyUtil=Da,n.Polygon=Ua,n.Polyline=zs,n.Popup=tl,n.PosAnimation=Gr,n.Projection=zi,n.Rectangle=Ed,n.Renderer=Wi,n.SVG=hr,n.SVGOverlay=ur,n.TileLayer=Yr,n.Tooltip=tc,n.Transformation=er,n.Util=H,n.VideoOverlay=ec,n.bind=u,n.bounds=be,n.canvas=il,n.circle=up,n.circleMarker=_d,n.control=Ui,n.divIcon=Td,n.extend=a,n.featureGroup=Yo,n.geoJSON=Jl,n.geoJson=xd,n.gridLayer=Zi,n.icon=Yl,n.imageOverlay=za,n.latLng=Ee,n.latLngBounds=Te,n.layerGroup=vd,n.map=hs,n.marker=Tu,n.point=k,n.polygon=ci,n.polyline=hp,n.popup=dp,n.rectangle=fi,n.setOptions=z,n.stamp=g,n.svg=Xr,n.svgOverlay=wd,n.tileLayer=hi,n.tooltip=fp,n.transformation=es,n.version=i,n.videoOverlay=bd;var qa=window.L;n.noConflict=function(){return window.L=qa,this},window.L=n}))})(xh,xh.exports)),xh.exports}var cd=D3();const mu=jE(cd);function Lv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Mv(t,e){return e==null?function(i,a){const c=O.useRef(void 0);return c.current||(c.current=t(i,a)),c}:function(i,a){const c=O.useRef(void 0);c.current||(c.current=t(i,a));const u=O.useRef(i),{instance:m}=c.current;return O.useEffect(function(){u.current!==i&&(e(m,i,u.current),u.current=i)},[m,i,e]),c}}function L3(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function PA(t){return function(n){const i=Iv(),a=t(Dv(n,i),i);return RA(i.map,n.attribution),jA(a.current,n.eventHandlers),L3(a.current,i),a}}function M3(t,e){const n=Mv(t,e),i=PA(n);return C3(i)}function O3(t,e){const n=Mv(t),i=P3(n,e);return R3(i)}function k3(t,e){const n=Mv(t,e),i=PA(n);return j3(i)}function V3(t,e,n){const{opacity:i,zIndex:a}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function U3(){return Iv().map}function B3(t){const e=U3();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function z3({bounds:t,boundsOptions:e,center:n,children:i,className:a,id:c,placeholder:u,style:m,whenReady:g,zoom:_,...x},T){const[A]=O.useState({className:a,id:c,style:m}),[I,P]=O.useState(null),z=O.useRef(void 0);O.useImperativeHandle(T,()=>I?.map??null,[I]);const V=O.useCallback(K=>{if(K!==null&&!z.current){const X=new cd.Map(K,x);z.current=X,n!=null&&_!=null?X.setView(n,_):t!=null&&X.fitBounds(t,e),g!=null&&X.whenReady(g),P(A3(X))}},[]);O.useEffect(()=>()=>{I?.map.remove()},[I]);const $=I?Sy.createElement(Pv,{value:I},i):u??null;return Sy.createElement("div",{...A,ref:V},$)}const t0=O.forwardRef(z3),n0=M3(function({position:e,...n},i){const a=new cd.Marker(e,n);return Lv(a,N3(i,{overlayContainer:a}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),i0=O3(function(e,n){const i=new cd.Popup(e,n.overlayContainer);return Lv(i,n)},function(e,n,{position:i},a){O.useEffect(function(){const{instance:u}=e;function m(_){_.popup===u&&(u.update(),a(!0))}function g(_){_.popup===u&&a(!1)}return n.map.on({popupopen:m,popupclose:g}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:m,popupclose:g}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[e,n,a,i])}),s0=k3(function({url:e,...n},i){const a=new cd.TileLayer(e,Dv(n,i));return Lv(a,i)},function(e,n,i){V3(e,n,i);const{url:a}=n;a!=null&&a!==i.url&&e.setUrl(a)});function IA(t,e){return function(){return t.apply(e,arguments)}}const{toString:F3}=Object.prototype,{getPrototypeOf:Ov}=Object,{iterator:ep,toStringTag:DA}=Symbol,tp=(t=>e=>{const n=F3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Js=t=>(t=t.toLowerCase(),e=>tp(e)===t),np=t=>e=>typeof e===t,{isArray:pu}=Array,Xc=np("undefined");function ud(t){return t!==null&&!Xc(t)&&t.constructor!==null&&!Xc(t.constructor)&&Ii(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LA=Js("ArrayBuffer");function H3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LA(t.buffer),e}const q3=np("string"),Ii=np("function"),MA=np("number"),hd=t=>t!==null&&typeof t=="object",G3=t=>t===!0||t===!1,$f=t=>{if(tp(t)!=="object")return!1;const e=Ov(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(DA in t)&&!(ep in t)},Z3=t=>{if(!hd(t)||ud(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},W3=Js("Date"),K3=Js("File"),$3=Js("Blob"),Y3=Js("FileList"),Q3=t=>hd(t)&&Ii(t.pipe),X3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ii(t.append)&&((e=tp(t))==="formdata"||e==="object"&&Ii(t.toString)&&t.toString()==="[object FormData]"))},J3=Js("URLSearchParams"),[e6,t6,n6,i6]=["ReadableStream","Request","Response","Headers"].map(Js),s6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),pu(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{if(ud(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let m;for(i=0;i<u;i++)m=c[i],e.call(null,t[m],m,t)}}function OA(t,e){if(ud(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const xl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kA=t=>!Xc(t)&&t!==xl;function r0(){const{caseless:t,skipUndefined:e}=kA(this)&&this||{},n={},i=(a,c)=>{const u=t&&OA(n,c)||c;$f(n[u])&&$f(a)?n[u]=r0(n[u],a):$f(a)?n[u]=r0({},a):pu(a)?n[u]=a.slice():(!e||!Xc(a))&&(n[u]=a)};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&dd(arguments[a],i);return n}const r6=(t,e,n,{allOwnKeys:i}={})=>(dd(e,(a,c)=>{n&&Ii(a)?t[c]=IA(a,n):t[c]=a},{allOwnKeys:i}),t),a6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),o6=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},l6=(t,e,n,i)=>{let a,c,u;const m={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)u=a[c],(!i||i(u,t,e))&&!m[u]&&(e[u]=t[u],m[u]=!0);t=n!==!1&&Ov(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},c6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},u6=t=>{if(!t)return null;if(pu(t))return t;let e=t.length;if(!MA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},h6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ov(Uint8Array)),d6=(t,e)=>{const i=(t&&t[ep]).call(t);let a;for(;(a=i.next())&&!a.done;){const c=a.value;e.call(t,c[0],c[1])}},f6=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},m6=Js("HTMLFormElement"),p6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),JT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),g6=Js("RegExp"),VA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};dd(n,(a,c)=>{let u;(u=e(a,c,t))!==!1&&(i[c]=u||a)}),Object.defineProperties(t,i)},y6=t=>{VA(t,(e,n)=>{if(Ii(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ii(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v6=(t,e)=>{const n={},i=a=>{a.forEach(c=>{n[c]=!0})};return pu(t)?i(t):i(String(t).split(e)),n},_6=()=>{},x6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function b6(t){return!!(t&&Ii(t.append)&&t[DA]==="FormData"&&t[ep])}const w6=t=>{const e=new Array(10),n=(i,a)=>{if(hd(i)){if(e.indexOf(i)>=0)return;if(ud(i))return i;if(!("toJSON"in i)){e[a]=i;const c=pu(i)?[]:{};return dd(i,(u,m)=>{const g=n(u,a+1);!Xc(g)&&(c[m]=g)}),e[a]=void 0,c}}return i};return n(t,0)},T6=Js("AsyncFunction"),E6=t=>t&&(hd(t)||Ii(t))&&Ii(t.then)&&Ii(t.catch),UA=((t,e)=>t?setImmediate:e?((n,i)=>(xl.addEventListener("message",({source:a,data:c})=>{a===xl&&c===n&&i.length&&i.shift()()},!1),a=>{i.push(a),xl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ii(xl.postMessage)),S6=typeof queueMicrotask<"u"?queueMicrotask.bind(xl):typeof process<"u"&&process.nextTick||UA,A6=t=>t!=null&&Ii(t[ep]),he={isArray:pu,isArrayBuffer:LA,isBuffer:ud,isFormData:X3,isArrayBufferView:H3,isString:q3,isNumber:MA,isBoolean:G3,isObject:hd,isPlainObject:$f,isEmptyObject:Z3,isReadableStream:e6,isRequest:t6,isResponse:n6,isHeaders:i6,isUndefined:Xc,isDate:W3,isFile:K3,isBlob:$3,isRegExp:g6,isFunction:Ii,isStream:Q3,isURLSearchParams:J3,isTypedArray:h6,isFileList:Y3,forEach:dd,merge:r0,extend:r6,trim:s6,stripBOM:a6,inherits:o6,toFlatObject:l6,kindOf:tp,kindOfTest:Js,endsWith:c6,toArray:u6,forEachEntry:d6,matchAll:f6,isHTMLForm:m6,hasOwnProperty:JT,hasOwnProp:JT,reduceDescriptors:VA,freezeMethods:y6,toObjectSet:v6,toCamelCase:p6,noop:_6,toFiniteNumber:x6,findKey:OA,global:xl,isContextDefined:kA,isSpecCompliantForm:b6,toJSONObject:w6,isAsyncFn:T6,isThenable:E6,setImmediate:UA,asap:S6,isIterable:A6};function Je(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}he.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const BA=Je.prototype,zA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zA[t]={value:t}});Object.defineProperties(Je,zA);Object.defineProperty(BA,"isAxiosError",{value:!0});Je.from=(t,e,n,i,a,c)=>{const u=Object.create(BA);he.toFlatObject(t,u,function(x){return x!==Error.prototype},_=>_!=="isAxiosError");const m=t&&t.message?t.message:"Error",g=e==null&&t?t.code:e;return Je.call(u,m,g,n,i,a),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",c&&Object.assign(u,c),u};const N6=null;function a0(t){return he.isPlainObject(t)||he.isArray(t)}function FA(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function e1(t,e,n){return t?t.concat(e).map(function(a,c){return a=FA(a),!n&&c?"["+a+"]":a}).join(n?".":""):e}function C6(t){return he.isArray(t)&&!t.some(a0)}const R6=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function ip(t,e,n){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,V){return!he.isUndefined(V[z])});const i=n.metaTokens,a=n.visitor||x,c=n.dots,u=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(a))throw new TypeError("visitor must be a function");function _(P){if(P===null)return"";if(he.isDate(P))return P.toISOString();if(he.isBoolean(P))return P.toString();if(!g&&he.isBlob(P))throw new Je("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(P)||he.isTypedArray(P)?g&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function x(P,z,V){let $=P;if(P&&!V&&typeof P=="object"){if(he.endsWith(z,"{}"))z=i?z:z.slice(0,-2),P=JSON.stringify(P);else if(he.isArray(P)&&C6(P)||(he.isFileList(P)||he.endsWith(z,"[]"))&&($=he.toArray(P)))return z=FA(z),$.forEach(function(X,_e){!(he.isUndefined(X)||X===null)&&e.append(u===!0?e1([z],_e,c):u===null?z:z+"[]",_(X))}),!1}return a0(P)?!0:(e.append(e1(V,z,c),_(P)),!1)}const T=[],A=Object.assign(R6,{defaultVisitor:x,convertValue:_,isVisitable:a0});function I(P,z){if(!he.isUndefined(P)){if(T.indexOf(P)!==-1)throw Error("Circular reference detected in "+z.join("."));T.push(P),he.forEach(P,function($,K){(!(he.isUndefined($)||$===null)&&a.call(e,$,he.isString(K)?K.trim():K,z,A))===!0&&I($,z?z.concat(K):[K])}),T.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return I(t),e}function t1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function kv(t,e){this._pairs=[],t&&ip(t,this,e)}const HA=kv.prototype;HA.append=function(e,n){this._pairs.push([e,n])};HA.toString=function(e){const n=e?function(i){return e.call(this,i,t1)}:t1;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function j6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qA(t,e,n){if(!e)return t;const i=n&&n.encode||j6;he.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(e,n):c=he.isURLSearchParams(e)?e.toString():new kv(e,n).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class n1{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(i){i!==null&&e(i)})}}const GA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},P6=typeof URLSearchParams<"u"?URLSearchParams:kv,I6=typeof FormData<"u"?FormData:null,D6=typeof Blob<"u"?Blob:null,L6={isBrowser:!0,classes:{URLSearchParams:P6,FormData:I6,Blob:D6},protocols:["http","https","file","blob","url","data"]},Vv=typeof window<"u"&&typeof document<"u",o0=typeof navigator=="object"&&navigator||void 0,M6=Vv&&(!o0||["ReactNative","NativeScript","NS"].indexOf(o0.product)<0),O6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",k6=Vv&&window.location.href||"http://localhost",V6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vv,hasStandardBrowserEnv:M6,hasStandardBrowserWebWorkerEnv:O6,navigator:o0,origin:k6},Symbol.toStringTag,{value:"Module"})),Yn={...V6,...L6};function U6(t,e){return ip(t,new Yn.classes.URLSearchParams,{visitor:function(n,i,a,c){return Yn.isNode&&he.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function B6(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z6(t){const e={},n=Object.keys(t);let i;const a=n.length;let c;for(i=0;i<a;i++)c=n[i],e[c]=t[c];return e}function ZA(t){function e(n,i,a,c){let u=n[c++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),g=c>=n.length;return u=!u&&he.isArray(a)?a.length:u,g?(he.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!m):((!a[u]||!he.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],c)&&he.isArray(a[u])&&(a[u]=z6(a[u])),!m)}if(he.isFormData(t)&&he.isFunction(t.entries)){const n={};return he.forEachEntry(t,(i,a)=>{e(B6(i),a,n,0)}),n}return null}function F6(t,e,n){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const fd={transitional:GA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,c=he.isObject(e);if(c&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return a?JSON.stringify(ZA(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return U6(e,this.formSerializer).toString();if((m=he.isFileList(e))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return ip(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),F6(e)):e}],transformResponse:[function(e){const n=this.transitional||fd.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?Je.from(m,Je.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{fd.headers[t]={}});const H6=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q6=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&H6[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},i1=Symbol("internals");function hh(t){return t&&String(t).trim().toLowerCase()}function Yf(t){return t===!1||t==null?t:he.isArray(t)?t.map(Yf):String(t)}function G6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Z6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function oy(t,e,n,i,a){if(he.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!he.isString(e)){if(he.isString(i))return e.indexOf(i)!==-1;if(he.isRegExp(i))return i.test(e)}}function W6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function K6(t,e){const n=he.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,c,u){return this[i].call(this,e,a,c,u)},configurable:!0})})}let Di=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function c(m,g,_){const x=hh(g);if(!x)throw new Error("header name must be a non-empty string");const T=he.findKey(a,x);(!T||a[T]===void 0||_===!0||_===void 0&&a[T]!==!1)&&(a[T||g]=Yf(m))}const u=(m,g)=>he.forEach(m,(_,x)=>c(_,x,g));if(he.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(he.isString(e)&&(e=e.trim())&&!Z6(e))u(q6(e),n);else if(he.isObject(e)&&he.isIterable(e)){let m={},g,_;for(const x of e){if(!he.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[_=x[0]]=(g=m[_])?he.isArray(g)?[...g,x[1]]:[g,x[1]]:x[1]}u(m,n)}else e!=null&&c(n,e,i);return this}get(e,n){if(e=hh(e),e){const i=he.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return G6(a);if(he.isFunction(n))return n.call(this,a,i);if(he.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hh(e),e){const i=he.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||oy(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function c(u){if(u=hh(u),u){const m=he.findKey(i,u);m&&(!n||oy(i,i[m],m,n))&&(delete i[m],a=!0)}}return he.isArray(e)?e.forEach(c):c(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const c=n[i];(!e||oy(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const n=this,i={};return he.forEach(this,(a,c)=>{const u=he.findKey(i,c);if(u){n[u]=Yf(a),delete n[c];return}const m=e?W6(c):String(c).trim();m!==c&&delete n[c],n[m]=Yf(a),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return he.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&he.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[i1]=this[i1]={accessors:{}}).accessors,a=this.prototype;function c(u){const m=hh(u);i[m]||(K6(a,u),i[m]=!0)}return he.isArray(e)?e.forEach(c):c(e),this}};Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Di.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});he.freezeMethods(Di);function ly(t,e){const n=this||fd,i=e||n,a=Di.from(i.headers);let c=i.data;return he.forEach(t,function(m){c=m.call(n,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function WA(t){return!!(t&&t.__CANCEL__)}function gu(t,e,n){Je.call(this,t??"canceled",Je.ERR_CANCELED,e,n),this.name="CanceledError"}he.inherits(gu,Je,{__CANCEL__:!0});function KA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Je("Request failed with status code "+n.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y6(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,c=0,u;return e=e!==void 0?e:1e3,function(g){const _=Date.now(),x=i[c];u||(u=_),n[a]=g,i[a]=_;let T=c,A=0;for(;T!==a;)A+=n[T++],T=T%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),_-u<e)return;const I=x&&_-x;return I?Math.round(A*1e3/I):void 0}}function Q6(t,e){let n=0,i=1e3/e,a,c;const u=(_,x=Date.now())=>{n=x,a=null,c&&(clearTimeout(c),c=null),t(..._)};return[(..._)=>{const x=Date.now(),T=x-n;T>=i?u(_,x):(a=_,c||(c=setTimeout(()=>{c=null,u(a)},i-T)))},()=>a&&u(a)]}const wm=(t,e,n=3)=>{let i=0;const a=Y6(50,250);return Q6(c=>{const u=c.loaded,m=c.lengthComputable?c.total:void 0,g=u-i,_=a(g),x=u<=m;i=u;const T={loaded:u,total:m,progress:m?u/m:void 0,bytes:g,rate:_||void 0,estimated:_&&m&&x?(m-u)/_:void 0,event:c,lengthComputable:m!=null,[e?"download":"upload"]:!0};t(T)},n)},s1=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},r1=t=>(...e)=>he.asap(()=>t(...e)),X6=Yn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Yn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Yn.origin),Yn.navigator&&/(msie|trident)/i.test(Yn.navigator.userAgent)):()=>!0,J6=Yn.hasStandardBrowserEnv?{write(t,e,n,i,a,c){const u=[t+"="+encodeURIComponent(e)];he.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),he.isString(i)&&u.push("path="+i),he.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $A(t,e,n){let i=!eV(e);return t&&(i||n==!1)?tV(t,e):e}const a1=t=>t instanceof Di?{...t}:t;function Dl(t,e){e=e||{};const n={};function i(_,x,T,A){return he.isPlainObject(_)&&he.isPlainObject(x)?he.merge.call({caseless:A},_,x):he.isPlainObject(x)?he.merge({},x):he.isArray(x)?x.slice():x}function a(_,x,T,A){if(he.isUndefined(x)){if(!he.isUndefined(_))return i(void 0,_,T,A)}else return i(_,x,T,A)}function c(_,x){if(!he.isUndefined(x))return i(void 0,x)}function u(_,x){if(he.isUndefined(x)){if(!he.isUndefined(_))return i(void 0,_)}else return i(void 0,x)}function m(_,x,T){if(T in e)return i(_,x);if(T in t)return i(void 0,_)}const g={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(_,x,T)=>a(a1(_),a1(x),T,!0)};return he.forEach(Object.keys({...t,...e}),function(x){const T=g[x]||a,A=T(t[x],e[x],x);he.isUndefined(A)&&T!==m||(n[x]=A)}),n}const YA=t=>{const e=Dl({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:u,auth:m}=e;if(e.headers=u=Di.from(u),e.url=qA($A(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),he.isFormData(n)){if(Yn.hasStandardBrowserEnv||Yn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(he.isFunction(n.getHeaders)){const g=n.getHeaders(),_=["content-type","content-length"];Object.entries(g).forEach(([x,T])=>{_.includes(x.toLowerCase())&&u.set(x,T)})}}if(Yn.hasStandardBrowserEnv&&(i&&he.isFunction(i)&&(i=i(e)),i||i!==!1&&X6(e.url))){const g=a&&c&&J6.read(c);g&&u.set(a,g)}return e},nV=typeof XMLHttpRequest<"u",iV=nV&&function(t){return new Promise(function(n,i){const a=YA(t);let c=a.data;const u=Di.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:_}=a,x,T,A,I,P;function z(){I&&I(),P&&P(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let V=new XMLHttpRequest;V.open(a.method.toUpperCase(),a.url,!0),V.timeout=a.timeout;function $(){if(!V)return;const X=Di.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),de={data:!m||m==="text"||m==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:X,config:t,request:V};KA(function(U){n(U),z()},function(U){i(U),z()},de),V=null}"onloadend"in V?V.onloadend=$:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout($)},V.onabort=function(){V&&(i(new Je("Request aborted",Je.ECONNABORTED,t,V)),V=null)},V.onerror=function(_e){const de=_e&&_e.message?_e.message:"Network Error",we=new Je(de,Je.ERR_NETWORK,t,V);we.event=_e||null,i(we),V=null},V.ontimeout=function(){let _e=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const de=a.transitional||GA;a.timeoutErrorMessage&&(_e=a.timeoutErrorMessage),i(new Je(_e,de.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,V)),V=null},c===void 0&&u.setContentType(null),"setRequestHeader"in V&&he.forEach(u.toJSON(),function(_e,de){V.setRequestHeader(de,_e)}),he.isUndefined(a.withCredentials)||(V.withCredentials=!!a.withCredentials),m&&m!=="json"&&(V.responseType=a.responseType),_&&([A,P]=wm(_,!0),V.addEventListener("progress",A)),g&&V.upload&&([T,I]=wm(g),V.upload.addEventListener("progress",T),V.upload.addEventListener("loadend",I)),(a.cancelToken||a.signal)&&(x=X=>{V&&(i(!X||X.type?new gu(null,t,V):X),V.abort(),V=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const K=$6(a.url);if(K&&Yn.protocols.indexOf(K)===-1){i(new Je("Unsupported protocol "+K+":",Je.ERR_BAD_REQUEST,t));return}V.send(c||null)})},sV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const c=function(_){if(!a){a=!0,m();const x=_ instanceof Error?_:this.reason;i.abort(x instanceof Je?x:new gu(x instanceof Error?x.message:x))}};let u=e&&setTimeout(()=>{u=null,c(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const m=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(c):_.removeEventListener("abort",c)}),t=null)};t.forEach(_=>_.addEventListener("abort",c));const{signal:g}=i;return g.unsubscribe=()=>he.asap(m),g}},rV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},aV=async function*(t,e){for await(const n of oV(t))yield*rV(n,e)},oV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},o1=(t,e,n,i)=>{const a=aV(t,e);let c=0,u,m=g=>{u||(u=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:_,value:x}=await a.next();if(_){m(),g.close();return}let T=x.byteLength;if(n){let A=c+=T;n(A)}g.enqueue(new Uint8Array(x))}catch(_){throw m(_),_}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},l1=64*1024,{isFunction:Rf}=he,lV=(({Request:t,Response:e})=>({Request:t,Response:e}))(he.global),{ReadableStream:c1,TextEncoder:u1}=he.global,h1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cV=t=>{t=he.merge.call({skipUndefined:!0},lV,t);const{fetch:e,Request:n,Response:i}=t,a=e?Rf(e):typeof fetch=="function",c=Rf(n),u=Rf(i);if(!a)return!1;const m=a&&Rf(c1),g=a&&(typeof u1=="function"?(P=>z=>P.encode(z))(new u1):async P=>new Uint8Array(await new n(P).arrayBuffer())),_=c&&m&&h1(()=>{let P=!1;const z=new n(Yn.origin,{body:new c1,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!z}),x=u&&m&&h1(()=>he.isReadableStream(new i("").body)),T={stream:x&&(P=>P.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!T[P]&&(T[P]=(z,V)=>{let $=z&&z[P];if($)return $.call(z);throw new Je(`Response type '${P}' is not supported`,Je.ERR_NOT_SUPPORT,V)})});const A=async P=>{if(P==null)return 0;if(he.isBlob(P))return P.size;if(he.isSpecCompliantForm(P))return(await new n(Yn.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(he.isArrayBufferView(P)||he.isArrayBuffer(P))return P.byteLength;if(he.isURLSearchParams(P)&&(P=P+""),he.isString(P))return(await g(P)).byteLength},I=async(P,z)=>{const V=he.toFiniteNumber(P.getContentLength());return V??A(z)};return async P=>{let{url:z,method:V,data:$,signal:K,cancelToken:X,timeout:_e,onDownloadProgress:de,onUploadProgress:we,responseType:U,headers:M,withCredentials:B="same-origin",fetchOptions:W}=YA(P),q=e||fetch;U=U?(U+"").toLowerCase():"text";let Q=sV([K,X&&X.toAbortSignal()],_e),H=null;const Be=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let Pe;try{if(we&&_&&V!=="get"&&V!=="head"&&(Pe=await I(M,$))!==0){let oe=new n(z,{method:"POST",body:$,duplex:"half"}),be;if(he.isFormData($)&&(be=oe.headers.get("content-type"))&&M.setContentType(be),oe.body){const[me,Te]=s1(Pe,wm(r1(we)));$=o1(oe.body,l1,me,Te)}}he.isString(B)||(B=B?"include":"omit");const F=c&&"credentials"in n.prototype,re={...W,signal:Q,method:V.toUpperCase(),headers:M.normalize().toJSON(),body:$,duplex:"half",credentials:F?B:void 0};H=c&&new n(z,re);let te=await(c?q(H,W):q(z,re));const Ae=x&&(U==="stream"||U==="response");if(x&&(de||Ae&&Be)){const oe={};["status","statusText","headers"].forEach(Re=>{oe[Re]=te[Re]});const be=he.toFiniteNumber(te.headers.get("content-length")),[me,Te]=de&&s1(be,wm(r1(de),!0))||[];te=new i(o1(te.body,l1,me,()=>{Te&&Te(),Be&&Be()}),oe)}U=U||"text";let k=await T[he.findKey(T,U)||"text"](te,P);return!Ae&&Be&&Be(),await new Promise((oe,be)=>{KA(oe,be,{data:k,headers:Di.from(te.headers),status:te.status,statusText:te.statusText,config:P,request:H})})}catch(F){throw Be&&Be(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,P,H),{cause:F.cause||F}):Je.from(F,F&&F.code,P,H)}}},uV=new Map,QA=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:a}=e,c=[i,a,n];let u=c.length,m=u,g,_,x=uV;for(;m--;)g=c[m],_=x.get(g),_===void 0&&x.set(g,_=m?new Map:cV(e)),x=_;return _};QA();const l0={http:N6,xhr:iV,fetch:{get:QA}};he.forEach(l0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const d1=t=>`- ${t}`,hV=t=>he.isFunction(t)||t===null||t===!1,XA={getAdapter:(t,e)=>{t=he.isArray(t)?t:[t];const{length:n}=t;let i,a;const c={};for(let u=0;u<n;u++){i=t[u];let m;if(a=i,!hV(i)&&(a=l0[(m=String(i)).toLowerCase()],a===void 0))throw new Je(`Unknown adapter '${m}'`);if(a&&(he.isFunction(a)||(a=a.get(e))))break;c[m||"#"+u]=a}if(!a){const u=Object.entries(c).map(([g,_])=>`adapter ${g} `+(_===!1?"is not supported by the environment":"is not available in the build"));let m=n?u.length>1?`since :
`+u.map(d1).join(`
`):" "+d1(u[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return a},adapters:l0};function cy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gu(null,t)}function f1(t){return cy(t),t.headers=Di.from(t.headers),t.data=ly.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),XA.getAdapter(t.adapter||fd.adapter,t)(t).then(function(i){return cy(t),i.data=ly.call(t,t.transformResponse,i),i.headers=Di.from(i.headers),i},function(i){return WA(i)||(cy(t),i&&i.response&&(i.response.data=ly.call(t,t.transformResponse,i.response),i.response.headers=Di.from(i.response.headers))),Promise.reject(i)})}const JA="1.12.2",sp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const m1={};sp.transitional=function(e,n,i){function a(c,u){return"[Axios v"+JA+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,m)=>{if(e===!1)throw new Je(a(u," has been removed"+(n?" in "+n:"")),Je.ERR_DEPRECATED);return n&&!m1[u]&&(m1[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,m):!0}};sp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function dV(t,e,n){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const c=i[a],u=e[c];if(u){const m=t[c],g=m===void 0||u(m,c,t);if(g!==!0)throw new Je("option "+c+" must be "+g,Je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Je("Unknown option "+c,Je.ERR_BAD_OPTION)}}const Qf={assertOptions:dV,validators:sp},vr=Qf.validators;let Sl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new n1,response:new n1}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dl(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:c}=n;i!==void 0&&Qf.assertOptions(i,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),a!=null&&(he.isFunction(a)?n.paramsSerializer={serialize:a}:Qf.assertOptions(a,{encode:vr.function,serialize:vr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Qf.assertOptions(n,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&he.merge(c.common,c[n.method]);c&&he.forEach(["delete","get","head","post","put","patch","common"],P=>{delete c[P]}),n.headers=Di.concat(u,c);const m=[];let g=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(n)===!1||(g=g&&z.synchronous,m.unshift(z.fulfilled,z.rejected))});const _=[];this.interceptors.response.forEach(function(z){_.push(z.fulfilled,z.rejected)});let x,T=0,A;if(!g){const P=[f1.bind(this),void 0];for(P.unshift(...m),P.push(..._),A=P.length,x=Promise.resolve(n);T<A;)x=x.then(P[T++],P[T++]);return x}A=m.length;let I=n;for(;T<A;){const P=m[T++],z=m[T++];try{I=P(I)}catch(V){z.call(this,V);break}}try{x=f1.call(this,I)}catch(P){return Promise.reject(P)}for(T=0,A=_.length;T<A;)x=x.then(_[T++],_[T++]);return x}getUri(e){e=Dl(this.defaults,e);const n=$A(e.baseURL,e.url,e.allowAbsoluteUrls);return qA(n,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){Sl.prototype[e]=function(n,i){return this.request(Dl(i||{},{method:e,url:n,data:(i||{}).data}))}});he.forEach(["post","put","patch"],function(e){function n(i){return function(c,u,m){return this.request(Dl(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}Sl.prototype[e]=n(),Sl.prototype[e+"Form"]=n(!0)});let fV=class eN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const u=new Promise(m=>{i.subscribe(m),c=m}).then(a);return u.cancel=function(){i.unsubscribe(c)},u},e(function(c,u,m){i.reason||(i.reason=new gu(c,u,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eN(function(a){e=a}),cancel:e}}};function mV(t){return function(n){return t.apply(null,n)}}function pV(t){return he.isObject(t)&&t.isAxiosError===!0}const c0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(c0).forEach(([t,e])=>{c0[e]=t});function tN(t){const e=new Sl(t),n=IA(Sl.prototype.request,e);return he.extend(n,Sl.prototype,e,{allOwnKeys:!0}),he.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return tN(Dl(t,a))},n}const Yt=tN(fd);Yt.Axios=Sl;Yt.CanceledError=gu;Yt.CancelToken=fV;Yt.isCancel=WA;Yt.VERSION=JA;Yt.toFormData=ip;Yt.AxiosError=Je;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=mV;Yt.isAxiosError=pV;Yt.mergeConfig=Dl;Yt.AxiosHeaders=Di;Yt.formToJSON=t=>ZA(he.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=XA.getAdapter;Yt.HttpStatusCode=c0;Yt.default=Yt;const{Axios:fB,AxiosError:mB,CanceledError:pB,isCancel:gB,CancelToken:yB,VERSION:vB,all:_B,Cancel:xB,isAxiosError:bB,spread:wB,toFormData:TB,AxiosHeaders:EB,HttpStatusCode:SB,formToJSON:AB,getAdapter:NB,mergeConfig:CB}=Yt;delete mu.Icon.Default.prototype._getIconUrl;mu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const gV="https://appsail-50034009857.development.catalystappsail.in/create-order",yV="https://appsail-50034009857.development.catalystappsail.in/verify-payment",vV=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=Jm(),i=Mo(),a=O.useRef(),c=fu.currentUser,[u,m]=O.useState(!1);u?(document.body.style.pointerEvents="none",document.body.style.opacity="0.6"):(document.body.style.pointerEvents="auto",document.body.style.opacity="1");const[g,_]=O.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[x,T]=O.useState(null),[A,I]=O.useState(!1),[P,z]=O.useState("card"),[V,$]=O.useState([12.2253,79.0747]),[K,X]=O.useState(13),[_e,de]=O.useState("satellite"),we=new mu.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),U=Pe=>{const{name:F,value:re}=Pe.target;_({...g,[F]:re})},M=async(Pe,F)=>{try{const te=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Pe}&lon=${F}&zoom=18&addressdetails=1`)).json();if(te?.address){const Ae=te.address;return{address:`${Ae.road||""} ${Ae.house_number||""} ${Ae.neighbourhood||""}`.trim(),city:Ae.city||Ae.town||Ae.village||Ae.county||"",state:Ae.state||"",pincode:Ae.postcode||"",country:Ae.country||"India"}}}catch(re){throw console.error("Reverse geocoding error:",re),new Error("Could not fetch location details.")}},B=async(Pe,F)=>{try{const re=await M(Pe,F);_(te=>({...te,...re}))}catch(re){alert(re.message)}},W=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser");return}I(!0),navigator.geolocation.getCurrentPosition(async Pe=>{const{latitude:F,longitude:re}=Pe.coords;T({lat:F,lng:re}),$([F,re]),X(16);try{await B(F,re)}catch{}finally{I(!1)}},Pe=>{console.error("Geolocation error:",Pe);let F="Location access failed.";switch(Pe.code){case Pe.PERMISSION_DENIED:F="Location access denied. Please allow location access and try again.";break;case Pe.POSITION_UNAVAILABLE:F="Location information unavailable.";break;case Pe.TIMEOUT:F="Location request timed out.";break}alert(F),I(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},q=async Pe=>{const{lat:F,lng:re}=Pe.latlng;T({lat:F,lng:re}),$([F,re]);try{await B(F,re)}catch{}},Q=()=>(B3({click:q}),null),H=async Pe=>{if(Pe.preventDefault(),!x){alert("Please set a delivery location.");return}m(!0);try{if(P==="cod"){const me=await Wf(Tl(Bn,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Pending (COD)",paymentMethod:"COD",createdAt:Kf(),shipping:{firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,pincode:g.pincode,country:g.country,location:x}});n(),i("/orderconfirmation",{state:{orderId:me.id,payment:"cod"}}),m(!1);return}const{data:F}=await Yt.post(gV,{amount:e,currency:"INR"}),{orderId:re,keyId:te,amount:Ae}=F;await Wf(Tl(Bn,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Initiated",paymentMethod:P,razorpayOrderId:re,createdAt:Kf(),shipping:{firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,pincode:g.pincode,country:g.country,location:x}});let k="";t.length===1?k=`Payment for ${t[0].name}`:k=`Payment for ${t[0].name} + ${t.length-1} more item(s)`;const oe={key:te,amount:Ae,currency:"INR",name:"Fruit Bunch",description:k,order_id:re,handler:async function(me){try{(await Yt.post(yV,{razorpayOrderId:me.razorpay_order_id,razorpayPaymentId:me.razorpay_payment_id,razorpaySignature:me.razorpay_signature})).data.success?(await Wf(Tl(Bn,"payments"),{userId:c?.uid,orderId:re,paymentId:me.razorpay_payment_id,signature:me.razorpay_signature,createdAt:Kf()}),n(),i("/orderconfirmation",{state:{orderId:re,payment:P}})):alert("Payment verification failed!")}catch(Te){console.error("Verify error:",Te),alert("Verification failed.")}finally{m(!1)}},prefill:{name:`${g.firstName} ${g.lastName}`,email:g.email,contact:g.phone},theme:{color:"#22c55e"}};new window.Razorpay(oe).open()}catch(F){console.error("Order error:",F),alert("Failed to place order."),m(!1)}};if(t.length===0)return d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:""}),d.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"There's nothing to checkout. Add some items to your cart first."}),d.jsx(Qe,{to:"/cart",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Back to Cart"})]})});const Be={satellite:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Satellite",subdomains:["mt0","mt1","mt2","mt3"]},hybrid:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Hybrid",subdomains:["mt0","mt1","mt2","mt3"]},street:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors"},detailed:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team"}};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Checkout"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsx("div",{children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),d.jsx("div",{className:"space-y-4",children:t.map(Pe=>d.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-4",children:[d.jsx("img",{src:Pe.image,alt:Pe.name,className:"w-16 h-16 object-cover rounded-lg"}),d.jsxs("div",{className:"ml-4 flex-grow",children:[d.jsx("h3",{className:"font-medium text-gray-800",children:Pe.name}),d.jsxs("p",{className:"text-green-600 font-bold",children:["",Pe.price,"  ",Pe.quantity]})]}),d.jsx("div",{className:"ml-4",children:d.jsxs("p",{className:"font-bold text-green-600",children:["",Pe.price*Pe.quantity]})})]},Pe.id))}),d.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",e]})]}),d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Delivery Fee"}),d.jsx("span",{className:"text-green-600",children:"Free"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",e]})]})]})]})}),d.jsx("div",{children:d.jsxs("form",{onSubmit:H,className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Shipping Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),d.jsx("input",{type:"text",name:"firstName",value:g.firstName,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),d.jsx("input",{type:"text",name:"lastName",value:g.lastName,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:g.email,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700",children:"Delivery Location"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:_e,onChange:Pe=>de(Pe.target.value),className:"text-xs md:text-sm border border-gray-300 rounded px-2 py-1",children:[d.jsx("option",{value:"satellite",children:"Satellite"}),d.jsx("option",{value:"street",children:"Street"})]}),d.jsx("button",{type:"button",onClick:W,disabled:A,className:"text-xs md:text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:A?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use my location"]})})]})]}),d.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:d.jsxs(t0,{center:V,zoom:K,style:{height:"300px",width:"100%"},ref:a,children:[d.jsx(s0,{attribution:Be[_e].attribution,url:Be[_e].url,subdomains:Be[_e].subdomains}),d.jsx(Q,{}),x&&d.jsx(n0,{position:[x.lat,x.lng],icon:we,children:d.jsx(i0,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("strong",{children:"Delivery Location"}),d.jsx("br",{}),g.address&&`${g.address}, `,g.city&&`${g.city}, `,g.state&&`${g.state} - `,g.pincode]})})})]})}),d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" Click on the map to set your delivery location manually"}),d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",value:g.address,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,placeholder:"Street address"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),d.jsx("input",{type:"text",name:"city",value:g.city,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),d.jsx("input",{type:"text",name:"state",value:g.state,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),d.jsx("input",{type:"text",name:"pincode",value:g.pincode,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,pattern:"[0-9]{6}",title:"6-digit pincode"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),d.jsx("input",{type:"text",name:"country",value:g.country,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),d.jsxs("div",{className:"mb-6 space-y-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"card",name:"paymentMethod",type:"radio",value:"card",checked:P==="card",onChange:()=>z("card"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),d.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit/Debit Card"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"upi",name:"paymentMethod",type:"radio",value:"upi",checked:P==="upi",onChange:()=>z("upi"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),d.jsx("label",{htmlFor:"upi",className:"ml-3 block text-sm font-medium text-gray-700",children:"UPI"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"cod",name:"paymentMethod",type:"radio",value:"cod",checked:P==="cod",onChange:()=>z("cod"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),d.jsx("label",{htmlFor:"cod",className:"ml-3 block text-sm font-medium text-gray-700",children:"Cash on Delivery"})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(Qe,{to:"/cart",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition text-center",children:"Back to Cart"}),d.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition",children:["Pay ",e]})]})]})})]})]})},_V=()=>{const[t,e]=O.useState(!1);O.useEffect(()=>{const a=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=()=>{const a="918807239379",u=encodeURIComponent("I want fruit bunch"),m=`https://wa.me/${a}?text=${u}`;window.open(m,"_blank")};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-green-600 transition-transform transform hover:scale-110",onClick:i,children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})})}),t&&d.jsx("div",{className:"fixed bottom-24 right-7 z-50 w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-gray-800 transition-all duration-300 opacity-80 hover:opacity-100",onClick:n,children:d.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})})]})},xV=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(!1),[a,c]=O.useState(!1),u=async m=>{m.preventDefault(),c(!0);try{await uD(fu,t),console.log("Password reset email sent to:",t),i(!0)}catch(g){console.error("Password reset error:",g.message),alert(g.message)}finally{c(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Reset your password"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(Qe,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"return to sign in"})]})]}),n?d.jsxs("div",{className:"text-center py-6",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),d.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",d.jsx("span",{className:"font-medium text-green-600",children:t})]}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>i(!1),className:"text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Didn't receive the email? Click to resend"})}),d.jsx("div",{className:"mt-4",children:d.jsxs(Qe,{to:"/login",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to sign in"]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[d.jsx("div",{className:"rounded-md shadow-sm",children:d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:t,onChange:m=>e(m.target.value)}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),d.jsx("div",{children:d.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:a,children:[a?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,a?"Sending...":"Send reset link"]})})]})]})]})]})},p1=fA(),bV=()=>{const[t,e]=O.useState(null),[n,i]=O.useState(!0),[a,c]=O.useState([]),[u,m]=O.useState(null),[g,_]=O.useState("profile"),x=Mo();return O.useEffect(()=>{const T=localStorage.getItem("user");if(T){const A=JSON.parse(T);e(A),(async()=>{try{const P=Tl(p1,"orders"),z=wA(P,Vk("userId","==",A.uid)),$=(await e0(z)).docs.map(K=>({id:K.id,...K.data()}));if(c($),$.length>0){const K=$[0],X=K.createdAt?.toDate?.()||new Date,_e=new Date(X);_e.setDate(X.getDate()+26);const de=new Date;if(de>_e)m(null);else{const U=Math.max(0,Math.ceil((_e-de)/864e5));m({plan:K.items?.[0]?.name||"Standard",product:K.items?.[0]?.description||"Subscription",status:K.status,startDate:X.toISOString(),expiryDate:_e.toISOString(),price:`${K.amount}`,daysLeft:U})}}}catch(P){console.error("Error fetching orders:",P)}})()}i(!1)},[p1]),n?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),d.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("img",{src:`https://ui-avatars.com/api/?background=10b981&color=fff&size=128&name=${encodeURIComponent(t.name)}&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg"}),d.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-2 border-white rounded-full"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-900",children:t.name}),d.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),d.jsxs("nav",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>_("profile"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${g==="profile"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{className:"font-medium",children:"Profile"})]}),d.jsxs("button",{onClick:()=>_("subscription"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${g==="subscription"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:"Subscription"})]})]})]})}),d.jsx("div",{className:"md:col-span-3",children:g==="subscription"?d.jsxs(d.Fragment,{children:[u?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Current Subscription"}),d.jsx("p",{className:"text-green-100",children:"Active plan with premium features"})]}),d.jsx("div",{className:"bg-white text-green-600 px-4 py-2 rounded-full font-semibold",children:u.plan})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Product"}),d.jsxs("p",{className:"text-gray-600 text-sm",children:[u.product,"..more"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Expiry Date"}),d.jsx("p",{className:"text-gray-600 text-sm",children:new Date(u.expiryDate).toLocaleDateString()})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Price"}),d.jsx("p",{className:"text-gray-600 text-sm",children:u.price})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Days Left"}),d.jsxs("p",{className:"text-gray-600 text-sm",children:[u.daysLeft," days"]})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Renew Subscription"]}),d.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[d.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Change Plan"]})]})]})]}):d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Subscription Expired"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription has expired. Please renew to continue enjoying premium features."}),d.jsx("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Renew Now"})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:d.jsxs("div",{className:"p-6 border-b border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order History"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map((T,A)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-600",children:A+1}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.name}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.description}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(T.createdAt?.toDate?.()).toLocaleDateString()}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Rs: ",T.amount]})]},T.id))})]})})]})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),d.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),d.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),d.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),d.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 flex items-center",children:[d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Active"]})]})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("button",{onClick:()=>x("/forgot-password"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]}),d.jsxs("button",{onClick:()=>{const T=zS();yD(T).then(()=>{localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),x("/login")}).catch(A=>{console.error("Logout error:",A)})},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center ml-auto",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})})})]})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Authentication Required"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your profile"}),d.jsx("a",{href:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Go to Login"})]})})},Uv=O.createContext({});function Bv(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const zv=typeof window<"u",nN=zv?O.useLayoutEffect:O.useEffect,rp=O.createContext(null);function Fv(t,e){t.indexOf(e)===-1&&t.push(e)}function Hv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const va=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const _a={},iN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sN(t){return typeof t=="object"&&t!==null}const rN=t=>/^0[^.\s]+$/u.test(t);function Gv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ss=t=>t,wV=(t,e)=>n=>e(t(n)),md=(...t)=>t.reduce(wV),Hh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Zv{constructor(){this.subscriptions=[]}add(e){return Fv(this.subscriptions,e),()=>Hv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ar=t=>t*1e3,Es=t=>t/1e3;function aN(t,e){return e?t*(1e3/e):0}const oN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TV=1e-7,EV=12;function SV(t,e,n,i,a){let c,u,m=0;do u=e+(n-e)/2,c=oN(u,i,a)-t,c>0?n=u:e=u;while(Math.abs(c)>TV&&++m<EV);return u}function pd(t,e,n,i){if(t===e&&n===i)return Ss;const a=c=>SV(c,0,1,t,n);return c=>c===0||c===1?c:oN(a(c),e,i)}const lN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cN=t=>e=>1-t(1-e),uN=pd(.33,1.53,.69,.99),Wv=cN(uN),hN=lN(Wv),dN=t=>(t*=2)<1?.5*Wv(t):.5*(2-Math.pow(2,-10*(t-1))),Kv=t=>1-Math.sin(Math.acos(t)),fN=cN(Kv),mN=lN(Kv),AV=pd(.42,0,1,1),NV=pd(0,0,.58,1),pN=pd(.42,0,.58,1),CV=t=>Array.isArray(t)&&typeof t[0]!="number",gN=t=>Array.isArray(t)&&typeof t[0]=="number",RV={linear:Ss,easeIn:AV,easeInOut:pN,easeOut:NV,circIn:Kv,circInOut:mN,circOut:fN,backIn:Wv,backInOut:hN,backOut:uN,anticipate:dN},jV=t=>typeof t=="string",g1=t=>{if(gN(t)){qv(t.length===4);const[e,n,i,a]=t;return pd(e,n,i,a)}else if(jV(t))return RV[t];return t},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PV(t,e){let n=new Set,i=new Set,a=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(x){u.has(x)&&(_.schedule(x),t()),x(m)}const _={schedule:(x,T=!1,A=!1)=>{const P=A&&a?n:i;return T&&u.add(x),P.has(x)||P.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(m=x,a){c=!0;return}a=!0,[n,i]=[i,n],n.forEach(g),n.clear(),a=!1,c&&(c=!1,_.process(x))}};return _}const IV=40;function yN(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=jf.reduce((X,_e)=>(X[_e]=PV(c),X),{}),{setup:m,read:g,resolveKeyframes:_,preUpdate:x,update:T,preRender:A,render:I,postRender:P}=u,z=()=>{const X=_a.useManualTiming?a.timestamp:performance.now();n=!1,_a.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(X-a.timestamp,IV),1)),a.timestamp=X,a.isProcessing=!0,m.process(a),g.process(a),_.process(a),x.process(a),T.process(a),A.process(a),I.process(a),P.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(z))},V=()=>{n=!0,i=!0,a.isProcessing||t(z)};return{schedule:jf.reduce((X,_e)=>{const de=u[_e];return X[_e]=(we,U=!1,M=!1)=>(n||V(),de.schedule(we,U,M)),X},{}),cancel:X=>{for(let _e=0;_e<jf.length;_e++)u[jf[_e]].cancel(X)},state:a,steps:u}}const{schedule:Vt,cancel:Do,state:kn,steps:uy}=yN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let Xf;function DV(){Xf=void 0}const Pi={now:()=>(Xf===void 0&&Pi.set(kn.isProcessing||_a.useManualTiming?kn.timestamp:performance.now()),Xf),set:t=>{Xf=t,queueMicrotask(DV)}},vN=t=>e=>typeof e=="string"&&e.startsWith(t),$v=vN("--"),LV=vN("var(--"),Yv=t=>LV(t)?MV.test(t.split("/*")[0].trim()):!1,MV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qh={...yu,transform:t=>va(0,1,t)},Pf={...yu,default:1},Ch=t=>Math.round(t*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OV(t){return t==null}const kV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xv=(t,e)=>n=>!!(typeof n=="string"&&kV.test(n)&&n.startsWith(t)||e&&!OV(n)&&Object.prototype.hasOwnProperty.call(n,e)),_N=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,c,u,m]=i.match(Qv);return{[t]:parseFloat(a),[e]:parseFloat(c),[n]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},VV=t=>va(0,255,t),hy={...yu,transform:t=>Math.round(VV(t))},bl={test:Xv("rgb","red"),parse:_N("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+hy.transform(t)+", "+hy.transform(e)+", "+hy.transform(n)+", "+Ch(qh.transform(i))+")"};function UV(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const u0={test:Xv("#"),parse:UV,transform:bl.transform},gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),po=gd("deg"),Nr=gd("%"),We=gd("px"),BV=gd("vh"),zV=gd("vw"),y1={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},Ic={test:Xv("hsl","hue"),parse:_N("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Nr.transform(Ch(e))+", "+Nr.transform(Ch(n))+", "+Ch(qh.transform(i))+")"},ln={test:t=>bl.test(t)||u0.test(t)||Ic.test(t),parse:t=>bl.test(t)?bl.parse(t):Ic.test(t)?Ic.parse(t):u0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bl.transform(t):Ic.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},FV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HV(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qv)?.length||0)+(t.match(FV)?.length||0)>0}const xN="number",bN="color",qV="var",GV="var(",v1="${}",ZV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let c=0;const m=e.replace(ZV,g=>(ln.test(g)?(i.color.push(c),a.push(bN),n.push(ln.parse(g))):g.startsWith(GV)?(i.var.push(c),a.push(qV),n.push(g)):(i.number.push(c),a.push(xN),n.push(parseFloat(g))),++c,v1)).split(v1);return{values:n,split:m,indexes:i,types:a}}function wN(t){return Gh(t).values}function TN(t){const{split:e,types:n}=Gh(t),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const m=n[u];m===xN?c+=Ch(a[u]):m===bN?c+=ln.transform(a[u]):c+=a[u]}return c}}const WV=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function KV(t){const e=wN(t);return TN(t)(e.map(WV))}const Lo={test:HV,parse:wN,createTransformer:TN,getAnimatableNone:KV};function dy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $V({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,c=0,u=0;if(!e)a=c=u=n;else{const m=n<.5?n*(1+e):n+e-n*e,g=2*n-m;a=dy(g,m,t+1/3),c=dy(g,m,t),u=dy(g,m,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Tm(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,fy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},YV=[u0,bl,Ic],QV=t=>YV.find(e=>e.test(t));function _1(t){const e=QV(t);if(!e)return!1;let n=e.parse(t);return e===Ic&&(n=$V(n)),n}const x1=(t,e)=>{const n=_1(t),i=_1(e);if(!n||!i)return Tm(t,e);const a={...n};return c=>(a.red=fy(n.red,i.red,c),a.green=fy(n.green,i.green,c),a.blue=fy(n.blue,i.blue,c),a.alpha=Gt(n.alpha,i.alpha,c),bl.transform(a))},h0=new Set(["none","hidden"]);function XV(t,e){return h0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function JV(t,e){return n=>Gt(t,e,n)}function Jv(t){return typeof t=="number"?JV:typeof t=="string"?Yv(t)?Tm:ln.test(t)?x1:n5:Array.isArray(t)?EN:typeof t=="object"?ln.test(t)?x1:e5:Tm}function EN(t,e){const n=[...t],i=n.length,a=t.map((c,u)=>Jv(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)n[u]=a[u](c);return n}}function e5(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Jv(t[a])(t[a],e[a]));return a=>{for(const c in i)n[c]=i[c](a);return n}}function t5(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=t.indexes[c][i[c]],m=t.values[u]??0;n[a]=m,i[c]++}return n}const n5=(t,e)=>{const n=Lo.createTransformer(e),i=Gh(t),a=Gh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?h0.has(t)&&!a.values.length||h0.has(e)&&!i.values.length?XV(t,e):md(EN(t5(i,a),a.values),n):Tm(t,e)};function SN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):Jv(t)(t,e)}const i5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>Do(e),now:()=>kn.isProcessing?kn.timestamp:Pi.now()}},AN=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let c=0;c<a;c++)i+=Math.round(t(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Em=2e4;function e_(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Em;)e+=n,i=t.next(e);return e>=Em?1/0:e}function s5(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(e_(i),Em);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:Es(a)}}const r5=5;function NN(t,e,n){const i=Math.max(e-r5,0);return aN(n-t(i),e-i)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function a5({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:i=$t.mass}){let a,c,u=1-e;u=va($t.minDamping,$t.maxDamping,u),t=va($t.minDuration,$t.maxDuration,Es(t)),u<1?(a=_=>{const x=_*u,T=x*t,A=x-n,I=d0(_,u),P=Math.exp(-T);return my-A/I*P},c=_=>{const T=_*u*t,A=T*n+n,I=Math.pow(u,2)*Math.pow(_,2)*t,P=Math.exp(-T),z=d0(Math.pow(_,2),u);return(-a(_)+my>0?-1:1)*((A-I)*P)/z}):(a=_=>{const x=Math.exp(-_*t),T=(_-n)*t+1;return-my+x*T},c=_=>{const x=Math.exp(-_*t),T=(n-_)*(t*t);return x*T});const m=5/t,g=l5(a,c,m);if(t=Ar(t),isNaN(g))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const _=Math.pow(g,2)*i;return{stiffness:_,damping:u*2*Math.sqrt(i*_),duration:t}}}const o5=12;function l5(t,e,n){let i=n;for(let a=1;a<o5;a++)i=i-t(i)/e(i);return i}function d0(t,e){return t*Math.sqrt(1-e*e)}const c5=["duration","bounce"],u5=["stiffness","damping","mass"];function b1(t,e){return e.some(n=>t[n]!==void 0)}function h5(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!b1(t,u5)&&b1(t,c5))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,c=2*va(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:$t.mass,stiffness:a,damping:c}}else{const n=a5(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function Sm(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:_,mass:x,duration:T,velocity:A,isResolvedFromDuration:I}=h5({...n,velocity:-Es(n.velocity||0)}),P=A||0,z=_/(2*Math.sqrt(g*x)),V=u-c,$=Es(Math.sqrt(g/x)),K=Math.abs(V)<5;i||(i=K?$t.restSpeed.granular:$t.restSpeed.default),a||(a=K?$t.restDelta.granular:$t.restDelta.default);let X;if(z<1){const de=d0($,z);X=we=>{const U=Math.exp(-z*$*we);return u-U*((P+z*$*V)/de*Math.sin(de*we)+V*Math.cos(de*we))}}else if(z===1)X=de=>u-Math.exp(-$*de)*(V+(P+$*V)*de);else{const de=$*Math.sqrt(z*z-1);X=we=>{const U=Math.exp(-z*$*we),M=Math.min(de*we,300);return u-U*((P+z*$*V)*Math.sinh(M)+de*V*Math.cosh(M))/de}}const _e={calculatedDuration:I&&T||null,next:de=>{const we=X(de);if(I)m.done=de>=T;else{let U=de===0?P:0;z<1&&(U=de===0?Ar(P):NN(X,de,we));const M=Math.abs(U)<=i,B=Math.abs(u-we)<=a;m.done=M&&B}return m.value=m.done?u:we,m},toString:()=>{const de=Math.min(e_(_e),Em),we=AN(U=>_e.next(de*U).value,de,30);return de+"ms "+we},toTransition:()=>{}};return _e}Sm.applyToOptions=t=>{const e=s5(t,100,Sm);return t.ease=e.ease,t.duration=Ar(e.duration),t.type="keyframes",t};function f0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:_=.5,restSpeed:x}){const T=t[0],A={done:!1,value:T},I=M=>m!==void 0&&M<m||g!==void 0&&M>g,P=M=>m===void 0?g:g===void 0||Math.abs(m-M)<Math.abs(g-M)?m:g;let z=n*e;const V=T+z,$=u===void 0?V:u(V);$!==V&&(z=$-T);const K=M=>-z*Math.exp(-M/i),X=M=>$+K(M),_e=M=>{const B=K(M),W=X(M);A.done=Math.abs(B)<=_,A.value=A.done?$:W};let de,we;const U=M=>{I(A.value)&&(de=M,we=Sm({keyframes:[A.value,P(A.value)],velocity:NN(X,M,A.value),damping:a,stiffness:c,restDelta:_,restSpeed:x}))};return U(0),{calculatedDuration:null,next:M=>{let B=!1;return!we&&de===void 0&&(B=!0,_e(M),U(M)),de!==void 0&&M>=de?we.next(M-de):(!B&&_e(M),A)}}}function d5(t,e,n){const i=[],a=n||_a.mix||SN,c=t.length-1;for(let u=0;u<c;u++){let m=a(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||Ss:e;m=md(g,m)}i.push(m)}return i}function f5(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const c=t.length;if(qv(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=d5(e,i,a),g=m.length,_=x=>{if(u&&x<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(x<t[T+1]);T++);const A=Hh(t[T],t[T+1],x);return m[T](A)};return n?x=>_(va(t[0],t[c-1],x)):_}function m5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Hh(0,e,i);t.push(Gt(n,1,a))}}function p5(t){const e=[0];return m5(e,t.length-1),e}function g5(t,e){return t.map(n=>n*e)}function y5(t,e){return t.map(()=>e||pN).splice(0,t.length-1)}function Rh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=CV(i)?i.map(g1):g1(i),c={done:!1,value:e[0]},u=g5(n&&n.length===e.length?n:p5(e),t),m=f5(u,e,{ease:Array.isArray(a)?a:y5(e,a)});return{calculatedDuration:t,next:g=>(c.value=m(g),c.done=g>=t,c)}}const v5=t=>t!==null;function t_(t,{repeat:e,repeatType:n="loop"},i,a=1){const c=t.filter(v5),m=a<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!m||i===void 0?c[m]:i}const _5={decay:f0,inertia:f0,tween:Rh,keyframes:Rh,spring:Sm};function CN(t){typeof t.type=="string"&&(t.type=_5[t.type])}class n_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const x5=t=>t/100;class i_ extends n_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CN(e);const{type:n=Rh,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:m}=e;const g=n||Rh;g!==Rh&&typeof m[0]!="number"&&(this.mixKeyframes=md(x5,SN(m[0],m[1])),m=[0,100]);const _=g({...e,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=e_(_));const{calculatedDuration:x}=_;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=_}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:_=0,keyframes:x,repeat:T,repeatType:A,repeatDelay:I,type:P,onUpdate:z,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-_*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let X=this.currentTime,_e=i;if(T){const M=Math.min(this.currentTime,a)/m;let B=Math.floor(M),W=M%1;!W&&M>=1&&(W=1),W===1&&B--,B=Math.min(B,T+1),!!(B%2)&&(A==="reverse"?(W=1-W,I&&(W-=I/m)):A==="mirror"&&(_e=u)),X=va(0,1,W)*m}const de=K?{done:!1,value:x[0]}:_e.next(X);c&&(de.value=c(de.value));let{done:we}=de;!K&&g!==null&&(we=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&we);return U&&P!==f0&&(de.value=t_(x,this.options,V,this.speed)),z&&z(de.value),U&&this.finish(),de}then(e,n){return this.finished.then(e,n)}get duration(){return Es(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Es(e)}get time(){return Es(this.currentTime)}set time(e){e=Ar(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Es(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=i5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function b5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wl=t=>t*180/Math.PI,m0=t=>{const e=wl(Math.atan2(t[1],t[0]));return p0(e)},w5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:m0,rotateZ:m0,skewX:t=>wl(Math.atan(t[1])),skewY:t=>wl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},p0=t=>(t=t%360,t<0&&(t+=360),t),w1=m0,T1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),E1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),T5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:T1,scaleY:E1,scale:t=>(T1(t)+E1(t))/2,rotateX:t=>p0(wl(Math.atan2(t[6],t[5]))),rotateY:t=>p0(wl(Math.atan2(-t[2],t[0]))),rotateZ:w1,rotate:w1,skewX:t=>wl(Math.atan(t[4])),skewY:t=>wl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function g0(t){return t.includes("scale")?1:0}function y0(t,e){if(!t||t==="none")return g0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=T5,a=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=w5,a=m}if(!a)return g0(e);const c=i[e],u=a[1].split(",").map(S5);return typeof c=="function"?c(u):u[c]}const E5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return y0(n,e)};function S5(t){return parseFloat(t.trim())}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_u=new Set(vu),S1=t=>t===yu||t===We,A5=new Set(["x","y","z"]),N5=vu.filter(t=>!A5.has(t));function C5(t){const e=[];return N5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>y0(e,"x"),y:(t,{transform:e})=>y0(e,"y")};Al.translateX=Al.x;Al.translateY=Al.y;const Nl=new Set;let v0=!1,_0=!1,x0=!1;function RN(){if(_0){const t=Array.from(Nl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=C5(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_0=!1,v0=!1,Nl.forEach(t=>t.complete(x0)),Nl.clear()}function jN(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_0=!0)})}function R5(){x0=!0,jN(),RN(),x0=!1}class s_{constructor(e,n,i,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),v0||(v0=!0,Vt.read(jN),Vt.resolveKeyframes(RN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const m=i.readValue(n,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}b5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j5=t=>t.startsWith("--");function P5(t,e,n){j5(e)?t.style.setProperty(e,n):t.style[e]=n}const I5=Gv(()=>window.ScrollTimeline!==void 0),D5={};function L5(t,e){const n=Gv(t);return()=>D5[e]??n()}const PN=L5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,A1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bh([0,.65,.55,1]),circOut:bh([.55,0,1,.45]),backIn:bh([.31,.01,.66,-.59]),backOut:bh([.33,1.53,.69,.99])};function IN(t,e){if(t)return typeof t=="function"?PN()?AN(t,e):"ease-out":gN(t)?bh(t):Array.isArray(t)?t.map(n=>IN(n,e)||A1.easeOut):A1[t]}function M5(t,e,n,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},_=void 0){const x={[e]:n};g&&(x.offset=g);const T=IN(m,a);Array.isArray(T)&&(x.easing=T);const A={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return _&&(A.pseudoElement=_),t.animate(x,A)}function DN(t){return typeof t=="function"&&"applyToOptions"in t}function O5({type:t,...e}){return DN(t)&&PN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class k5 extends n_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,qv(typeof e.type!="string");const _=O5(e);this.animation=M5(n,i,a,_,c),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=t_(a,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(x):P5(n,i,x),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Es(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Es(e)}get time(){return Es(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ar(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&I5()?(this.animation.timeline=e,Ss):n(this)}}const LN={anticipate:dN,backInOut:hN,circInOut:mN};function V5(t){return t in LN}function U5(t){typeof t.ease=="string"&&V5(t.ease)&&(t.ease=LN[t.ease])}const N1=10;class B5 extends k5{constructor(e){U5(e),CN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new i_({...u,autoplay:!1}),g=Ar(this.finishedTime??this.time);n.setWithVelocity(m.sample(g-N1).value,m.sample(g).value,N1),m.stop()}}const C1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lo.test(t)||t==="0")&&!t.startsWith("url("));function z5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function F5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=C1(a,e),m=C1(c,e);return!u||!m?!1:z5(t)||(n==="spring"||DN(n))&&i}function b0(t){t.duration=0,t.type="keyframes"}const H5=new Set(["opacity","clipPath","filter","transform"]),q5=Gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:_}=e.owner.getProps();return q5()&&n&&H5.has(n)&&(n!=="transform"||!_)&&!g&&!i&&a!=="mirror"&&c!==0&&u!=="inertia"}const Z5=40;class W5 extends n_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:_,element:x,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pi.now();const A={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:c,repeatType:u,name:g,motionValue:_,element:x,...T},I=x?.KeyframeResolver||s_;this.keyframeResolver=new I(m,(P,z,V)=>this.onKeyframesResolved(P,z,A,!V),g,_,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:_,onUpdate:x}=i;this.resolvedAt=Pi.now(),F5(e,c,u,m)||((_a.instantAnimations||!g)&&x?.(t_(e,i,n)),e[0]=e[e.length-1],b0(i),i.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Z5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},I=!_&&G5(A)?new B5({...A,element:A.motionValue.owner.current}):new i_(A);I.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),R5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const K5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $5(t){const e=K5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function MN(t,e,n=1){const[i,a]=$5(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return iN(u)?parseFloat(u):u}return Yv(a)?MN(a,e,n+1):a}function r_(t,e){return t?.[e]??t?.default??t}const ON=new Set(["width","height","top","left","right","bottom",...vu]),Y5={test:t=>t==="auto",parse:t=>t},kN=t=>e=>e.test(t),VN=[yu,We,Nr,po,zV,BV,Y5],R1=t=>VN.find(kN(t));function Q5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rN(t):!0}const X5=new Set(["brightness","contrast","saturate","opacity"]);function J5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Qv)||[];if(!i)return t;const a=n.replace(i,"");let c=X5.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+a+")"}const e9=/\b([a-z-]*)\(.*?\)/gu,w0={...Lo,getAnimatableNone:t=>{const e=t.match(e9);return e?e.map(J5).join(" "):t}},j1={...yu,transform:Math.round},t9={rotate:po,rotateX:po,rotateY:po,rotateZ:po,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:po,skewX:po,skewY:po,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:qh,originX:y1,originY:y1,originZ:We},a_={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...t9,zIndex:j1,fillOpacity:qh,strokeOpacity:qh,numOctaves:j1},n9={...a_,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:w0,WebkitFilter:w0},UN=t=>n9[t];function BN(t,e){let n=UN(t);return n!==w0&&(n=Lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i9=new Set(["auto","none","0"]);function s9(t,e,n){let i=0,a;for(;i<t.length&&!a;){const c=t[i];typeof c=="string"&&!i9.has(c)&&Gh(c).values.length&&(a=t[i]),i++}if(a&&n)for(const c of e)t[c]=BN(n,a)}class r9 extends s_{constructor(e,n,i,a,c){super(e,n,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let _=e[g];if(typeof _=="string"&&(_=_.trim(),Yv(_))){const x=MN(_,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!ON.has(i)||e.length!==2)return;const[a,c]=e,u=R1(a),m=R1(c);if(u!==m)if(S1(u)&&S1(m))for(let g=0;g<e.length;g++){const _=e[g];typeof _=="string"&&(e[g]=parseFloat(_))}else Al[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Q5(e[a]))&&i.push(a);i.length&&s9(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Al[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Al[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function a9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const zN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FN(t){return sN(t)&&"offsetHeight"in t}const P1=30,o9=t=>!isNaN(parseFloat(t));class l9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Pi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>P1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,P1);return aN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jc(t,e){return new l9(t,e)}const{schedule:o_}=yN(queueMicrotask,!1),Zs={x:!1,y:!1};function HN(){return Zs.x||Zs.y}function c9(t){return t==="x"||t==="y"?Zs[t]?null:(Zs[t]=!0,()=>{Zs[t]=!1}):Zs.x||Zs.y?null:(Zs.x=Zs.y=!0,()=>{Zs.x=Zs.y=!1})}function qN(t,e){const n=a9(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function I1(t){return!(t.pointerType==="touch"||HN())}function u9(t,e,n={}){const[i,a,c]=qN(t,n),u=m=>{if(!I1(m))return;const{target:g}=m,_=e(g,m);if(typeof _!="function"||!g)return;const x=T=>{I1(T)&&(_(T),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,a)};return i.forEach(m=>{m.addEventListener("pointerenter",u,a)}),c}const GN=(t,e)=>e?t===e?!0:GN(t,e.parentElement):!1,l_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,h9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function d9(t){return h9.has(t.tagName)||t.tabIndex!==-1}const Jf=new WeakSet;function D1(t){return e=>{e.key==="Enter"&&t(e)}}function py(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const f9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=D1(()=>{if(Jf.has(n))return;py(n,"down");const a=D1(()=>{py(n,"up")}),c=()=>py(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function L1(t){return l_(t)&&!HN()}function m9(t,e,n={}){const[i,a,c]=qN(t,n),u=m=>{const g=m.currentTarget;if(!L1(m))return;Jf.add(g);const _=e(g,m),x=(I,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),Jf.has(g)&&Jf.delete(g),L1(I)&&typeof _=="function"&&_(I,{success:P})},T=I=>{x(I,g===window||g===document||n.useGlobalTarget||GN(g,I.target))},A=I=>{x(I,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return i.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",u,a),FN(m)&&(m.addEventListener("focus",_=>f9(_,a)),!d9(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function ZN(t){return sN(t)&&"ownerSVGElement"in t}function p9(t){return ZN(t)&&t.tagName==="svg"}const Qn=t=>!!(t&&t.getVelocity),g9=[...VN,ln,Lo],y9=t=>g9.find(kN(t)),c_=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function M1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function v9(...t){return e=>{let n=!1;const i=t.map(a=>{const c=M1(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():M1(t[a],null)}}}}function _9(...t){return O.useCallback(v9(...t),t)}class x9 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=FN(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b9({children:t,isPresent:e,anchorX:n,root:i}){const a=O.useId(),c=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=O.useContext(c_),g=_9(c,t?.ref);return O.useInsertionEffect(()=>{const{width:_,height:x,top:T,left:A,right:I}=u.current;if(e||!c.current||!_||!x)return;const P=n==="left"?`left: ${A}`:`right: ${I}`;c.current.dataset.motionPopId=a;const z=document.createElement("style");m&&(z.nonce=m);const V=i??document.head;return V.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${x}px !important;
            ${P}px !important;
            top: ${T}px !important;
          }
        `),()=>{V.contains(z)&&V.removeChild(z)}},[e]),d.jsx(x9,{isPresent:e,childRef:c,sizeRef:u,children:O.cloneElement(t,{ref:g})})}const w9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const _=Bv(T9),x=O.useId();let T=!0,A=O.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:I=>{_.set(I,!0);for(const P of _.values())if(!P)return;i&&i()},register:I=>(_.set(I,!1),()=>_.delete(I))}),[n,_,i]);return c&&T&&(A={...A}),O.useMemo(()=>{_.forEach((I,P)=>_.set(P,!1))},[n]),O.useEffect(()=>{!n&&!_.size&&i&&i()},[n]),u==="popLayout"&&(t=d.jsx(b9,{isPresent:n,anchorX:m,root:g,children:t})),d.jsx(rp.Provider,{value:A,children:t})};function T9(){return new Map}function WN(t=!0){const e=O.useContext(rp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,c=O.useId();O.useEffect(()=>{if(t)return a(c)},[t]);const u=O.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,u]:[!0]}const If=t=>t.key||"";function O1(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Df=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[_,x]=WN(u),T=O.useMemo(()=>O1(t),[t]),A=u&&!_?[]:T.map(If),I=O.useRef(!0),P=O.useRef(T),z=Bv(()=>new Map),[V,$]=O.useState(T),[K,X]=O.useState(T);nN(()=>{I.current=!1,P.current=T;for(let we=0;we<K.length;we++){const U=If(K[we]);A.includes(U)?z.delete(U):z.get(U)!==!0&&z.set(U,!1)}},[K,A.length,A.join("-")]);const _e=[];if(T!==V){let we=[...T];for(let U=0;U<K.length;U++){const M=K[U],B=If(M);A.includes(B)||(we.splice(U,0,M),_e.push(M))}return c==="wait"&&_e.length&&(we=_e),X(O1(we)),$(T),null}const{forceRender:de}=O.useContext(Uv);return d.jsx(d.Fragment,{children:K.map(we=>{const U=If(we),M=u&&!_?!1:T===K||A.includes(U),B=()=>{if(z.has(U))z.set(U,!0);else return;let W=!0;z.forEach(q=>{q||(W=!1)}),W&&(de?.(),X(P.current),u&&x?.(),i&&i())};return d.jsx(w9,{isPresent:M,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:g,onExitComplete:M?void 0:B,anchorX:m,children:we},U)})})},KN=O.createContext({strict:!1}),k1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eu={};for(const t in k1)eu[t]={isEnabled:e=>k1[t].some(n=>!!e[n])};function E9(t){for(const e in t)eu[e]={...eu[e],...t[e]}}const S9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||S9.has(t)}let $N=t=>!Am(t);function A9(t){typeof t=="function"&&($N=e=>e.startsWith("on")?!Am(e):t(e))}try{A9(require("@emotion/is-prop-valid").default)}catch{}function N9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||($N(a)||n===!0&&Am(a)||!e&&!Am(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const ap=O.createContext({});function op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zh(t){return typeof t=="string"||Array.isArray(t)}const u_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h_=["initial",...u_];function lp(t){return op(t.animate)||h_.some(e=>Zh(t[e]))}function YN(t){return!!(lp(t)||t.variants)}function C9(t,e){if(lp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Zh(n)?n:void 0,animate:Zh(i)?i:void 0}}return t.inherit!==!1?e:{}}function R9(t){const{initial:e,animate:n}=C9(t,O.useContext(ap));return O.useMemo(()=>({initial:e,animate:n}),[V1(e),V1(n)])}function V1(t){return Array.isArray(t)?t.join(" "):t}const Wh={};function j9(t){for(const e in t)Wh[e]=t[e],$v(e)&&(Wh[e].isCSSVariable=!0)}function QN(t,{layout:e,layoutId:n}){return _u.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wh[t]||t==="opacity")}const P9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I9=vu.length;function D9(t,e,n){let i="",a=!0;for(let c=0;c<I9;c++){const u=vu[c],m=t[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||n){const _=zN(m,a_[u]);if(!g){a=!1;const x=P9[u]||u;i+=`${x}(${_}) `}n&&(e[u]=_)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function d_(t,e,n){const{style:i,vars:a,transformOrigin:c}=t;let u=!1,m=!1;for(const g in e){const _=e[g];if(_u.has(g)){u=!0;continue}else if($v(g)){a[g]=_;continue}else{const x=zN(_,a_[g]);g.startsWith("origin")?(m=!0,c[g]=x):i[g]=x}}if(e.transform||(u||n?i.transform=D9(e,t.transform,n):i.transform&&(i.transform="none")),m){const{originX:g="50%",originY:_="50%",originZ:x=0}=c;i.transformOrigin=`${g} ${_} ${x}`}}const f_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XN(t,e,n){for(const i in e)!Qn(e[i])&&!QN(i,n)&&(t[i]=e[i])}function L9({transformTemplate:t},e){return O.useMemo(()=>{const n=f_();return d_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function M9(t,e){const n=t.style||{},i={};return XN(i,n,t),Object.assign(i,L9(t,e)),i}function O9(t,e){const n={},i=M9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const k9={offset:"stroke-dashoffset",array:"stroke-dasharray"},V9={offset:"strokeDashoffset",array:"strokeDasharray"};function U9(t,e,n=1,i=0,a=!0){t.pathLength=1;const c=a?k9:V9;t[c.offset]=We.transform(-i);const u=We.transform(e),m=We.transform(n);t[c.array]=`${u} ${m}`}function JN(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...m},g,_,x){if(d_(t,m,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:A}=t;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=x?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&U9(T,a,c,u,!1)}const eC=()=>({...f_(),attrs:{}}),tC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function B9(t,e,n,i){const a=O.useMemo(()=>{const c=eC();return JN(c,e,tC(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};XN(c,t.style,t),a.style={...c,...a.style}}return a}const z9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m_(t){return typeof t!="string"||t.includes("-")?!1:!!(z9.indexOf(t)>-1||/[A-Z]/u.test(t))}function F9(t,e,n,{latestValues:i},a,c=!1){const m=(m_(t)?B9:O9)(e,i,a,t),g=N9(e,typeof t=="string",c),_=t!==O.Fragment?{...g,...m,ref:n}:{},{children:x}=e,T=O.useMemo(()=>Qn(x)?x.get():x,[x]);return O.createElement(t,{..._,children:T})}function U1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function p_(t,e,n,i){if(typeof e=="function"){const[a,c]=U1(i);e=e(n!==void 0?n:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=U1(i);e=e(n!==void 0?n:t.custom,a,c)}return e}function em(t){return Qn(t)?t.get():t}function H9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:q9(n,i,a,t),renderState:e()}}function q9(t,e,n,i){const a={},c=i(t,{});for(const A in c)a[A]=em(c[A]);let{initial:u,animate:m}=t;const g=lp(t),_=YN(t);e&&_&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const T=x?m:u;if(T&&typeof T!="boolean"&&!op(T)){const A=Array.isArray(T)?T:[T];for(let I=0;I<A.length;I++){const P=p_(t,A[I]);if(P){const{transitionEnd:z,transition:V,...$}=P;for(const K in $){let X=$[K];if(Array.isArray(X)){const _e=x?X.length-1:0;X=X[_e]}X!==null&&(a[K]=X)}for(const K in z)a[K]=z[K]}}}return a}const nC=t=>(e,n)=>{const i=O.useContext(ap),a=O.useContext(rp),c=()=>H9(t,e,i,a);return n?c():Bv(c)};function g_(t,e,n){const{style:i}=t,a={};for(const c in i)(Qn(i[c])||e.style&&Qn(e.style[c])||QN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(a[c]=i[c]);return a}const G9=nC({scrapeMotionValuesFromProps:g_,createRenderState:f_});function iC(t,e,n){const i=g_(t,e,n);for(const a in t)if(Qn(t[a])||Qn(e[a])){const c=vu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=t[a]}return i}const Z9=nC({scrapeMotionValuesFromProps:iC,createRenderState:eC}),W9=Symbol.for("motionComponentSymbol");function Dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K9(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Dc(n)&&(n.current=i))},[e])}const y_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$9="framerAppearId",sC="data-"+y_($9),rC=O.createContext({});function Y9(t,e,n,i,a){const{visualElement:c}=O.useContext(ap),u=O.useContext(KN),m=O.useContext(rp),g=O.useContext(c_).reducedMotion,_=O.useRef(null);i=i||u.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const x=_.current,T=O.useContext(rC);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&Q9(_.current,n,a,T);const A=O.useRef(!1);O.useInsertionEffect(()=>{x&&A.current&&x.update(n,m)});const I=n[sC],P=O.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return nN(()=>{x&&(A.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),P.current&&x.animationState&&x.animationState.animateChanges())}),O.useEffect(()=>{x&&(!P.current&&x.animationState&&x.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),P.current=!1),x.enteringChildren=void 0)}),x}function Q9(t,e,n,i){const{layoutId:a,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:_,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aC(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||m&&Dc(m),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:g,layoutRoot:_})}function aC(t){if(t)return t.options.allowProjection!==!1?t.projection:aC(t.parent)}function gy(t,{forwardMotionProps:e=!1}={},n,i){n&&E9(n);const a=m_(t)?Z9:G9;function c(m,g){let _;const x={...O.useContext(c_),...m,layoutId:X9(m)},{isStatic:T}=x,A=R9(m),I=a(m,T);if(!T&&zv){J9();const P=e7(x);_=P.MeasureLayout,A.visualElement=Y9(t,I,x,i,P.ProjectionNode)}return d.jsxs(ap.Provider,{value:A,children:[_&&A.visualElement?d.jsx(_,{visualElement:A.visualElement,...x}):null,F9(t,m,K9(I,A.visualElement,g),I,T,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(c);return u[W9]=t,u}function X9({layoutId:t}){const e=O.useContext(Uv).id;return e&&t!==void 0?e+"-"+t:t}function J9(t,e){O.useContext(KN).strict}function e7(t){const{drag:e,layout:n}=eu;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function t7(t,e){if(typeof Proxy>"u")return gy;const n=new Map,i=(c,u)=>gy(c,u,t,e),a=(c,u)=>i(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?i:(n.has(u)||n.set(u,gy(u,void 0,t,e)),n.get(u))})}function oC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function n7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function yy(t){return t===void 0||t===1}function T0({scale:t,scaleX:e,scaleY:n}){return!yy(t)||!yy(e)||!yy(n)}function vl(t){return T0(t)||lC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lC(t){return B1(t.x)||B1(t.y)}function B1(t){return t&&t!=="0%"}function Nm(t,e,n){const i=t-n,a=e*i;return n+a}function z1(t,e,n,i,a){return a!==void 0&&(t=Nm(t,a,i)),Nm(t,n,i)+e}function E0(t,e=0,n=1,i,a){t.min=z1(t.min,e,n,i,a),t.max=z1(t.max,e,n,i,a)}function cC(t,{x:e,y:n}){E0(t.x,e.translate,e.scale,e.originPoint),E0(t.y,n.translate,n.scale,n.originPoint)}const F1=.999999999999,H1=1.0000000000001;function s7(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let c,u;for(let m=0;m<a;m++){c=n[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Mc(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,cC(t,u)),i&&vl(c.latestValues)&&Mc(t,c.latestValues))}e.x<H1&&e.x>F1&&(e.x=1),e.y<H1&&e.y>F1&&(e.y=1)}function Lc(t,e){t.min=t.min+e,t.max=t.max+e}function q1(t,e,n,i,a=.5){const c=Gt(t.min,t.max,a);E0(t,e,n,c,i)}function Mc(t,e){q1(t.x,e.x,e.scaleX,e.scale,e.originX),q1(t.y,e.y,e.scaleY,e.scale,e.originY)}function uC(t,e){return oC(i7(t.getBoundingClientRect(),e))}function r7(t,e,n){const i=uC(t,n),{scroll:a}=e;return a&&(Lc(i.x,a.offset.x),Lc(i.y,a.offset.y)),i}const G1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oc=()=>({x:G1(),y:G1()}),Z1=()=>({min:0,max:0}),tn=()=>({x:Z1(),y:Z1()}),S0={current:null},hC={current:!1};function a7(){if(hC.current=!0,!!zv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>S0.current=t.matches;t.addEventListener("change",e),e()}else S0.current=!1}const o7=new WeakMap;function l7(t,e,n){for(const i in e){const a=e[i],c=n[i];if(Qn(a))t.addValue(i,a);else if(Qn(c))t.addValue(i,Jc(a,{owner:t}));else if(c!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Jc(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const W1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c7{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Pi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Vt.render(this.render,!1,!0))};const{latestValues:g,renderState:_}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=_,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=lp(n),this.isVariantNode=YN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const I=T[A];g[A]!==void 0&&Qn(I)&&I.set(g[A])}}mount(e){this.current=e,o7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),hC.current||a7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:S0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=_u.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in eu){const n=eu[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<W1.length;i++){const a=W1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=l7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Jc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(iN(i)||rN(i))?i=parseFloat(i):!y9(i)&&Lo.test(n)&&(i=BN(e,n)),this.setBaseTarget(e,Qn(i)?i.get():i)),Qn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=p_(this.props,n,this.presenceContext?.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){o_.render(this.render)}}class dC extends c7{constructor(){super(...arguments),this.KeyframeResolver=r9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fC(t,{style:e,vars:n},i,a){const c=t.style;let u;for(u in e)c[u]=e[u];a?.applyProjectionStyles(c,i);for(u in n)c.setProperty(u,n[u])}function u7(t){return window.getComputedStyle(t)}class h7 extends dC{constructor(){super(...arguments),this.type="html",this.renderInstance=fC}readValueFromInstance(e,n){if(_u.has(n))return this.projection?.isProjecting?g0(n):E5(e,n);{const i=u7(e),a=($v(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uC(e,n)}build(e,n,i){d_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return g_(e,n,i)}}const mC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d7(t,e,n,i){fC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(mC.has(a)?a:y_(a),e.attrs[a])}class f7 extends dC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_u.has(n)){const i=UN(n);return i&&i.default||0}return n=mC.has(n)?n:y_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return iC(e,n,i)}build(e,n,i){JN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){d7(e,n,i,a)}mount(e){this.isSVGTag=tC(e.tagName),super.mount(e)}}const m7=(t,e)=>m_(t)?new f7(e):new h7(e,{allowProjection:t!==O.Fragment});function Fc(t,e,n){const i=t.getProps();return p_(i,e,n!==void 0?n:i.custom,t)}const A0=t=>Array.isArray(t);function p7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jc(n))}function g7(t){return A0(t)?t[t.length-1]||0:t}function y7(t,e){const n=Fc(t,e);let{transitionEnd:i={},transition:a={},...c}=n||{};c={...c,...i};for(const u in c){const m=g7(c[u]);p7(t,u,m)}}function v7(t){return!!(Qn(t)&&t.add)}function N0(t,e){const n=t.getValue("willChange");if(v7(n))return n.add(e);if(!n&&_a.WillChange){const i=new _a.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function pC(t){return t.props[sC]}const _7=t=>t!==null;function x7(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(_7),c=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[c]}const b7={type:"spring",stiffness:500,damping:25,restSpeed:10},w7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T7={type:"keyframes",duration:.8},E7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S7=(t,{keyframes:e})=>e.length>2?T7:_u.has(t)?t.startsWith("scale")?w7(e[1]):b7:E7;function A7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:_,...x}){return!!Object.keys(x).length}const v_=(t,e,n,i={},a,c)=>u=>{const m=r_(i,t)||{},g=m.delay||i.delay||0;let{elapsed:_=0}=i;_=_-Ar(g);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-_,onUpdate:A=>{e.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:c?void 0:a};A7(m)||Object.assign(x,S7(t,x)),x.duration&&(x.duration=Ar(x.duration)),x.repeatDelay&&(x.repeatDelay=Ar(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let T=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(b0(x),x.delay===0&&(T=!0)),(_a.instantAnimations||_a.skipAnimations)&&(T=!0,b0(x),x.delay=0),x.allowFlatten=!m.type&&!m.ease,T&&!c&&e.get()!==void 0){const A=x7(x.keyframes,m);if(A!==void 0){Vt.update(()=>{x.onUpdate(A),x.onComplete()});return}}return m.isSync?new i_(x):new W5(x)};function N7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function gC(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...m}=e;i&&(c=i);const g=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const x in m){const T=t.getValue(x,t.latestValues[x]??null),A=m[x];if(A===void 0||_&&N7(_,x))continue;const I={delay:n,...r_(c||{},x)},P=T.get();if(P!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===P&&!I.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const $=pC(t);if($){const K=window.MotionHandoffAnimation($,x,Vt);K!==null&&(I.startTime=K,z=!0)}}N0(t,x),T.start(v_(x,T,A,t.shouldReduceMotion&&ON.has(x)?{type:!1}:I,t,z));const V=T.animation;V&&g.push(V)}return u&&Promise.all(g).then(()=>{Vt.update(()=>{u&&y7(t,u)})}),g}function yC(t,e,n,i=0,a=1){const c=Array.from(t).sort((_,x)=>_.sortNodePosition(x)).indexOf(e),u=t.size,m=(u-1)*i;return typeof n=="function"?n(c,u):a===1?c*i:m-c*i}function C0(t,e,n={}){const i=Fc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const c=i?()=>Promise.all(gC(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:x,staggerDirection:T}=a;return C7(t,e,g,_,x,T,n)}:()=>Promise.resolve(),{when:m}=a;if(m){const[g,_]=m==="beforeChildren"?[c,u]:[u,c];return g().then(()=>_())}else return Promise.all([c(),u(n.delay)])}function C7(t,e,n=0,i=0,a=0,c=1,u){const m=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),m.push(C0(g,e,{...u,delay:n+(typeof i=="function"?0:i)+yC(t.variantChildren,g,i,a,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function R7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>C0(t,c,n));i=Promise.all(a)}else if(typeof e=="string")i=C0(t,e,n);else{const a=typeof e=="function"?Fc(t,e,n.custom):e;i=Promise.all(gC(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function vC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const j7=h_.length;function _C(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_C(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<j7;n++){const i=h_[n],a=t.props[i];(Zh(a)||a===!1)&&(e[i]=a)}return e}const P7=[...u_].reverse(),I7=u_.length;function D7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>R7(t,n,i)))}function L7(t){let e=D7(t),n=K1(),i=!0;const a=g=>(_,x)=>{const T=Fc(t,x,g==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:I,...P}=T;_={..._,...P,...I}}return _};function c(g){e=g(t)}function u(g){const{props:_}=t,x=_C(t.parent)||{},T=[],A=new Set;let I={},P=1/0;for(let V=0;V<I7;V++){const $=P7[V],K=n[$],X=_[$]!==void 0?_[$]:x[$],_e=Zh(X),de=$===g?K.isActive:null;de===!1&&(P=V);let we=X===x[$]&&X!==_[$]&&_e;if(we&&i&&t.manuallyAnimateOnMount&&(we=!1),K.protectedKeys={...I},!K.isActive&&de===null||!X&&!K.prevProp||op(X)||typeof X=="boolean")continue;const U=M7(K.prevProp,X);let M=U||$===g&&K.isActive&&!we&&_e||V>P&&_e,B=!1;const W=Array.isArray(X)?X:[X];let q=W.reduce(a($),{});de===!1&&(q={});const{prevResolvedValues:Q={}}=K,H={...Q,...q},Be=re=>{M=!0,A.has(re)&&(B=!0,A.delete(re)),K.needsAnimating[re]=!0;const te=t.getValue(re);te&&(te.liveStyle=!1)};for(const re in H){const te=q[re],Ae=Q[re];if(I.hasOwnProperty(re))continue;let k=!1;A0(te)&&A0(Ae)?k=!vC(te,Ae):k=te!==Ae,k?te!=null?Be(re):A.add(re):te!==void 0&&A.has(re)?Be(re):K.protectedKeys[re]=!0}K.prevProp=X,K.prevResolvedValues=q,K.isActive&&(I={...I,...q}),i&&t.blockInitialAnimation&&(M=!1);const Pe=we&&U;M&&(!Pe||B)&&T.push(...W.map(re=>{const te={type:$};if(typeof re=="string"&&i&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,k=Fc(Ae,re);if(Ae.enteringChildren&&k){const{delayChildren:oe}=k.transition||{};te.delay=yC(Ae.enteringChildren,t,oe)}}return{animation:re,options:te}}))}if(A.size){const V={};if(typeof _.initial!="boolean"){const $=Fc(t,Array.isArray(_.initial)?_.initial[0]:_.initial);$&&$.transition&&(V.transition=$.transition)}A.forEach($=>{const K=t.getBaseTarget($),X=t.getValue($);X&&(X.liveStyle=!0),V[$]=K??null}),T.push({animation:V})}let z=!!T.length;return i&&(_.initial===!1||_.initial===_.animate)&&!t.manuallyAnimateOnMount&&(z=!1),i=!1,z?e(T):Promise.resolve()}function m(g,_){if(n[g].isActive===_)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(g,_)),n[g].isActive=_;const x=u(g);for(const T in n)n[T].protectedKeys={};return x}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>n,reset:()=>{n=K1(),i=!0}}}function M7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vC(e,t):!1}function gl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K1(){return{animate:gl(!0),whileInView:gl(),whileHover:gl(),whileTap:gl(),whileDrag:gl(),whileFocus:gl(),exit:gl()}}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class O7 extends Uo{constructor(e){super(e),e.animationState||(e.animationState=L7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let k7=0;class V7 extends Uo{constructor(){super(...arguments),this.id=k7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const U7={animation:{Feature:O7},exit:{Feature:V7}};function Kh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function yd(t){return{point:{x:t.pageX,y:t.pageY}}}const B7=t=>e=>l_(e)&&t(e,yd(e));function jh(t,e,n,i){return Kh(t,e,B7(n),i)}const xC=1e-4,z7=1-xC,F7=1+xC,bC=.01,H7=0-bC,q7=0+bC;function mi(t){return t.max-t.min}function G7(t,e,n){return Math.abs(t-e)<=n}function $1(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=mi(n)/mi(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=z7&&t.scale<=F7||isNaN(t.scale))&&(t.scale=1),(t.translate>=H7&&t.translate<=q7||isNaN(t.translate))&&(t.translate=0)}function Ph(t,e,n,i){$1(t.x,e.x,n.x,i?i.originX:void 0),$1(t.y,e.y,n.y,i?i.originY:void 0)}function Y1(t,e,n){t.min=n.min+e.min,t.max=t.min+mi(e)}function Z7(t,e,n){Y1(t.x,e.x,n.x),Y1(t.y,e.y,n.y)}function Q1(t,e,n){t.min=e.min-n.min,t.max=t.min+mi(e)}function Ih(t,e,n){Q1(t.x,e.x,n.x),Q1(t.y,e.y,n.y)}function xs(t){return[t("x"),t("y")]}const wC=({current:t})=>t?t.ownerDocument.defaultView:null,X1=(t,e)=>Math.abs(t-e);function W7(t,e){const n=X1(t.x,e.x),i=X1(t.y,e.y);return Math.sqrt(n**2+i**2)}class TC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=_y(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,P=W7(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!P)return;const{point:z}=A,{timestamp:V}=kn;this.history.push({...z,timestamp:V});const{onStart:$,onMove:K}=this.handlers;I||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=vy(I,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:P,onSessionEnd:z,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=_y(A.type==="pointercancel"?this.lastMoveEventInfo:vy(I,this.transformPagePoint),this.history);this.startEvent&&P&&P(A,$),z&&z(A,$)},!l_(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=yd(e),g=vy(m,this.transformPagePoint),{point:_}=g,{timestamp:x}=kn;this.history=[{..._,timestamp:x}];const{onSessionStart:T}=n;T&&T(e,_y(g,this.history)),this.removeListeners=md(jh(this.contextWindow,"pointermove",this.handlePointerMove),jh(this.contextWindow,"pointerup",this.handlePointerUp),jh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function vy(t,e){return e?{point:e(t.point)}:t}function J1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _y({point:t},e){return{point:t,delta:J1(t,EC(e)),offset:J1(t,K7(e)),velocity:$7(e,.1)}}function K7(t){return t[0]}function EC(t){return t[t.length-1]}function $7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=EC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ar(e)));)n--;if(!i)return{x:0,y:0};const c=Es(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Y7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function eE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Q7(t,{top:e,left:n,bottom:i,right:a}){return{x:eE(t.x,n,a),y:eE(t.y,e,i)}}function tE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function X7(t,e){return{x:tE(t.x,e.x),y:tE(t.y,e.y)}}function J7(t,e){let n=.5;const i=mi(t),a=mi(e);return a>i?n=Hh(e.min,e.max-i,t.min):i>a&&(n=Hh(t.min,t.max-a,e.min)),va(0,1,n)}function eU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const R0=.35;function tU(t=R0){return t===!1?t=0:t===!0&&(t=R0),{x:nE(t,"left","right"),y:nE(t,"top","bottom")}}function nE(t,e,n){return{min:iE(t,e),max:iE(t,n)}}function iE(t,e){return typeof t=="number"?t:t[e]||0}const nU=new WeakMap;class iU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yd(T).point)},u=(T,A)=>{const{drag:I,dragPropagation:P,onDragStart:z}=this.getProps();if(I&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c9(I),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xs($=>{let K=this.getAxisMotionValue($).get()||0;if(Nr.test(K)){const{projection:X}=this.visualElement;if(X&&X.layout){const _e=X.layout.layoutBox[$];_e&&(K=mi(_e)*(parseFloat(K)/100))}}this.originPoint[$]=K}),z&&Vt.postRender(()=>z(T,A)),N0(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},m=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:I,dragDirectionLock:P,onDirectionLock:z,onDrag:V}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:$}=A;if(P&&this.currentDirection===null){this.currentDirection=sU($),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",A.point,$),this.updateAxis("y",A.point,$),this.visualElement.render(),V&&V(T,A)},g=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>xs(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new TC(e,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:wC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&Vt.postRender(()=>m(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Lf(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Y7(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Dc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Q7(i.layoutBox,e):this.constraints=!1,this.elastic=tU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=eU(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dc(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=r7(i,a.root,this.visualElement.getTransformPagePoint());let u=X7(a.layout.layoutBox,c);if(n){const m=n(n7(u));this.hasMutatedConstraints=!!m,m&&(u=oC(m))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},_=xs(x=>{if(!Lf(x,n,this.currentDirection))return;let T=g&&g[x]||{};u&&(T={min:0,max:0});const A=a?200:1e6,I=a?40:1e7,P={type:"inertia",velocity:i?e[x]:0,bounceStiffness:A,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(x,P)});return Promise.all(_).then(m)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return N0(this.visualElement,e),i.start(v_(e,i,0,n,this.visualElement,!1))}stopAnimation(){xs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xs(n=>{const{drag:i}=this.getProps();if(!Lf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:m}=a.layout.layoutBox[n];c.set(e[n]-Gt(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Dc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xs(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();a[u]=J7({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xs(u=>{if(!Lf(u,e,null))return;const m=this.getAxisMotionValue(u),{min:g,max:_}=this.constraints[u];m.set(Gt(g,_,a[u]))})}addListeners(){if(!this.visualElement.current)return;nU.set(this.visualElement,this);const e=this.visualElement.current,n=jh(e,"pointerdown",g=>{const{drag:_,dragListener:x=!0}=this.getProps();_&&x&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();Dc(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Vt.read(i);const u=Kh(window,"resize",()=>this.scalePositionWithinConstraints()),m=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(xs(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=g[x].translate,T.set(T.get()+g[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=R0,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function Lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rU extends Uo{constructor(e){super(e),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new iU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const sE=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class aU extends Uo{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(e){this.session=new TC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:sE(e),onStart:sE(n),onMove:i,onEnd:(c,u)=>{delete this.session,a&&Vt.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=jh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=rE(t,e.target.x),i=rE(t,e.target.y);return`${n}% ${i}%`}},oU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Lo.parse(t);if(a.length>5)return i;const c=Lo.createTransformer(t),u=typeof a[0]!="number"?1:0,m=n.x.scale*e.x,g=n.y.scale*e.y;a[0+u]/=m,a[1+u]/=g;const _=Gt(m,g,.5);return typeof a[2+u]=="number"&&(a[2+u]/=_),typeof a[3+u]=="number"&&(a[3+u]/=_),c(a)}};let xy=!1;class lU extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;j9(cU),c&&(n.group&&n.group.add(c),i&&i.register&&a&&i.register(c),xy&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,xy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Vt.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;xy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SC(t){const[e,n]=WN(),i=O.useContext(Uv);return d.jsx(lU,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(rC),isPresent:e,safeToRemove:n})}const cU={borderRadius:{...dh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dh,borderTopRightRadius:dh,borderBottomLeftRadius:dh,borderBottomRightRadius:dh,boxShadow:oU};function uU(t,e,n){const i=Qn(t)?t:Jc(t);return i.start(v_("",i,e,n)),i.animation}const hU=(t,e)=>t.depth-e.depth;class dU{constructor(){this.children=[],this.isDirty=!1}add(e){Fv(this.children,e),this.isDirty=!0}remove(e){Hv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hU),this.isDirty=!1,this.children.forEach(e)}}function fU(t,e){const n=Pi.now(),i=({timestamp:a})=>{const c=a-n;c>=e&&(Do(i),t(c-e))};return Vt.setup(i,!0),()=>Do(i)}const AC=["TopLeft","TopRight","BottomLeft","BottomRight"],mU=AC.length,aE=t=>typeof t=="string"?parseFloat(t):t,oE=t=>typeof t=="number"||We.test(t);function pU(t,e,n,i,a,c){a?(t.opacity=Gt(0,n.opacity??1,gU(i)),t.opacityExit=Gt(e.opacity??1,0,yU(i))):c&&(t.opacity=Gt(e.opacity??1,n.opacity??1,i));for(let u=0;u<mU;u++){const m=`border${AC[u]}Radius`;let g=lE(e,m),_=lE(n,m);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||oE(g)===oE(_)?(t[m]=Math.max(Gt(aE(g),aE(_),i),0),(Nr.test(_)||Nr.test(g))&&(t[m]+="%")):t[m]=_}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function lE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gU=NC(0,.5,fN),yU=NC(.5,.95,Ss);function NC(t,e,n){return i=>i<t?0:i>e?1:n(Hh(t,e,i))}function cE(t,e){t.min=e.min,t.max=e.max}function _s(t,e){cE(t.x,e.x),cE(t.y,e.y)}function uE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hE(t,e,n,i,a){return t-=e,t=Nm(t,1/n,i),a!==void 0&&(t=Nm(t,1/a,i)),t}function vU(t,e=0,n=1,i=.5,a,c=t,u=t){if(Nr.test(e)&&(e=parseFloat(e),e=Gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=Gt(c.min,c.max,i);t===c&&(m-=e),t.min=hE(t.min,e,n,m,a),t.max=hE(t.max,e,n,m,a)}function dE(t,e,[n,i,a],c,u){vU(t,e[n],e[i],e[a],e.scale,c,u)}const _U=["x","scaleX","originX"],xU=["y","scaleY","originY"];function fE(t,e,n,i){dE(t.x,e,_U,n?n.x:void 0,i?i.x:void 0),dE(t.y,e,xU,n?n.y:void 0,i?i.y:void 0)}function mE(t){return t.translate===0&&t.scale===1}function CC(t){return mE(t.x)&&mE(t.y)}function pE(t,e){return t.min===e.min&&t.max===e.max}function bU(t,e){return pE(t.x,e.x)&&pE(t.y,e.y)}function gE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RC(t,e){return gE(t.x,e.x)&&gE(t.y,e.y)}function yE(t){return mi(t.x)/mi(t.y)}function vE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wU{constructor(){this.members=[]}add(e){Fv(this.members,e),e.scheduleRender()}remove(e){if(Hv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TU(t,e,n){let i="";const a=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:_,rotate:x,rotateX:T,rotateY:A,skewX:I,skewY:P}=n;_&&(i=`perspective(${_}px) ${i}`),x&&(i+=`rotate(${x}deg) `),T&&(i+=`rotateX(${T}deg) `),A&&(i+=`rotateY(${A}deg) `),I&&(i+=`skewX(${I}deg) `),P&&(i+=`skewY(${P}deg) `)}const m=t.x.scale*e.x,g=t.y.scale*e.y;return(m!==1||g!==1)&&(i+=`scale(${m}, ${g})`),i||"none"}const by=["","X","Y","Z"],EU=1e3;let SU=0;function wy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(a||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jC(i)}function PC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},m=e?.()){this.id=SU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CU),this.nodes.forEach(IU),this.nodes.forEach(DU),this.nodes.forEach(RU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new dU)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Zv),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZN(u)&&!p9(u),this.instance=u;const{layoutId:m,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),t){let x,T=0;const A=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{T=window.innerWidth}),t(u,()=>{const I=window.innerWidth;I!==T&&(T=I,this.root.updateBlockedByResize=!0,x&&x(),x=fU(A,250),tm.hasAnimatedSinceResize&&(tm.hasAnimatedSinceResize=!1,this.nodes.forEach(bE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||_.getDefaultTransition()||VU,{onLayoutAnimationStart:z,onLayoutAnimationComplete:V}=_.getProps(),$=!this.targetLayout||!RC(this.targetLayout,I),K=!T&&A;if(this.options.layoutRoot||this.resumeFrom||K||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...r_(P,"layout"),onPlay:z,onComplete:V};(_.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(x,K)}else T||bE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const T=this.path[x];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_E);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PU),this.nodes.forEach(AU),this.nodes.forEach(NU)):this.nodes.forEach(xE),this.clearAllSnapshots();const m=Pi.now();kn.delta=va(0,1e3/60,m-kn.timestamp),kn.timestamp=m,kn.isProcessing=!0,uy.update.process(kn),uy.preRender.process(kn),uy.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jU),this.sharedNodes.forEach(MU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mi(this.snapshot.measuredBox.x)&&!mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!CC(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,x=_!==this.prevTransformTemplateValue;u&&this.instance&&(m||vl(this.latestValues)||x)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),UU(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return tn();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(BU))){const{scroll:_}=this.root;_&&(Lc(m.x,_.offset.x),Lc(m.y,_.offset.y))}return m}removeElementScroll(u){const m=tn();if(_s(m,u),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:x,options:T}=_;_!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&_s(m,u),Lc(m.x,x.offset.x),Lc(m.y,x.offset.y))}return m}applyTransform(u,m=!1){const g=tn();_s(g,u);for(let _=0;_<this.path.length;_++){const x=this.path[_];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Mc(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),vl(x.latestValues)&&Mc(g,x.latestValues)}return vl(this.latestValues)&&Mc(g,this.latestValues),g}removeTransform(u){const m=tn();_s(m,u);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!vl(_.latestValues))continue;T0(_.latestValues)&&_.updateSnapshot();const x=tn(),T=_.measurePageBox();_s(x,T),fE(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,x)}return vl(this.latestValues)&&fE(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:T}=this.options;if(!(!this.layout||!(x||T))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ih(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Z7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),cC(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ih(this.relativeTargetOrigin,this.target,A.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||T0(this.parent.latestValues)||lC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(g=!1),g)return;const{layout:_,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||x))return;_s(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;s7(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=tn());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uE(this.prevProjectionDelta.x,this.projectionDelta.x),uE(this.prevProjectionDelta.y,this.projectionDelta.y)),Ph(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!vE(this.projectionDelta.x,this.prevProjectionDelta.x)||!vE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oc(),this.projectionDelta=Oc(),this.projectionDeltaWithTransform=Oc()}setAnimationOrigin(u,m=!1){const g=this.snapshot,_=g?g.latestValues:{},x={...this.latestValues},T=Oc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=tn(),I=g?g.source:void 0,P=this.layout?this.layout.source:void 0,z=I!==P,V=this.getStack(),$=!V||V.members.length<=1,K=!!(z&&!$&&this.options.crossfade===!0&&!this.path.some(kU));this.animationProgress=0;let X;this.mixTargetDelta=_e=>{const de=_e/1e3;wE(T.x,u.x,de),wE(T.y,u.y,de),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OU(this.relativeTarget,this.relativeTargetOrigin,A,de),X&&bU(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=tn()),_s(X,this.relativeTarget)),z&&(this.animationValues=x,pU(x,_,this.latestValues,de,K,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=de},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jc(0)),this.currentAnimation=uU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:_,latestValues:x}=u;if(!(!m||!g||!_)){if(this!==u&&this.layout&&_&&IC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||tn();const T=mi(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+T;const A=mi(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+A}_s(m,g),Mc(m,x),Ph(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new wU),this.sharedNodes.get(u).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const _={};g.z&&wy("z",u,_,this.animationValues);for(let x=0;x<by.length;x++)wy(`rotate${by[x]}`,u,_,this.animationValues),wy(`skew${by[x]}`,u,_,this.animationValues);u.render();for(const x in _)u.setStaticValue(x,_[x]),this.animationValues&&(this.animationValues[x]=_[x]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=em(m?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=em(m?.pointerEvents)||""),this.hasProjected&&!vl(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=_.animationValues||_.latestValues;this.applyTransformsToTarget();let T=TU(this.projectionDeltaWithTransform,this.treeScale,x);g&&(T=g(x,T)),u.transform=T;const{x:A,y:I}=this.projectionDelta;u.transformOrigin=`${A.origin*100}% ${I.origin*100}% 0`,_.animationValues?u.opacity=_===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=_===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const P in Wh){if(x[P]===void 0)continue;const{correct:z,applyTo:V,isCSSVariable:$}=Wh[P],K=T==="none"?x[P]:z(x[P],_);if(V){const X=V.length;for(let _e=0;_e<X;_e++)u[V[_e]]=K}else $?this.options.visualElement.renderState.vars[P]=K:u[P]=K}this.options.layoutId&&(u.pointerEvents=_===this?em(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(_E),this.root.sharedNodes.clear()}}}function AU(t){t.updateLayout()}function NU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?xs(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=mi(T);T.min=n[x].min,T.max=T.min+A}):IC(a,e.layoutBox,n)&&xs(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=mi(n[x]);T.max=T.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+A)});const u=Oc();Ph(u,n,e.layoutBox);const m=Oc();c?Ph(m,t.applyTransform(i,!0),e.measuredBox):Ph(m,n,e.layoutBox);const g=!CC(u);let _=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:A}=x;if(T&&A){const I=tn();Ih(I,e.layoutBox,T.layoutBox);const P=tn();Ih(P,n,A.layoutBox),RC(I,P)||(_=!0),x.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=I,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function CU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jU(t){t.clearSnapshot()}function _E(t){t.clearMeasurements()}function xE(t){t.isLayoutDirty=!1}function PU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IU(t){t.resolveTargetDelta()}function DU(t){t.calcProjection()}function LU(t){t.resetSkewAndRotation()}function MU(t){t.removeLeadSnapshot()}function wE(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TE(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function OU(t,e,n,i){TE(t.x,e.x,n.x,i),TE(t.y,e.y,n.y,i)}function kU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VU={duration:.45,ease:[.4,0,.1,1]},EE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),SE=EE("applewebkit/")&&!EE("chrome/")?Math.round:Ss;function AE(t){t.min=SE(t.min),t.max=SE(t.max)}function UU(t){AE(t.x),AE(t.y)}function IC(t,e,n){return t==="position"||t==="preserve-aspect"&&!G7(yE(e),yE(n),.2)}function BU(t){return t!==t.root&&t.scroll?.wasRoot}const zU=PC({attachResizeListener:(t,e)=>Kh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},DC=PC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ty.current){const t=new zU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ty.current=t}return Ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FU={pan:{Feature:aU},drag:{Feature:rU,ProjectionNode:DC,MeasureLayout:SC}};function NE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=i[a];c&&Vt.postRender(()=>c(e,yd(e)))}class HU extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=u9(e,(n,i)=>(NE(this.node,i,"Start"),a=>NE(this.node,a,"End"))))}unmount(){}}class qU extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=md(Kh(this.node.current,"focus",()=>this.onFocus()),Kh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=i[a];c&&Vt.postRender(()=>c(e,yd(e)))}class GU extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=m9(e,(n,i)=>(CE(this.node,i,"Start"),(a,{success:c})=>CE(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j0=new WeakMap,Ey=new WeakMap,ZU=t=>{const e=j0.get(t.target);e&&e(t)},WU=t=>{t.forEach(ZU)};function KU({root:t,...e}){const n=t||document;Ey.has(n)||Ey.set(n,{});const i=Ey.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(WU,{root:t,...e})),i[a]}function $U(t,e,n){const i=KU(e);return j0.set(t,n),i.observe(t),()=>{j0.delete(t),i.unobserve(t)}}const YU={some:0,all:1};class QU extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:YU[a]},m=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,c&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:x,onViewportLeave:T}=this.node.getProps(),A=_?x:T;A&&A(g)};return $U(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XU(e,n))&&this.startObserver()}unmount(){}}function XU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JU={inView:{Feature:QU},tap:{Feature:GU},focus:{Feature:qU},hover:{Feature:HU}},eB={layout:{ProjectionNode:DC,MeasureLayout:SC}},tB={...U7,...JU,...FU,...eB},Ci=t7(tB,m7),nB=()=>{const t=Ns(),{orderId:e,payment:n}=t.state||{},[i,a]=O.useState(null),[c,u]=O.useState(!0),[m,g]=O.useState(!1);return O.useEffect(()=>{if(!e)return;(async()=>{try{const T=Ts(Bn,"orders",e),A=await Pc(T);A.exists()&&a(A.data())}catch(T){console.error("Error fetching order:",T)}finally{u(!1)}})();const x=setTimeout(()=>g(!0),2e3);return()=>clearTimeout(x)},[e]),e?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 py-8 px-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs(Ci.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[d.jsx(Ci.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:d.jsx("i",{className:"fas fa-check-circle text-4xl text-white"})}),d.jsx(Ci.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Order Confirmed!"}),d.jsx(Ci.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-lg text-gray-600",children:"Thank you for your purchase! Your order has been successfully placed."})]}),d.jsx(Ci.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"flex justify-center mb-8",children:d.jsxs("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-semibold ${n==="success"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:[d.jsx("i",{className:`fas ${n==="success"?"fa-check-circle":"fa-clock"} mr-2`}),"Payment ",n?.toUpperCase()]})}),d.jsxs(Ci.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-emerald-100",children:[d.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 p-6",children:d.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx("i",{className:"fas fa-receipt mr-3"}),"Order Details"]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[d.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[d.jsx("i",{className:"fas fa-hashtag mr-2 text-emerald-500"}),"Order ID"]}),d.jsxs("span",{className:"font-mono font-semibold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:["#",e.slice(-8)]})]}),d.jsx(Df,{children:c&&d.jsxs(Ci.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[d.jsx(Ci.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Loading order details..."})]})}),d.jsx(Df,{children:!c&&i&&d.jsxs(Ci.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4 mt-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl",children:[d.jsxs("div",{className:"text-sm text-emerald-600 font-medium mb-1",children:[d.jsx("i",{className:"fas fa-rupee-sign mr-1"}),"Amount"]}),d.jsxs("div",{className:"text-lg font-bold text-emerald-700",children:["",i.amount]})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[d.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Date"}),d.jsx("div",{className:"text-sm font-semibold text-green-700",children:i.createdAt?.toDate?i.createdAt.toDate().toLocaleDateString():"N/A"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-teal-50 p-4 rounded-xl",children:[d.jsx("div",{className:"text-sm text-teal-600 font-medium mb-1",children:"Status"}),d.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:i.status||"Confirmed"})]}),d.jsxs("div",{className:"bg-cyan-50 p-4 rounded-xl",children:[d.jsx("div",{className:"text-sm text-cyan-600 font-medium mb-1",children:"Plan"}),d.jsx("div",{className:"text-sm font-semibold text-cyan-700",children:i.items[0].name})]})]})]})}),d.jsx(Df,{children:!c&&!i&&d.jsxs(Ci.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 text-red-500",children:[d.jsx("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),d.jsx("p",{children:"Order details not found."})]})})]})]}),d.jsxs(Ci.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(Qe,{to:"/",className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-4 rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-300 font-semibold text-center group",children:[d.jsx("i",{className:"fas fa-shopping-bag mr-2 group-hover:scale-110 transition-transform"}),"Continue Shopping"]}),d.jsxs(Qe,{to:"/profile",className:"flex-1 border-2 border-emerald-600 text-emerald-600 px-8 py-4 rounded-xl hover:bg-emerald-50 transition-all duration-300 font-semibold text-center group",children:[d.jsx("i",{className:"fas fa-clipboard-list mr-2 group-hover:scale-110 transition-transform"}),"View My Orders"]})]}),d.jsx(Df,{children:m&&d.jsx(d.Fragment,{children:[...Array(5)].map((_,x)=>d.jsx(Ci.div,{initial:{scale:0,opacity:0,x:Math.random()*100-50,y:Math.random()*100-50},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:Math.random()*360},transition:{duration:2,delay:x*.3,repeat:1/0,repeatDelay:5},className:"fixed text-emerald-400 text-2xl pointer-events-none",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:d.jsx("i",{className:"fas fa-star"})},x))})})]})}):d.jsx(Ci.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center px-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[d.jsx(Ci.div,{initial:{scale:0},animate:{scale:1},className:"text-red-500 text-6xl mb-4",children:d.jsx("i",{className:"fas fa-exclamation-triangle"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Invalid Order Confirmation"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your order details. Please check your confirmation link."}),d.jsxs(Qe,{to:"/",className:"inline-flex items-center bg-emerald-600 text-white px-6 py-3 rounded-xl hover:bg-emerald-700 transition-all duration-300 font-medium",children:[d.jsx("i",{className:"fas fa-home mr-2"}),"Go back to Home"]})]})})};delete mu.Icon.Default.prototype._getIconUrl;mu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const RE=new mu.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]}),iB=()=>{const[t,e]=O.useState("subscriptions"),[n,i]=O.useState([]),[a,c]=O.useState([]),[u,m]=O.useState(!0),[g,_]=O.useState(null),[x,T]=O.useState(!1),[A,I]=O.useState({}),[P,z]=O.useState(new Date().toISOString().split("T")[0]),[V,$]=O.useState(!1),[K,X]=O.useState(null),[_e,de]=O.useState(!1);O.useEffect(()=>{we()},[]),O.useEffect(()=>{t==="attendance"&&U()},[t,P,a]);const we=async()=>{try{m(!0);const F=wA(Tl(Bn,"orders"),Uk("createdAt","desc")),te=(await e0(F)).docs.map(be=>{const me=be.data();return{id:be.id,...me,createdAt:me.createdAt?.toDate?.()||new Date,shippingAddress:{address:me.shipping?.address||"",city:me.shipping?.city||"",state:me.shipping?.state||"",pincode:me.shipping?.pincode||"",country:me.shipping?.country||"",location:me.shipping?.location||null}}});c(te);const oe=(await e0(Tl(Bn,"users"))).docs.map(be=>({id:be.id,...be.data()})).map(be=>{const me=te.filter(Re=>Re.userId===be.id),Te=me.length>0?{...me[0],daysLeft:M(me[0].createdAt),status:B(me[0].createdAt)}:null;return{user:be,orders:me,activeSubscription:Te,totalOrders:me.length,totalSpent:me.reduce((Re,Ee)=>Re+(Ee.amount||0),0)}});i(oe)}catch(F){console.error("Error fetching data:",F)}finally{m(!1)}},U=async()=>{try{const F=new Date(P),re=a.map(te=>{const Ae=te.extraDays||0,k=M(te.createdAt,Ae),oe=B(te.createdAt,Ae);return{...te,daysLeft:k,subscriptionStatus:oe,customerName:`${te.shipping?.firstName||""} ${te.shipping?.lastName||""}`.trim()||"Unknown Customer"}}).filter(te=>{const Ae=new Date(te.createdAt),oe=26+(te.extraDays||0),be=new Date(Ae);return be.setDate(Ae.getDate()+oe-1),F>=Ae&&F<=be});I({date:P,totalOrders:re.length,delivered:re.filter(te=>te.deliveryStatus==="delivered").length,notDelivered:re.filter(te=>!te.deliveryStatus||te.deliveryStatus==="pending"||te.deliveryStatus==="not_delivered"||te.deliveryStatus==="cancelled").length,orders:re})}catch(F){console.error("Error fetching attendance data:",F)}},M=(F,re=0)=>{if(!F)return 0;const te=new Date(F),k=26+(re||0),oe=new Date(te);oe.setDate(te.getDate()+k);const me=Math.ceil((oe-new Date)/(1e3*60*60*24));return Math.max(0,me)},B=(F,re=0)=>{const te=M(F,re);return te===0?"expired":te<=7?"expiring_soon":"active"},W=async(F,re)=>{try{const te=Ts(Bn,"orders",F);await ay(te,{deliveryStatus:re,updatedAt:wt.now()}),c(Ae=>Ae.map(k=>k.id===F?{...k,deliveryStatus:re}:k)),g?.id===F&&_(Ae=>({...Ae,deliveryStatus:re})),K?.id===F&&X(Ae=>({...Ae,deliveryStatus:re})),U(),alert(`Delivery status updated to ${re}`)}catch(te){console.error("Error updating delivery status:",te),alert("Error updating delivery status")}},q=async F=>{try{const re=a.find(k=>k.id===F);if(!re){alert("Order not found");return}const te=Ts(Bn,"orders",F),Ae=re.extraDays||0;await ay(te,{extraDays:Ae+1,deliveryStatus:"cancelled",updatedAt:wt.now(),events:QT({type:"cancel",date:new Date().toISOString()})}),await we(),t==="attendance"&&await U(),alert("Cancelled today for this user. Timeline extended by 1 day.")}catch(re){console.error("Error cancelling day:",re),alert("Error cancelling delivery")}},Q=async()=>{try{const re=(A.orders||[]).map(async te=>{const Ae=Ts(Bn,"orders",te.id),k=te.extraDays||0;return ay(Ae,{extraDays:k+1,deliveryStatus:"leave",updatedAt:wt.now(),events:QT({type:"global_leave",date:new Date().toISOString()})})});await Promise.all(re),await we(),t==="attendance"&&await U(),alert("Marked today as leave. Timeline extended by 1 day for all users.")}catch(F){console.error("Error marking leave:",F),alert("Error marking leave for all users")}},H=F=>{X(F),de(!0)},Be=F=>{_(F),T(!0)},Pe=F=>{const te={active:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Active"},expiring_soon:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800 border-red-200",label:"Expired"},delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Pending"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Not Delivered"},cancelled:{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Cancelled"},leave:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"Leave"}}[F]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:F};return d.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${te.color}`,children:te.label})};return u?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),d.jsxs("p",{className:"mt-3 text-emerald-700 font-medium",children:[d.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading dashboard..."]})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50",children:[d.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b border-emerald-100",children:d.jsxs("div",{className:"flex items-center justify-between p-4",children:[d.jsx("button",{onClick:()=>$(!V),className:"p-2 rounded-lg bg-emerald-50 text-emerald-700",children:d.jsx("i",{className:"fas fa-bars"})}),d.jsxs("div",{className:"text-emerald-700 font-semibold",children:[d.jsx("i",{className:"fas fa-leaf mr-2"}),"Admin Dashboard"]}),d.jsx("div",{className:"w-6"})]})}),d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 w-64 h-[100vh] bg-white shadow-xl transform ${V?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"py-6 p-2 bg-gradient-to-r from-emerald-600 to-green-600 text-white",children:[d.jsx("h1",{className:"text-xl font-bold",children:"Fruit Bunch Admin"}),d.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Sustainable Delivery Management"})]}),d.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"subscriptions",label:"Subscriptions",icon:"fa-chart-pie"},{id:"orders",label:"Orders",icon:"fa-box"},{id:"attendance",label:"Attendance",icon:"fa-users"},{id:"analytics",label:"Analytics",icon:"fa-chart-line"}].map(F=>d.jsxs("button",{onClick:()=>{e(F.id),$(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${t===F.id?"bg-emerald-50 text-emerald-700 border-l-4 border-emerald-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx("i",{className:`fas ${F.icon} text-lg mr-3`}),d.jsx("span",{className:"font-medium",children:F.label})]},F.id))}),d.jsx("div",{className:"p-4 border-t border-gray-100",children:d.jsx("div",{className:"text-center text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})]})}),d.jsxs("div",{className:"flex-1 lg:ml-0",children:[d.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-emerald-100",children:d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:t.replace("_"," ")}),d.jsx("p",{className:"text-gray-600",children:"Manage your delivery operations efficiently"})]}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.jsx("i",{className:"fas fa-user-shield mr-1"}),"Welcome back, Admin"]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[d.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Last updated: Just now"]})]}),d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:d.jsx("i",{className:"fas fa-user"})})]})]})})}),d.jsxs("div",{className:"p-6",children:[t==="subscriptions"&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Subscriptions"}),d.jsx("p",{className:"text-emerald-700",children:"Active subscriptions and customer management"})]}),d.jsx("div",{className:"text-2xl text-emerald-600",children:d.jsx("i",{className:"fas fa-users"})})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Subscription"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Orders"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Spent"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(F=>d.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold",children:d.jsx("i",{className:"fas fa-user"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.user.name||"No Name"}),d.jsx("div",{className:"text-sm text-gray-500",children:F.user.email})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.activeSubscription?d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.activeSubscription.items?.[0]?.name||"Subscription"}),d.jsxs("div",{className:"text-sm text-emerald-600 font-semibold",children:[F.activeSubscription.daysLeft," days left"]})]}):d.jsxs("span",{className:"text-sm text-gray-500",children:[d.jsx("i",{className:"fas fa-times mr-1"}),"No active subscription"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.activeSubscription?Pe(F.activeSubscription.status):Pe("expired")}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[d.jsx("i",{className:"fas fa-hashtag mr-1"}),F.totalOrders]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[d.jsx("i",{className:"fas fa-rupee-sign mr-1"}),F.totalSpent]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:d.jsxs("button",{onClick:()=>F.orders.length>0&&Be(F.orders[0]),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[d.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})})]},F.user.id))})]})})]}),t==="orders"&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Management"}),d.jsx("p",{className:"text-emerald-700",children:"Track and manage all delivery orders"})]}),d.jsx("div",{className:"text-2xl text-emerald-600",children:d.jsx("i",{className:"fas fa-boxes"})})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(F=>d.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[d.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",F.id.slice(-8)]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.find(re=>re.user.id===F.userId)?.user.name||"Unknown User"}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[d.jsx("i",{className:"fas fa-rupee-sign mr-1"}),F.amount]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.createdAt.toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Pe(F.deliveryStatus||"pending")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:d.jsxs("button",{onClick:()=>Be(F),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[d.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})})]},F.id))})]})})]}),t==="attendance"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daily Attendance"}),d.jsxs("p",{className:"text-emerald-700",children:["Track delivery performance and attendance for ",P]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("input",{type:"date",value:P,onChange:F=>z(F.target.value),className:"border border-emerald-200 rounded-xl px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),d.jsx("div",{className:"text-2xl text-emerald-600",children:d.jsx("i",{className:"fas fa-calendar-check"})})]})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[d.jsx("div",{className:"text-3xl font-bold",children:A.totalOrders||0}),d.jsx("div",{className:"text-emerald-100",children:"Total Orders"}),d.jsx("div",{className:"text-xs text-emerald-200 mt-2",children:"All scheduled deliveries"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[d.jsx("div",{className:"text-3xl font-bold",children:A.delivered||0}),d.jsx("div",{className:"text-emerald-100",children:"Successful Deliveries"}),d.jsx("div",{className:"text-xs text-emerald-200 mt-2",children:"Completed orders"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 p-6 rounded-2xl text-white shadow-lg",children:[d.jsx("div",{className:"text-3xl font-bold",children:A.notDelivered||0}),d.jsx("div",{className:"text-amber-100",children:"Pending Actions"}),d.jsx("div",{className:"text-xs text-amber-200 mt-2",children:"Requires attention"})]})]}),d.jsx("div",{className:"flex justify-end mb-4",children:d.jsx("button",{onClick:Q,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Mark Today as Leave for All"})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Customer"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Days Left"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Delivery Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),d.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[A.orders?.map(F=>d.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold",children:F.customerName?.charAt(0)||"U"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.customerName}),d.jsxs("div",{className:"text-sm text-gray-500",children:[F.shippingAddress?.address?.substring(0,30),"..."]}),d.jsxs("button",{onClick:()=>H(F),className:"text-emerald-600 hover:text-emerald-800 text-xs mt-1 flex items-center",children:[d.jsx("i",{className:"fas fa-eye mr-1"})," View Details"]})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`text-lg font-bold ${F.daysLeft<=7?"text-amber-600":"text-emerald-600"}`,children:F.daysLeft}),d.jsx("div",{className:"text-xs text-gray-500",children:"days remaining"})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Pe(F.deliveryStatus||"pending")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("select",{value:F.deliveryStatus||"pending",onChange:re=>{const te=re.target.value;te==="cancel"?q(F.id):W(F.id,te)},className:"text-sm border border-emerald-200 rounded-lg px-3 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"delivered",children:"Delivered"}),d.jsx("option",{value:"not_delivered",children:"Not Delivered"}),d.jsx("option",{value:"leave",children:"Leave"}),d.jsx("option",{value:"cancel",children:"Cancel Today"})]})})]},F.id)),(!A.orders||A.orders.length===0)&&d.jsx("tr",{children:d.jsxs("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:["No deliveries scheduled for ",P]})})]})]})})]})]})}),t==="analytics"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[d.jsx("i",{className:"fas fa-users mr-2"}),"Total Users"]}),d.jsx("div",{className:"text-3xl font-bold mt-2",children:n.length})]}),d.jsx("div",{className:"text-3xl",children:d.jsx("i",{className:"fas fa-user-friends"})})]}),d.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[d.jsx("i",{className:"fas fa-chart-line mr-1"}),"Active subscribers"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[d.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Total Orders"]}),d.jsx("div",{className:"text-3xl font-bold mt-2",children:a.length})]}),d.jsx("div",{className:"text-3xl",children:d.jsx("i",{className:"fas fa-boxes"})})]}),d.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[d.jsx("i",{className:"fas fa-truck mr-1"}),"All-time deliveries"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-green-700 p-6 rounded-2xl text-white shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[d.jsx("i",{className:"fas fa-rupee-sign mr-2"}),"Total Revenue"]}),d.jsxs("div",{className:"text-3xl font-bold mt-2",children:["",a.reduce((F,re)=>F+(re.amount||0),0)]})]}),d.jsx("div",{className:"text-3xl",children:d.jsx("i",{className:"fas fa-money-bill-wave"})})]}),d.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[d.jsx("i",{className:"fas fa-trending-up mr-1"}),"Lifetime earnings"]})]})]})]})]})]}),x&&g&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Order Details"}),d.jsx("button",{onClick:()=>T(!1),className:"text-white hover:text-emerald-200 transition-colors",children:d.jsx("i",{className:"fas fa-times"})})]}),d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Order Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order ID:"}),d.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:g.id})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User:"}),d.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[g.shipping?.firstName," ",g.shipping?.lastName]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date:"}),d.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:new Date(g.createdAt).toLocaleDateString()})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Amount:"}),d.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:["",g.amount]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),d.jsx("span",{children:Pe(g.deliveryStatus)})]})]}),d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Delivery Address"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-medium",children:g.shipping?.address}),d.jsxs("p",{className:"text-gray-600",children:[g.shipping?.city,", ",g.shipping?.state]}),d.jsxs("p",{className:"text-gray-600",children:[g.shipping?.pincode,", ",g.shipping?.country]}),d.jsxs("p",{className:"text-gray-600",children:["Email: ",g.shipping?.email]}),d.jsxs("p",{className:"text-gray-600",children:["Phone: ",g.shipping?.phone]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Location"}),g.shipping?.location?d.jsxs(t0,{center:[g.shipping.location.lat,g.shipping.location.lng],zoom:13,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[d.jsx(s0,{attribution:' <a href="https://www.google.com/maps">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),d.jsx(n0,{position:[g.shipping.location.lat,g.shipping.location.lng],icon:RE,children:d.jsx(i0,{children:"Delivery Location"})})]}):d.jsx("p",{className:"text-gray-500",children:"Location not available"}),d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Items"}),d.jsx("div",{className:"space-y-3",children:g.items?.map((F,re)=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-100",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:F.image,alt:F.name,className:"w-12 h-12 object-cover rounded-lg"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"font-medium text-gray-900",children:F.name}),d.jsxs("p",{className:"text-sm text-emerald-600",children:["Quantity: ",F.quantity]})]})]}),d.jsxs("p",{className:"font-semibold text-emerald-600",children:["",F.price*F.quantity]})]},re))})]})]})})]})}),_e&&K&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Delivery Details"}),d.jsx("button",{onClick:()=>de(!1),className:"text-white hover:text-emerald-200 transition-colors",children:""})]}),d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Customer Information"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name:"}),d.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:K.customerName})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),d.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:K.shipping?.email})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phone:"}),d.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:K.shipping?.phone})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Days Left:"}),d.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[K.daysLeft," days"]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),d.jsx("span",{children:Pe(K.deliveryStatus)})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Address"}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[d.jsx("p",{className:"font-medium text-gray-900",children:K.shippingAddress?.address}),d.jsxs("p",{className:"text-gray-600 mt-1",children:[K.shippingAddress?.city,", ",K.shippingAddress?.state]}),d.jsxs("p",{className:"text-gray-600",children:["Pincode: ",K.shippingAddress?.pincode]}),d.jsxs("p",{className:"text-gray-600",children:["Country: ",K.shippingAddress?.country]})]})]}),K.shippingAddress?.location&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Location"}),d.jsxs(t0,{center:[K.shippingAddress.location.lat,K.shippingAddress.location.lng],zoom:15,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[d.jsx(s0,{attribution:' <a href="https://www.google.com/maps">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),d.jsx(n0,{position:[K.shippingAddress.location.lat,K.shippingAddress.location.lng],icon:RE,children:d.jsxs(i0,{children:["Delivery Location for ",K.customerName]})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Update Delivery Status"}),d.jsxs("select",{value:K.deliveryStatus||"pending",onChange:F=>{const re=F.target.value;re==="cancel"?(q(K.id),de(!1)):(W(K.id,re),de(!1))},className:"w-full text-sm border border-emerald-200 rounded-lg px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"delivered",children:"Delivered"}),d.jsx("option",{value:"not_delivered",children:"Not Delivered"}),d.jsx("option",{value:"leave",children:"Leave"}),d.jsx("option",{value:"cancel",children:"Cancel Today"})]})]})]})})]})})]})},sB=()=>{const[t,e]=O.useState("introduction"),n=[{id:"introduction",title:"Introduction"},{id:"accounts",title:"User Accounts"},{id:"subscriptions",title:"Subscriptions"},{id:"payments",title:"Payments"},{id:"delivery",title:"Delivery Policy"},{id:"cancellations",title:"Cancellations & Refunds"}];return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs(Qe,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 mb-6",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms & Conditions"}),d.jsxs("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Table of Contents"}),d.jsxs("nav",{className:"space-y-2",children:[n.map(i=>d.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id)),d.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-green-900 text-sm mb-2",children:"Questions?"}),d.jsxs("p",{className:"text-green-700 text-xs",children:["Contact our privacy team at"," ",d.jsx("p",{className:"font-medium text-lg",children:"Hariharan"}),d.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"underline",children:"fruitbunch.tvm@gmail.com"}),d.jsx("br",{}),"or call us at"," ",d.jsx("a",{href:"tel:+918807239379",className:"underline",children:"+91 88072 39379"})]})]})]})]})}),d.jsxs("div",{className:"lg:col-span-3",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="introduction"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Introduction"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsxs("p",{children:["Welcome to ",d.jsx("strong",{children:"FreshDaily"}),' ("we," "our," or "us"). These Terms and Conditions govern your use of our subscription-based daily delivery service. By accessing or using our services, you agree to be bound by these terms.']}),d.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[d.jsx("p",{className:"text-blue-800 font-medium",children:"Important:"}),d.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Please read these terms carefully before using our services. If you disagree with any part of these terms, you may not access our services."})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Definitions"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Service:"})," Our daily delivery subscription service"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"User:"})," Any individual or entity using our services"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Subscription:"})," A recurring service plan with specified duration"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Content:"})," All materials provided through our service"]})]})]})]}),t==="accounts"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. User Accounts"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Account Registration"}),d.jsx("p",{children:"To use our services, you must register for an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Account Security"}),d.jsx("p",{children:"You must notify us immediately of any unauthorized use of your account. We reserve the right to suspend or terminate accounts that violate these terms."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Age Requirement"}),d.jsx("p",{children:"You must be at least 18 years old to use our services. By registering, you represent that you meet this age requirement."})]})]}),t==="subscriptions"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. Subscriptions"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Subscription Plans"}),d.jsx("p",{children:"We offer various subscription plans with different durations and features. All subscriptions automatically renew unless canceled before the renewal date."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.2 Subscription Period"}),d.jsx("p",{children:"Each subscription period is 26 days. The service will automatically renew for subsequent 26-day periods unless canceled."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.3 Cancellation Policy"}),d.jsx("p",{children:"You may cancel your subscription at any time. Cancellations will take effect at the end of the current billing period."}),d.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6",children:[d.jsx("p",{className:"text-yellow-800 font-medium",children:"Note:"}),d.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Canceling your subscription does not entitle you to a refund for the current period."})]})]})]}),t==="payments"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Payments"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Payment Methods"}),d.jsx("p",{children:"We accept various payment methods including credit/debit cards, UPI, and other electronic payment systems. All payments are processed through secure third-party payment gateways."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Billing Cycle"}),d.jsx("p",{children:"Payments are charged at the beginning of each subscription period. You will receive a notification before each renewal."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.3 Price Changes"}),d.jsx("p",{children:"We reserve the right to change subscription prices. Existing subscribers will be notified 30 days in advance of any price changes."})]})]}),t==="delivery"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Delivery Policy"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Delivery Areas"}),d.jsx("p",{children:"We currently deliver to specified areas within our service coverage. Delivery availability may vary based on your location."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Delivery Times"}),d.jsx("p",{children:"Deliveries are made daily within specified time windows. While we strive for punctuality, delivery times may vary due to unforeseen circumstances."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.3 Delivery Issues"}),d.jsx("p",{children:"If you encounter any delivery issues, please contact our support team within 24 hours of the scheduled delivery time."})]})]}),t==="cancellations"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6. Cancellations & Refunds"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.1 Subscription Cancellation"}),d.jsx("p",{children:"You may cancel your subscription at any time through your account dashboard. The cancellation will take effect at the end of your current billing period."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.2 Refund Policy"}),d.jsx("p",{children:"We offer refunds only under specific circumstances:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"Service interruption for more than 3 consecutive days"}),d.jsx("li",{children:"Technical issues preventing service access"}),d.jsx("li",{children:"Duplicate payments"})]}),d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[d.jsx("p",{className:"text-red-800 font-medium",children:"No Refunds For:"}),d.jsxs("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside ml-4",children:[d.jsx("li",{children:"Change of mind after subscription"}),d.jsx("li",{children:"Non-usage of service during active period"}),d.jsx("li",{children:"Partial month usage"})]})]})]})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),d.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:["Next Section",d.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptance of Terms"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"By using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),d.jsx("div",{className:"flex justify-center space-x-4",children:d.jsx(Qe,{to:"/privacypolicy",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"Privacy Policy"})})]})})]})]})]})})},rB=()=>{const[t,e]=O.useState("overview"),n=[{id:"overview",title:"Overview"},{id:"information",title:"Information We Collect"},{id:"usage",title:"How We Use Information"},{id:"sharing",title:"Information Sharing"},{id:"cookies",title:"Cookies & Tracking"}];return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs(Qe,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),d.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"We are committed to protecting your privacy and ensuring transparency about how we handle your personal information."}),d.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),d.jsx("nav",{className:"space-y-2",children:n.map(i=>d.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Questions?"}),d.jsxs("p",{className:"text-blue-700 text-xs",children:["Contact our privacy team at"," ",d.jsx("p",{className:"font-medium text-lg",children:"Hariharan"}),d.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"underline",children:"fruitbunch.tvm@gmail.com"}),d.jsx("br",{}),"or call us at"," ",d.jsx("a",{href:"tel:+918807239379",className:"underline",children:"+91 88072 39379"})]})]})]})}),d.jsxs("div",{className:"lg:col-span-3",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="overview"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Overview"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsxs("p",{children:["At ",d.jsx("strong",{children:"FreshDaily"}),", we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our services."]}),d.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 my-6",children:[d.jsx("p",{className:"text-green-800 font-medium",children:"Our Commitment:"}),d.jsxs("ul",{className:"text-green-700 text-sm mt-1 list-disc list-inside ml-4",children:[d.jsx("li",{children:"We never sell your personal information"}),d.jsx("li",{children:"We minimize data collection to what's necessary"}),d.jsx("li",{children:"We implement robust security measures"}),d.jsx("li",{children:"We are transparent about our practices"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Scope"}),d.jsx("p",{children:'This policy applies to all information collected through our website, mobile applications, and services (collectively, the "Services").'})]})]}),t==="information"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. Information We Collect"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Personal Information"}),d.jsx("p",{children:"We collect information that identifies you as an individual:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Contact Information:"})," Name, email address, phone number"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Account Information:"})," Username, password, profile details"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Payment Information:"})," Billing address, payment method details"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Delivery Information:"})," Shipping address, location data"]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Usage Information"}),d.jsx("p",{children:"We automatically collect information about your interaction with our Services:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"IP address and device information"}),d.jsx("li",{children:"Browser type and version"}),d.jsx("li",{children:"Pages visited and time spent"}),d.jsx("li",{children:"Subscription usage patterns"})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Location Information"}),d.jsx("p",{children:"With your permission, we collect precise location data to provide delivery services and improve user experience."})]})]}),t==="usage"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. How We Use Your Information"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Service Provision"}),d.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 list-disc list-inside ml-2",children:[d.jsx("li",{children:"Process subscriptions and payments"}),d.jsx("li",{children:"Schedule and manage deliveries"}),d.jsx("li",{children:"Provide customer support"}),d.jsx("li",{children:"Send service notifications"})]})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Improvement"}),d.jsxs("ul",{className:"text-green-700 text-sm space-y-1 list-disc list-inside ml-2",children:[d.jsx("li",{children:"Analyze usage patterns"}),d.jsx("li",{children:"Improve service quality"}),d.jsx("li",{children:"Develop new features"}),d.jsx("li",{children:"Personalize user experience"})]})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Legal Bases for Processing"}),d.jsx("p",{children:"We process your information based on:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Contractual necessity:"})," To provide the services you requested"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Legal compliance:"})," To meet regulatory requirements"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Legitimate interests:"})," To improve our services"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Consent:"})," For specific purposes where required"]})]})]})]}),t==="sharing"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Information Sharing & Disclosure"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:d.jsx("p",{className:"text-yellow-800 font-medium",children:"We do not sell your personal information to third parties."})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Service Providers"}),d.jsx("p",{children:"We share information with trusted service providers who assist in our operations:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"Payment processors (Razorpay, Stripe)"}),d.jsx("li",{children:"Delivery and logistics partners"}),d.jsx("li",{children:"Cloud storage providers (Firebase)"}),d.jsx("li",{children:"Customer support platforms"})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Legal Requirements"}),d.jsx("p",{children:"We may disclose information when required by law or to:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"Comply with legal processes"}),d.jsx("li",{children:"Protect our rights and property"}),d.jsx("li",{children:"Prevent fraud or security issues"}),d.jsx("li",{children:"Protect the safety of our users"})]})]})]}),t==="cookies"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Cookies & Tracking Technologies"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Types of Cookies We Use"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-200",children:[d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Essential"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Basic website functionality"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Session"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Analytics"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Service improvement"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"2 years"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Preferences"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Remember your settings"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"1 year"})]})]})]})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Managing Cookies"}),d.jsx("p",{children:"You can control cookie settings through your browser. However, disabling essential cookies may affect service functionality."})]})]}),t==="rights"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7. Your Privacy Rights"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access & Portability"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Request a copy of your personal data in a machine-readable format"})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Correction"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Update or correct inaccurate personal information"})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Deletion"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data under certain conditions"})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Objection"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your personal data for specific purposes"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"7.1 Exercising Your Rights"}),d.jsxs("p",{children:["To exercise any of these rights, please contact us at"," ",d.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"text-blue-600 underline",children:"privacy@freshdaily.com"}),". We will respond to your request within 30 days."]})]})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),d.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:["Next Section",d.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Our Privacy Team"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us."}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition",children:"Email Privacy Team"}),d.jsx(Qe,{to:"/termsandconditions",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"View Terms"})]})]})})]})]})]})})},aB=()=>{const{pathname:t}=Ns();return O.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null};function oB(){return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(aB,{}),d.jsx(Yk,{}),d.jsx("main",{className:"flex-grow",children:d.jsx(Wj,{})}),d.jsx(Qk,{}),d.jsx(_V,{})]})}function lB(){return d.jsx(Kk,{children:d.jsx(vP,{children:d.jsxs($j,{children:[d.jsxs(On,{element:d.jsx(oB,{}),children:[d.jsx(On,{path:"/",element:d.jsx(i3,{})}),d.jsx(On,{path:"/subscription",element:d.jsx(d3,{})}),d.jsx(On,{path:"/corporate",element:d.jsx(v3,{})}),d.jsx(On,{path:"/about",element:d.jsx(b3,{})}),d.jsx(On,{path:"/cart",element:d.jsx(E3,{})}),d.jsx(On,{path:"/profile",element:d.jsx(bV,{})}),d.jsx(On,{path:"/orderconfirmation",element:d.jsx(nB,{})}),d.jsx(On,{path:"/checkout",element:d.jsx(qk,{children:d.jsx(vV,{})})}),d.jsx(On,{path:"/termsandconditions",element:d.jsx(sB,{})}),d.jsx(On,{path:"/privacypolicy",element:d.jsx(rB,{})})]}),d.jsx(On,{path:"/login",element:d.jsx(w3,{})}),d.jsx(On,{path:"/signup",element:d.jsx(T3,{})}),d.jsx(On,{path:"/forgot-password",element:d.jsx(xV,{})}),d.jsx(On,{path:"/admin",element:d.jsx(Gk,{children:d.jsx(iB,{})})}),d.jsx(On,{path:"*",element:d.jsx(k0,{to:"/",replace:!0})})]})})})}nj.createRoot(document.getElementById("root")).render(d.jsx(O.StrictMode,{children:d.jsx(lB,{})}));
