(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function DE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zg={exports:{}},hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function KR(){if(hw)return hh;hw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var h=null;if(c!==void 0&&(h=""+c),a.key!==void 0&&(h=""+a.key),"key"in a){c={};for(var m in a)m!=="key"&&(c[m]=a[m])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:h,ref:a!==void 0?a:null,props:c}}return hh.Fragment=e,hh.jsx=n,hh.jsxs=n,hh}var dw;function $R(){return dw||(dw=1,Zg.exports=KR()),Zg.exports}var u=$R(),Wg={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function YR(){if(fw)return tt;fw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,B={};function V(z,ce,_e){this.props=z,this.context=ce,this.refs=B,this.updater=_e||I}V.prototype.isReactComponent={},V.prototype.setState=function(z,ce){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ce,"setState")},V.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function K(){}K.prototype=V.prototype;function H(z,ce,_e){this.props=z,this.context=ce,this.refs=B,this.updater=_e||I}var $=H.prototype=new K;$.constructor=H,P($,V.prototype),$.isPureReactComponent=!0;var X=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function O(z,ce,_e,we,Se,Re){return _e=Re.ref,{$$typeof:t,type:z,key:ce,ref:_e!==void 0?_e:null,props:Re}}function j(z,ce){return O(z.type,ce,void 0,void 0,void 0,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function G(z){var ce={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(_e){return ce[_e]})}var F=/\/+/g;function Y(z,ce){return typeof z=="object"&&z!==null&&z.key!=null?G(""+z.key):ce.toString(36)}function q(){}function ke(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(q,q):(z.status="pending",z.then(function(ce){z.status==="pending"&&(z.status="fulfilled",z.value=ce)},function(ce){z.status==="pending"&&(z.status="rejected",z.reason=ce)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Be(z,ce,_e,we,Se){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var Te=!1;if(z===null)Te=!0;else switch(Re){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(z.$$typeof){case t:case e:Te=!0;break;case _:return Te=z._init,Be(Te(z._payload),ce,_e,we,Se)}}if(Te)return Se=Se(z),Te=we===""?"."+Y(z,0):we,X(Se)?(_e="",Te!=null&&(_e=Te.replace(F,"$&/")+"/"),Be(Se,ce,_e,"",function(fn){return fn})):Se!=null&&(M(Se)&&(Se=j(Se,_e+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+Te)),ce.push(Se)),1;Te=0;var bt=we===""?".":we+":";if(X(z))for(var qe=0;qe<z.length;qe++)we=z[qe],Re=bt+Y(we,qe),Te+=Be(we,ce,_e,Re,Se);else if(qe=A(z),typeof qe=="function")for(z=qe.call(z),qe=0;!(we=z.next()).done;)we=we.value,Re=bt+Y(we,qe++),Te+=Be(we,ce,_e,Re,Se);else if(Re==="object"){if(typeof z.then=="function")return Be(ke(z),ce,_e,we,Se);throw ce=String(z),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ae(z,ce,_e){if(z==null)return z;var we=[],Se=0;return Be(z,we,"","",function(Re){return ce.call(_e,Re,Se++)}),we}function ye(z){if(z._status===-1){var ce=z._result;ce=ce(),ce.then(function(_e){(z._status===0||z._status===-1)&&(z._status=1,z._result=_e)},function(_e){(z._status===0||z._status===-1)&&(z._status=2,z._result=_e)}),z._status===-1&&(z._status=0,z._result=ce)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Ae(){}return tt.Children={map:ae,forEach:function(z,ce,_e){ae(z,function(){ce.apply(this,arguments)},_e)},count:function(z){var ce=0;return ae(z,function(){ce++}),ce},toArray:function(z){return ae(z,function(ce){return ce})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},tt.Component=V,tt.Fragment=n,tt.Profiler=a,tt.PureComponent=H,tt.StrictMode=i,tt.Suspense=g,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,tt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ee.H.useMemoCache(z)}},tt.cache=function(z){return function(){return z.apply(null,arguments)}},tt.cloneElement=function(z,ce,_e){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var we=P({},z.props),Se=z.key,Re=void 0;if(ce!=null)for(Te in ce.ref!==void 0&&(Re=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!oe.call(ce,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ce.ref===void 0||(we[Te]=ce[Te]);var Te=arguments.length-2;if(Te===1)we.children=_e;else if(1<Te){for(var bt=Array(Te),qe=0;qe<Te;qe++)bt[qe]=arguments[qe+2];we.children=bt}return O(z.type,Se,void 0,void 0,Re,we)},tt.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},tt.createElement=function(z,ce,_e){var we,Se={},Re=null;if(ce!=null)for(we in ce.key!==void 0&&(Re=""+ce.key),ce)oe.call(ce,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Se[we]=ce[we]);var Te=arguments.length-2;if(Te===1)Se.children=_e;else if(1<Te){for(var bt=Array(Te),qe=0;qe<Te;qe++)bt[qe]=arguments[qe+2];Se.children=bt}if(z&&z.defaultProps)for(we in Te=z.defaultProps,Te)Se[we]===void 0&&(Se[we]=Te[we]);return O(z,Re,void 0,void 0,null,Se)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(z){return{$$typeof:m,render:z}},tt.isValidElement=M,tt.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ye}},tt.memo=function(z,ce){return{$$typeof:x,type:z,compare:ce===void 0?null:ce}},tt.startTransition=function(z){var ce=ee.T,_e={};ee.T=_e;try{var we=z(),Se=ee.S;Se!==null&&Se(_e,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(Ae,re)}catch(Re){re(Re)}finally{ee.T=ce}},tt.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},tt.use=function(z){return ee.H.use(z)},tt.useActionState=function(z,ce,_e){return ee.H.useActionState(z,ce,_e)},tt.useCallback=function(z,ce){return ee.H.useCallback(z,ce)},tt.useContext=function(z){return ee.H.useContext(z)},tt.useDebugValue=function(){},tt.useDeferredValue=function(z,ce){return ee.H.useDeferredValue(z,ce)},tt.useEffect=function(z,ce,_e){var we=ee.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return we.useEffect(z,ce)},tt.useId=function(){return ee.H.useId()},tt.useImperativeHandle=function(z,ce,_e){return ee.H.useImperativeHandle(z,ce,_e)},tt.useInsertionEffect=function(z,ce){return ee.H.useInsertionEffect(z,ce)},tt.useLayoutEffect=function(z,ce){return ee.H.useLayoutEffect(z,ce)},tt.useMemo=function(z,ce){return ee.H.useMemo(z,ce)},tt.useOptimistic=function(z,ce){return ee.H.useOptimistic(z,ce)},tt.useReducer=function(z,ce,_e){return ee.H.useReducer(z,ce,_e)},tt.useRef=function(z){return ee.H.useRef(z)},tt.useState=function(z){return ee.H.useState(z)},tt.useSyncExternalStore=function(z,ce,_e){return ee.H.useSyncExternalStore(z,ce,_e)},tt.useTransition=function(){return ee.H.useTransition()},tt.version="19.1.1",tt}var mw;function I0(){return mw||(mw=1,Wg.exports=YR()),Wg.exports}var U=I0();const Py=DE(U);var Kg={exports:{}},dh={},$g={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function QR(){return pw||(pw=1,(function(t){function e(ae,ye){var re=ae.length;ae.push(ye);e:for(;0<re;){var Ae=re-1>>>1,z=ae[Ae];if(0<a(z,ye))ae[Ae]=ye,ae[re]=z,re=Ae;else break e}}function n(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ye=ae[0],re=ae.pop();if(re!==ye){ae[0]=re;e:for(var Ae=0,z=ae.length,ce=z>>>1;Ae<ce;){var _e=2*(Ae+1)-1,we=ae[_e],Se=_e+1,Re=ae[Se];if(0>a(we,re))Se<z&&0>a(Re,we)?(ae[Ae]=Re,ae[Se]=re,Ae=Se):(ae[Ae]=we,ae[_e]=re,Ae=_e);else if(Se<z&&0>a(Re,re))ae[Ae]=Re,ae[Se]=re,Ae=Se;else break e}}return ye}function a(ae,ye){var re=ae.sortIndex-ye.sortIndex;return re!==0?re:ae.id-ye.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var g=[],x=[],_=1,T=null,A=3,I=!1,P=!1,B=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function X(ae){for(var ye=n(x);ye!==null;){if(ye.callback===null)i(x);else if(ye.startTime<=ae)i(x),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=n(x)}}function ee(ae){if(B=!1,X(ae),!P)if(n(g)!==null)P=!0,oe||(oe=!0,Y());else{var ye=n(x);ye!==null&&Be(ee,ye.startTime-ae)}}var oe=!1,O=-1,j=5,M=-1;function G(){return V?!0:!(t.unstable_now()-M<j)}function F(){if(V=!1,oe){var ae=t.unstable_now();M=ae;var ye=!0;try{e:{P=!1,B&&(B=!1,H(O),O=-1),I=!0;var re=A;try{t:{for(X(ae),T=n(g);T!==null&&!(T.expirationTime>ae&&G());){var Ae=T.callback;if(typeof Ae=="function"){T.callback=null,A=T.priorityLevel;var z=Ae(T.expirationTime<=ae);if(ae=t.unstable_now(),typeof z=="function"){T.callback=z,X(ae),ye=!0;break t}T===n(g)&&i(g),X(ae)}else i(g);T=n(g)}if(T!==null)ye=!0;else{var ce=n(x);ce!==null&&Be(ee,ce.startTime-ae),ye=!1}}break e}finally{T=null,A=re,I=!1}ye=void 0}}finally{ye?Y():oe=!1}}}var Y;if(typeof $=="function")Y=function(){$(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ke=q.port2;q.port1.onmessage=F,Y=function(){ke.postMessage(null)}}else Y=function(){K(F,0)};function Be(ae,ye){O=K(function(){ae(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(ae){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var re=A;A=ye;try{return ae()}finally{A=re}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var re=A;A=ae;try{return ye()}finally{A=re}},t.unstable_scheduleCallback=function(ae,ye,re){var Ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,ae){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=re+z,ae={id:_++,callback:ye,priorityLevel:ae,startTime:re,expirationTime:z,sortIndex:-1},re>Ae?(ae.sortIndex=re,e(x,ae),n(g)===null&&ae===n(x)&&(B?(H(O),O=-1):B=!0,Be(ee,re-Ae))):(ae.sortIndex=z,e(g,ae),P||I||(P=!0,oe||(oe=!0,Y()))),ae},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(ae){var ye=A;return function(){var re=A;A=ye;try{return ae.apply(this,arguments)}finally{A=re}}}})(Yg)),Yg}var gw;function XR(){return gw||(gw=1,$g.exports=QR()),$g.exports}var Qg={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function JR(){if(yw)return $n;yw=1;var t=I0();function e(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(g,x,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:x,implementation:_}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,$n.createPortal=function(g,x){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return c(g,x,null,_)},$n.flushSync=function(g){var x=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=x,i.p=_,i.d.f()}},$n.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},$n.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},$n.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var _=x.as,T=m(_,x.crossOrigin),A=typeof x.integrity=="string"?x.integrity:void 0,I=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;_==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):_==="script"&&i.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},$n.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var _=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},$n.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var _=x.as,T=m(_,x.crossOrigin);i.d.L(g,_,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},$n.preloadModule=function(g,x){if(typeof g=="string")if(x){var _=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},$n.requestFormReset=function(g){i.d.r(g)},$n.unstable_batchedUpdates=function(g,x){return g(x)},$n.useFormState=function(g,x,_){return h.H.useFormState(g,x,_)},$n.useFormStatus=function(){return h.H.useHostTransitionStatus()},$n.version="19.1.1",$n}var vw;function LE(){if(vw)return Qg.exports;vw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qg.exports=JR(),Qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function ej(){if(xw)return dh;xw=1;var t=XR(),e=I0(),n=LE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function h(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(c(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,f=r;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return m(v),s;if(b===f)return m(v),r;b=b.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=b;else{for(var C=!1,D=v.child;D;){if(D===l){C=!0,l=v,f=b;break}if(D===f){C=!0,f=v,l=b;break}D=D.sibling}if(!C){for(D=b.child;D;){if(D===l){C=!0,l=b,f=v;break}if(D===f){C=!0,f=b,l=v;break}D=D.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function ke(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case ee:return"Suspense";case oe:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case $:return(s.displayName||"Context")+".Provider";case H:return(s._context.displayName||"Context")+".Consumer";case X:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return r=s.displayName||null,r!==null?r:ke(s.type)||"Memo";case j:r=s._payload,s=s._init;try{return ke(s(r))}catch{}}return null}var Be=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ae=[],z=-1;function ce(s){return{current:s}}function _e(s){0>z||(s.current=Ae[z],Ae[z]=null,z--)}function we(s,r){z++,Ae[z]=s.current,s.current=r}var Se=ce(null),Re=ce(null),Te=ce(null),bt=ce(null);function qe(s,r){switch(we(Te,r),we(Re,s),we(Se,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ub(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ub(r),s=Bb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}_e(Se),we(Se,s)}function fn(){_e(Se),_e(Re),_e(Te)}function Is(s){s.memoizedState!==null&&we(bt,s);var r=Se.current,l=Bb(r,s.type);r!==l&&(we(Re,s),we(Se,l))}function ar(s){Re.current===s&&(_e(Se),_e(Re)),bt.current===s&&(_e(bt),ah._currentValue=re)}var ss=Object.prototype.hasOwnProperty,Ds=t.unstable_scheduleCallback,Ra=t.unstable_cancelCallback,Gl=t.unstable_shouldYield,ja=t.unstable_requestPaint,wn=t.unstable_now,Or=t.unstable_getCurrentPriorityLevel,Jt=t.unstable_ImmediatePriority,en=t.unstable_UserBlockingPriority,Oi=t.unstable_NormalPriority,Zl=t.unstable_LowPriority,Pa=t.unstable_IdlePriority,Tu=t.log,Vr=t.unstable_setDisableYieldValue,rs=null,mn=null;function ni(s){if(typeof Tu=="function"&&Vr(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(rs,s)}catch{}}var On=Math.clz32?Math.clz32:Kl,Wl=Math.log,Go=Math.LN2;function Kl(s){return s>>>=0,s===0?32:31-(Wl(s)/Go|0)|0}var Vi=256,as=4194304;function vi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xi(s,r,l){var f=s.pendingLanes;if(f===0)return 0;var v=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var D=f&134217727;return D!==0?(f=D&~b,f!==0?v=vi(f):(C&=D,C!==0?v=vi(C):l||(l=D&~s,l!==0&&(v=vi(l))))):(D=f&~b,D!==0?v=vi(D):C!==0?v=vi(C):l||(l=f&~s,l!==0&&(v=vi(l)))),v===0?0:r!==0&&r!==v&&(r&b)===0&&(b=v&-v,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:v}function _i(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ia(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var s=Vi;return Vi<<=1,(Vi&4194048)===0&&(Vi=256),s}function Ls(){var s=as;return as<<=1,(as&62914560)===0&&(as=4194304),s}function Ur(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Mt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $l(s,r,l,f,v,b){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var D=s.entanglements,W=s.expirationTimes,se=s.hiddenUpdates;for(l=C&~l;0<l;){var me=31-On(l),ve=1<<me;D[me]=0,W[me]=-1;var le=se[me];if(le!==null)for(se[me]=null,me=0;me<le.length;me++){var he=le[me];he!==null&&(he.lane&=-536870913)}l&=~ve}f!==0&&or(s,f,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~r))}function or(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-On(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function lr(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-On(l),v=1<<f;v&r|s[f]&r&&(s[f]|=r),l&=~v}}function Wo(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ko(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ms(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:rw(s.type))}function $o(s,r){var l=ye.p;try{return ye.p=s,r()}finally{ye.p=l}}var os=Math.random().toString(36).slice(2),zt="__reactFiber$"+os,pn="__reactProps$"+os,ks="__reactContainer$"+os,Tn="__reactEvents$"+os,De="__reactListeners$"+os,Yl="__reactHandles$"+os,bi="__reactResources$"+os,Os="__reactMarker$"+os;function Br(s){delete s[zt],delete s[pn],delete s[Tn],delete s[De],delete s[Yl]}function wi(s){var r=s[zt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[ks]||l[zt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=qb(s);s!==null;){if(l=s[zt])return l;s=qb(s)}return r}s=l,l=s.parentNode}return null}function Ui(s){if(s=s[zt]||s[ks]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function ii(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Vs(s){var r=s[bi];return r||(r=s[bi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(s){s[Os]=!0}var Ql=new Set,zr={};function ls(s,r){Bi(s,r),Bi(s+"Capture",r)}function Bi(s,r){for(zr[s]=r,s=0;s<r.length;s++)Ql.add(r[s])}var Fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),si={},Da={};function Eu(s){return ss.call(Da,s)?!0:ss.call(si,s)?!1:Fr.test(s)?Da[s]=!0:(si[s]=!0,!1)}function Hr(s,r,l){if(Eu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function qr(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Ti(s,r,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+f)}}var Us,cs;function us(s){if(Us===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Us=r&&r[1]||"",cs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+s+cs}var Gr=!1;function hs(s,r){if(!s||Gr)return"";Gr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(he){var le=he}Reflect.construct(s,[],ve)}else{try{ve.call()}catch(he){le=he}s.call(ve.prototype)}}else{try{throw Error()}catch(he){le=he}(ve=s())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],D=b[1];if(C&&D){var W=C.split(`
`),se=D.split(`
`);for(v=f=0;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(f===W.length||v===se.length)for(f=W.length-1,v=se.length-1;1<=f&&0<=v&&W[f]!==se[v];)v--;for(;1<=f&&0<=v;f--,v--)if(W[f]!==se[v]){if(f!==1||v!==1)do if(f--,v--,0>v||W[f]!==se[v]){var me=`
`+W[f].replace(" at new "," at ");return s.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",s.displayName)),me}while(1<=f&&0<=v);break}}}finally{Gr=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?us(l):""}function lt(s){switch(s.tag){case 26:case 27:case 5:return us(s.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return hs(s.type,!1);case 11:return hs(s.type.render,!1);case 1:return hs(s.type,!0);case 31:return us("Activity");default:return""}}function dt(s){try{var r="";do r+=lt(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function St(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ri(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ei(s){var r=ri(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,b=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return v.call(this)},set:function(C){f=""+C,b.call(this,C)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ds(s){s._valueTracker||(s._valueTracker=Ei(s))}function je(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=ri(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function _t(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bs=/[\n"\\]/g;function Ht(s){return s.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function En(s,r,l,f,v,b,C,D){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+St(r)):s.value!==""+St(r)&&(s.value=""+St(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?cr(s,C,St(r)):l!=null?cr(s,C,St(l)):f!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+St(D):s.removeAttribute("name")}function Yo(s,r,l,f,v,b,C,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+St(l):"",r=r!=null?""+St(r):l,D||r===s.value||(s.value=r),s.defaultValue=r}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=D?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function cr(s,r,l){r==="number"&&_t(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Gn(s,r,l,f){if(s=s.options,r){r={};for(var v=0;v<l.length;v++)r["$"+l[v]]=!0;for(l=0;l<s.length;l++)v=r.hasOwnProperty("$"+s[l].value),s[l].selected!==v&&(s[l].selected=v),v&&f&&(s[l].defaultSelected=!0)}else{for(l=""+St(l),r=null,v=0;v<s.length;v++){if(s[v].value===l){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}r!==null||s[v].disabled||(r=s[v])}r!==null&&(r.selected=!0)}}function Dt(s,r,l){if(r!=null&&(r=""+St(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+St(l):""}function fs(s,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(i(92));if(Be(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=St(r),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function Sn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zr(s,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,l):typeof l!="number"||l===0||ai.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function zs(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var v in r)f=r[v],r.hasOwnProperty(v)&&l[v]!==f&&Zr(s,v,f)}else for(var b in r)r.hasOwnProperty(b)&&Zr(s,b,r[b])}function ur(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(s){return Wr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Kr=null;function hr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fs=null,gn=null;function Xl(s){var r=Ui(s);if(r&&(s=r.stateNode)){var l=s[pn]||null;e:switch(s=r.stateNode,r.type){case"input":if(En(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ht(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var v=f[pn]||null;if(!v)throw Error(i(90));En(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===s.form&&je(f)}break e;case"textarea":Dt(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Gn(s,!!l.multiple,r,!1)}}}var ze=!1;function An(s,r,l){if(ze)return s(r,l);ze=!0;try{var f=s(r);return f}finally{if(ze=!1,(Fs!==null||gn!==null)&&(of(),Fs&&(r=Fs,s=gn,gn=Fs=null,Xl(r),s)))for(r=0;r<s.length;r++)Xl(s[r])}}function ft(s,r){var l=s.stateNode;if(l===null)return null;var f=l[pn]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=!1;if(Nn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){zi=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{zi=!1}var Zn=null,mt=null,dr=null;function fr(){if(dr)return dr;var s,r=mt,l=r.length,f,v="value"in Zn?Zn.value:Zn.textContent,b=v.length;for(s=0;s<l&&r[s]===v[s];s++);var C=l-s;for(f=1;f<=C&&r[l-f]===v[b-f];f++);return dr=v.slice(s,1<f?1-f:void 0)}function Lt(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function li(){return!0}function Ma(){return!1}function Kt(s){function r(l,f,v,b,C){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?li:Ma,this.isPropagationStopped=Ma,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Kt(Cn),Hs=_({},Cn,{view:0,detail:0}),$r=Kt(Hs),Yr,Je,ps,yn=_({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ps&&(ps&&s.type==="mousemove"?(Yr=s.screenX-ps.screenX,Je=s.screenY-ps.screenY):Je=Yr=0,ps=s),Yr)},movementY:function(s){return"movementY"in s?s.movementY:Je}}),Fi=Kt(yn),Jl=_({},yn,{dataTransfer:0}),ec=Kt(Jl),qs=_({},Hs,{relatedTarget:0}),ka=Kt(qs),Qo=_({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Kt(Qo),Jo=_({},Cn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Oa=Kt(Jo),Va=_({},Cn,{data:0}),Wn=Kt(Va),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Hi[s])?!!r[s]:!1}function Qr(){return el}var Ua=_({},Hs,{key:function(s){if(s.key){var r=tc[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Lt(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gs[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(s){return s.type==="keypress"?Lt(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Lt(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ba=Kt(Ua),Rn=_({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Kt(Rn),nc=_({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),pr=Kt(nc),p=_({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Kt(p),N=_({},yn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),k=Kt(N),ne=_({},Cn,{newState:0,oldState:0}),ue=Kt(ne),Ee=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,it=null;Nn&&"documentMode"in document&&(it=document.documentMode);var yt=Nn&&"TextEvent"in window&&!it,kt=Nn&&(!Fe||it&&8<it&&11>=it),ci=" ",Si=!1;function ui(s,r){switch(s){case"keyup":return Ee.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qi(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gi=!1;function Fa(s,r){switch(s){case"compositionend":return qi(r);case"keypress":return r.which!==32?null:(Si=!0,ci);case"textInput":return s=r.data,s===ci&&Si?null:s;default:return null}}function pp(s,r){if(Gi)return s==="compositionend"||!Fe&&ui(s,r)?(s=fr(),dr=mt=Zn=null,Gi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return kt&&r.locale!=="ko"?null:r.data;default:return null}}var Zi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xr(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Zi[s.type]:r==="textarea"}function Ed(s,r,l,f){Fs?gn?gn.push(f):gn=[f]:Fs=f,r=ff(r,"onChange"),0<r.length&&(l=new mr("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var hi=null,tl=null;function Ha(s){Lb(s,0)}function ic(s){var r=ii(s);if(je(r))return s}function qa(s,r){if(s==="change")return r}var Su=!1;if(Nn){var Ga;if(Nn){var Au="oninput"in document;if(!Au){var Gs=document.createElement("div");Gs.setAttribute("oninput","return;"),Au=typeof Gs.oninput=="function"}Ga=Au}else Ga=!1;Su=Ga&&(!document.documentMode||9<document.documentMode)}function nl(){hi&&(hi.detachEvent("onpropertychange",Sd),tl=hi=null)}function Sd(s){if(s.propertyName==="value"&&ic(tl)){var r=[];Ed(r,tl,s,hr(s)),An(Ha,r)}}function Nu(s,r,l){s==="focusin"?(nl(),hi=r,tl=l,hi.attachEvent("onpropertychange",Sd)):s==="focusout"&&nl()}function gp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ic(tl)}function Zs(s,r){if(s==="click")return ic(r)}function yp(s,r){if(s==="input"||s==="change")return ic(r)}function Za(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var di=typeof Object.is=="function"?Object.is:Za;function fi(s,r){if(di(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!ss.call(r,v)||!di(s[v],r[v]))return!1}return!0}function il(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cu(s,r){var l=il(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=il(l)}}function sc(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?sc(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function sl(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=_t(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=_t(s.document)}return r}function rl(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var rc=Nn&&"documentMode"in document&&11>=document.documentMode,Wi=null,Wa=null,Jr=null,ac=!1;function Ad(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ac||Wi==null||Wi!==_t(f)||(f=Wi,"selectionStart"in f&&rl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jr&&fi(Jr,f)||(Jr=f,f=ff(Wa,"onSelect"),0<f.length&&(r=new mr("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=Wi)))}function ys(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ka={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},oc={},Nd={};Nn&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function gr(s){if(oc[s])return oc[s];if(!Ka[s])return s;var r=Ka[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Nd)return oc[s]=r[l];return s}var Cd=gr("animationend"),Ki=gr("animationiteration"),al=gr("animationstart"),vp=gr("transitionrun"),lc=gr("transitionstart"),xp=gr("transitioncancel"),Ru=gr("transitionend"),Rd=new Map,ea="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ea.push("scrollEnd");function $i(s,r){Rd.set(s,r),ls(r,[s])}var ta=new WeakMap;function mi(s,r){if(typeof s=="object"&&s!==null){var l=ta.get(s);return l!==void 0?l:(r={value:s,source:r,stack:dt(r)},ta.set(s,r),r)}return{value:s,source:r,stack:dt(r)}}var pi=[],$a=0,Yi=0;function ol(){for(var s=$a,r=Yi=$a=0;r<s;){var l=pi[r];pi[r++]=null;var f=pi[r];pi[r++]=null;var v=pi[r];pi[r++]=null;var b=pi[r];if(pi[r++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}b!==0&&cl(l,v,b)}}function ll(s,r,l,f){pi[$a++]=s,pi[$a++]=r,pi[$a++]=l,pi[$a++]=f,Yi|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function na(s,r,l,f){return ll(s,r,l,f),yr(s)}function Ya(s,r){return ll(s,null,null,r),yr(s)}function cl(s,r,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var v=!1,b=s.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&r!==null&&(v=31-On(l),s=b.hiddenUpdates,f=s[v],f===null?s[v]=[r]:f.push(r),r.lane=l|536870912),b):null}function yr(s){if(50<Xu)throw Xu=0,gg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ia={};function jd(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(s,r,l,f){return new jd(s,r,l,f)}function cc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,r){var l=s.alternate;return l===null?(l=gi(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ju(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function ul(s,r,l,f,v,b){var C=0;if(f=s,typeof s=="function")cc(s)&&(C=1);else if(typeof s=="string")C=MR(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=gi(31,l,r,v),s.elementType=M,s.lanes=b,s;case P:return vr(l.children,v,b,r);case B:C=8,v|=24;break;case V:return s=gi(12,l,r,v|2),s.elementType=V,s.lanes=b,s;case ee:return s=gi(13,l,r,v),s.elementType=ee,s.lanes=b,s;case oe:return s=gi(19,l,r,v),s.elementType=oe,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:case $:C=10;break e;case H:C=9;break e;case X:C=11;break e;case O:C=14;break e;case j:C=16,f=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=gi(C,l,r,v),r.elementType=s,r.type=f,r.lanes=b,r}function vr(s,r,l,f){return s=gi(7,s,f,r),s.lanes=l,s}function Pu(s,r,l){return s=gi(6,s,null,r),s.lanes=l,s}function uc(s,r,l){return r=gi(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var sa=[],Qa=0,o=null,d=0,y=[],w=0,S=null,R=1,Z="";function te(s,r){sa[Qa++]=d,sa[Qa++]=o,o=s,d=r}function de(s,r,l){y[w++]=R,y[w++]=Z,y[w++]=S,S=s;var f=R;s=Z;var v=32-On(f)-1;f&=~(1<<v),l+=1;var b=32-On(r)+v;if(30<b){var C=v-v%5;b=(f&(1<<C)-1).toString(32),f>>=C,v-=C,R=1<<32-On(r)+v|l<<v|f,Z=b+s}else R=1<<b|l<<v|f,Z=s}function be(s){s.return!==null&&(te(s,1),de(s,1,0))}function Ne(s){for(;s===o;)o=sa[--Qa],sa[Qa]=null,d=sa[--Qa],sa[Qa]=null;for(;s===S;)S=y[--w],y[w]=null,Z=y[--w],y[w]=null,R=y[--w],y[w]=null}var Ie=null,Me=null,$e=!1,jt=null,qt=!1,jn=Error(i(519));function Ai(s){var r=Error(i(418,""));throw Ja(mi(r,s)),jn}function Pd(s){var r=s.stateNode,l=s.type,f=s.memoizedProps;switch(r[zt]=s,r[pn]=f,l){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(l=0;l<eh.length;l++)at(eh[l],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),Yo(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ds(r);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),fs(r,f.value,f.defaultValue,f.children),ds(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||Vb(r.textContent,l)?(f.popover!=null&&(at("beforetoggle",r),at("toggle",r)),f.onScroll!=null&&at("scroll",r),f.onScrollEnd!=null&&at("scrollend",r),f.onClick!=null&&(r.onclick=mf),r=!0):r=!1,r||Ai(s)}function Id(s){for(Ie=s.return;Ie;)switch(Ie.tag){case 5:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:Ie=Ie.return}}function hl(s){if(s!==Ie)return!1;if(!$e)return Id(s),$e=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ig(s.type,s.memoizedProps)),l=!l),l&&Me&&Ai(s),Id(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Me=Ys(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Me=null}}else r===27?(r=Me,po(s.type)?(s=kg,kg=null,Me=s):Me=r):Me=Ie?Ys(s.stateNode.nextSibling):null;return!0}function Xa(){Me=Ie=null,$e=!1}function Dd(){var s=jt;return s!==null&&(Ri===null?Ri=s:Ri.push.apply(Ri,s),jt=null),s}function Ja(s){jt===null?jt=[s]:jt.push(s)}var Ot=ce(null),xs=null,Ws=null;function xr(s,r,l){we(Ot,r._currentValue),r._currentValue=l}function Ks(s){s._currentValue=Ot.current,_e(Ot)}function dl(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function hc(s,r,l,f){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=v;for(var W=0;W<r.length;W++)if(D.context===r[W]){b.lanes|=l,D=b.alternate,D!==null&&(D.lanes|=l),dl(b.return,l,s),f||(C=null);break e}b=D.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),dl(C,l,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function fl(s,r,l,f){s=null;for(var v=r,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var D=v.type;di(v.pendingProps.value,C.value)||(s!==null?s.push(D):s=[D])}}else if(v===bt.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ah):s=[ah])}v=v.return}s!==null&&hc(r,s,l,f),r.flags|=262144}function Ld(s){for(s=s.firstContext;s!==null;){if(!di(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ml(s){xs=s,Ws=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Kn(s){return Ex(xs,s)}function Md(s,r){return xs===null&&ml(s),Ex(s,r)}function Ex(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ws===null){if(s===null)throw Error(i(308));Ws=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ws=Ws.next=r;return l}var LC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},MC=t.unstable_scheduleCallback,kC=t.unstable_NormalPriority,vn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new LC,data:new Map,refCount:0}}function Iu(s){s.refCount--,s.refCount===0&&MC(kC,function(){s.controller.abort()})}var Du=null,bp=0,dc=0,fc=null;function OC(s,r){if(Du===null){var l=Du=[];bp=0,dc=Tg(),fc={status:"pending",value:void 0,then:function(f){l.push(f)}}}return bp++,r.then(Sx,Sx),r}function Sx(){if(--bp===0&&Du!==null){fc!==null&&(fc.status="fulfilled");var s=Du;Du=null,dc=0,fc=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function VC(s,r){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var v=0;v<l.length;v++)(0,l[v])(r)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var Ax=ae.S;ae.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&OC(s,r),Ax!==null&&Ax(s,r)};var pl=ce(null);function wp(){var s=pl.current;return s!==null?s:Pt.pooledCache}function kd(s,r){r===null?we(pl,pl.current):we(pl,r.pool)}function Nx(){var s=wp();return s===null?null:{parent:vn._currentValue,pool:s}}var Lu=Error(i(460)),Cx=Error(i(474)),Od=Error(i(542)),Tp={then:function(){}};function Rx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Vd(){}function jx(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Vd,Vd),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ix(s),s;default:if(typeof r.status=="string")r.then(Vd,Vd);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=f}},function(f){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ix(s),s}throw Mu=r,Lu}}var Mu=null;function Px(){if(Mu===null)throw Error(i(459));var s=Mu;return Mu=null,s}function Ix(s){if(s===Lu||s===Od)throw Error(i(483))}var eo=!1;function Ep(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function to(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function no(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Tt&2)!==0){var v=f.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),f.pending=r,r=yr(s),cl(s,null,l),r}return ll(s,f,r,l),yr(s)}function ku(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,lr(s,l)}}function Ap(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?v=b=r:b=b.next=r}else v=b=r;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Np=!1;function Ou(){if(Np){var s=fc;if(s!==null)throw s}}function Vu(s,r,l,f){Np=!1;var v=s.updateQueue;eo=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var W=D,se=W.next;W.next=null,C===null?b=se:C.next=se,C=W;var me=s.alternate;me!==null&&(me=me.updateQueue,D=me.lastBaseUpdate,D!==C&&(D===null?me.firstBaseUpdate=se:D.next=se,me.lastBaseUpdate=W))}if(b!==null){var ve=v.baseState;C=0,me=se=W=null,D=b;do{var le=D.lane&-536870913,he=le!==D.lane;if(he?(pt&le)===le:(f&le)===le){le!==0&&le===dc&&(Np=!0),me!==null&&(me=me.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var We=s,Ue=D;le=r;var Ct=l;switch(Ue.tag){case 1:if(We=Ue.payload,typeof We=="function"){ve=We.call(Ct,ve,le);break e}ve=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ue.payload,le=typeof We=="function"?We.call(Ct,ve,le):We,le==null)break e;ve=_({},ve,le);break e;case 2:eo=!0}}le=D.callback,le!==null&&(s.flags|=64,he&&(s.flags|=8192),he=v.callbacks,he===null?v.callbacks=[le]:he.push(le))}else he={lane:le,tag:D.tag,payload:D.payload,callback:D.callback,next:null},me===null?(se=me=he,W=ve):me=me.next=he,C|=le;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;he=D,D=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);me===null&&(W=ve),v.baseState=W,v.firstBaseUpdate=se,v.lastBaseUpdate=me,b===null&&(v.shared.lanes=0),uo|=C,s.lanes=C,s.memoizedState=ve}}function Dx(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Lx(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Dx(l[s],r)}var mc=ce(null),Ud=ce(0);function Mx(s,r){s=ha,we(Ud,s),we(mc,r),ha=s|r.baseLanes}function Cp(){we(Ud,ha),we(mc,mc.current)}function Rp(){ha=Ud.current,_e(mc),_e(Ud)}var io=0,nt=null,At=null,on=null,Bd=!1,pc=!1,gl=!1,zd=0,Uu=0,gc=null,UC=0;function tn(){throw Error(i(321))}function jp(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!di(s[l],r[l]))return!1;return!0}function Pp(s,r,l,f,v,b){return io=b,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ae.H=s===null||s.memoizedState===null?v_:x_,gl=!1,b=l(f,v),gl=!1,pc&&(b=Ox(r,l,f,v)),kx(s),b}function kx(s){ae.H=Wd;var r=At!==null&&At.next!==null;if(io=0,on=At=nt=null,Bd=!1,Uu=0,gc=null,r)throw Error(i(300));s===null||Pn||(s=s.dependencies,s!==null&&Ld(s)&&(Pn=!0))}function Ox(s,r,l,f){nt=s;var v=0;do{if(pc&&(gc=null),Uu=0,pc=!1,25<=v)throw Error(i(301));if(v+=1,on=At=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ae.H=ZC,b=r(l,f)}while(pc);return b}function BC(){var s=ae.H,r=s.useState()[0];return r=typeof r.then=="function"?Bu(r):r,s=s.useState()[0],(At!==null?At.memoizedState:null)!==s&&(nt.flags|=1024),r}function Ip(){var s=zd!==0;return zd=0,s}function Dp(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Lp(s){if(Bd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Bd=!1}io=0,on=At=nt=null,pc=!1,Uu=zd=0,gc=null}function Ni(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?nt.memoizedState=on=s:on=on.next=s,on}function ln(){if(At===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var r=on===null?nt.memoizedState:on.next;if(r!==null)on=r,At=s;else{if(s===null)throw nt.alternate===null?Error(i(467)):Error(i(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},on===null?nt.memoizedState=on=s:on=on.next=s}return on}function Mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(s){var r=Uu;return Uu+=1,gc===null&&(gc=[]),s=jx(gc,s,r),r=nt,(on===null?r.memoizedState:on.next)===null&&(r=r.alternate,ae.H=r===null||r.memoizedState===null?v_:x_),s}function Fd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bu(s);if(s.$$typeof===$)return Kn(s)}throw Error(i(438,String(s)))}function kp(s){var r=null,l=nt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=nt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Mp(),nt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),f=0;f<s;f++)l[f]=G;return r.index++,l}function ra(s,r){return typeof r=="function"?r(s):r}function Hd(s){var r=ln();return Op(r,At,s)}function Op(s,r,l){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=s.baseQueue,b=f.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}r.baseQueue=v=b,f.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{r=v.next;var D=C=null,W=null,se=r,me=!1;do{var ve=se.lane&-536870913;if(ve!==se.lane?(pt&ve)===ve:(io&ve)===ve){var le=se.revertLane;if(le===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ve===dc&&(me=!0);else if((io&le)===le){se=se.next,le===dc&&(me=!0);continue}else ve={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},W===null?(D=W=ve,C=b):W=W.next=ve,nt.lanes|=le,uo|=le;ve=se.action,gl&&l(b,ve),b=se.hasEagerState?se.eagerState:l(b,ve)}else le={lane:ve,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},W===null?(D=W=le,C=b):W=W.next=le,nt.lanes|=ve,uo|=ve;se=se.next}while(se!==null&&se!==r);if(W===null?C=b:W.next=D,!di(b,s.memoizedState)&&(Pn=!0,me&&(l=fc,l!==null)))throw l;s.memoizedState=b,s.baseState=C,s.baseQueue=W,f.lastRenderedState=b}return v===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Vp(s){var r=ln(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=l.dispatch,v=l.pending,b=r.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);di(b,r.memoizedState)||(Pn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,f]}function Vx(s,r,l){var f=nt,v=ln(),b=$e;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!di((At||v).memoizedState,l);C&&(v.memoizedState=l,Pn=!0),v=v.queue;var D=zx.bind(null,f,v,s);if(zu(2048,8,D,[s]),v.getSnapshot!==r||C||on!==null&&on.memoizedState.tag&1){if(f.flags|=2048,yc(9,qd(),Bx.bind(null,f,v,l,r),null),Pt===null)throw Error(i(349));b||(io&124)!==0||Ux(f,r,l)}return l}function Ux(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=nt.updateQueue,r===null?(r=Mp(),nt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Bx(s,r,l,f){r.value=l,r.getSnapshot=f,Fx(r)&&Hx(s)}function zx(s,r,l){return l(function(){Fx(r)&&Hx(s)})}function Fx(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!di(s,l)}catch{return!0}}function Hx(s){var r=Ya(s,2);r!==null&&ts(r,s,2)}function Up(s){var r=Ni();if(typeof s=="function"){var l=s;if(s=l(),gl){ni(!0);try{l()}finally{ni(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},r}function qx(s,r,l,f){return s.baseState=l,Op(s,At,typeof f=="function"?f:ra)}function zC(s,r,l,f,v){if(Zd(s))throw Error(i(485));if(s=r.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};ae.T!==null?l(!0):b.isTransition=!1,f(b),l=r.pending,l===null?(b.next=r.pending=b,Gx(r,b)):(b.next=l.next,r.pending=l.next=b)}}function Gx(s,r){var l=r.action,f=r.payload,v=s.state;if(r.isTransition){var b=ae.T,C={};ae.T=C;try{var D=l(v,f),W=ae.S;W!==null&&W(C,D),Zx(s,r,D)}catch(se){Bp(s,r,se)}finally{ae.T=b}}else try{b=l(v,f),Zx(s,r,b)}catch(se){Bp(s,r,se)}}function Zx(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Wx(s,r,f)},function(f){return Bp(s,r,f)}):Wx(s,r,l)}function Wx(s,r,l){r.status="fulfilled",r.value=l,Kx(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Gx(s,l)))}function Bp(s,r,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,Kx(r),r=r.next;while(r!==f)}s.action=null}function Kx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function $x(s,r){return r}function Yx(s,r){if($e){var l=Pt.formState;if(l!==null){e:{var f=nt;if($e){if(Me){t:{for(var v=Me,b=qt;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ys(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Me=Ys(v.nextSibling),f=v.data==="F!";break e}}Ai(f)}f=!1}f&&(r=l[0])}}return l=Ni(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$x,lastRenderedState:r},l.queue=f,l=p_.bind(null,nt,f),f.dispatch=l,f=Up(!1),b=Gp.bind(null,nt,!1,f.queue),f=Ni(),v={state:r,dispatch:null,action:s,pending:null},f.queue=v,l=zC.bind(null,nt,v,b,l),v.dispatch=l,f.memoizedState=s,[r,l,!1]}function Qx(s){var r=ln();return Xx(r,At,s)}function Xx(s,r,l){if(r=Op(s,r,$x)[0],s=Hd(ra)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Bu(r)}catch(C){throw C===Lu?Od:C}else f=r;r=ln();var v=r.queue,b=v.dispatch;return l!==r.memoizedState&&(nt.flags|=2048,yc(9,qd(),FC.bind(null,v,l),null)),[f,b,s]}function FC(s,r){s.action=r}function Jx(s){var r=ln(),l=At;if(l!==null)return Xx(r,l,s);ln(),r=r.memoizedState,l=ln();var f=l.queue.dispatch;return l.memoizedState=s,[r,f,!1]}function yc(s,r,l,f){return s={tag:s,create:l,deps:f,inst:r,next:null},r=nt.updateQueue,r===null&&(r=Mp(),nt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s),s}function qd(){return{destroy:void 0,resource:void 0}}function e_(){return ln().memoizedState}function Gd(s,r,l,f){var v=Ni();f=f===void 0?null:f,nt.flags|=s,v.memoizedState=yc(1|r,qd(),l,f)}function zu(s,r,l,f){var v=ln();f=f===void 0?null:f;var b=v.memoizedState.inst;At!==null&&f!==null&&jp(f,At.memoizedState.deps)?v.memoizedState=yc(r,b,l,f):(nt.flags|=s,v.memoizedState=yc(1|r,b,l,f))}function t_(s,r){Gd(8390656,8,s,r)}function n_(s,r){zu(2048,8,s,r)}function i_(s,r){return zu(4,2,s,r)}function s_(s,r){return zu(4,4,s,r)}function r_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function a_(s,r,l){l=l!=null?l.concat([s]):null,zu(4,4,r_.bind(null,r,s),l)}function zp(){}function o_(s,r){var l=ln();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&jp(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function l_(s,r){var l=ln();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&jp(r,f[1]))return f[0];if(f=s(),gl){ni(!0);try{s()}finally{ni(!1)}}return l.memoizedState=[f,r],f}function Fp(s,r,l){return l===void 0||(io&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=hb(),nt.lanes|=s,uo|=s,l)}function c_(s,r,l,f){return di(l,r)?l:mc.current!==null?(s=Fp(s,l,f),di(s,r)||(Pn=!0),s):(io&42)===0?(Pn=!0,s.memoizedState=l):(s=hb(),nt.lanes|=s,uo|=s,r)}function u_(s,r,l,f,v){var b=ye.p;ye.p=b!==0&&8>b?b:8;var C=ae.T,D={};ae.T=D,Gp(s,!1,r,l);try{var W=v(),se=ae.S;if(se!==null&&se(D,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var me=VC(W,f);Fu(s,r,me,es(s))}else Fu(s,r,f,es(s))}catch(ve){Fu(s,r,{then:function(){},status:"rejected",reason:ve},es())}finally{ye.p=b,ae.T=C}}function HC(){}function Hp(s,r,l,f){if(s.tag!==5)throw Error(i(476));var v=h_(s).queue;u_(s,v,r,re,l===null?HC:function(){return d_(s),l(f)})}function h_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:re},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function d_(s){var r=h_(s).next.queue;Fu(s,r,{},es())}function qp(){return Kn(ah)}function f_(){return ln().memoizedState}function m_(){return ln().memoizedState}function qC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=es();s=to(l);var f=no(r,s,l);f!==null&&(ts(f,r,l),ku(f,r,l)),r={cache:_p()},s.payload=r;return}r=r.return}}function GC(s,r,l){var f=es();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Zd(s)?g_(r,l):(l=na(s,r,l,f),l!==null&&(ts(l,s,f),y_(l,r,f)))}function p_(s,r,l){var f=es();Fu(s,r,l,f)}function Fu(s,r,l,f){var v={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zd(s))g_(r,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var C=r.lastRenderedState,D=b(C,l);if(v.hasEagerState=!0,v.eagerState=D,di(D,C))return ll(s,r,v,0),Pt===null&&ol(),!1}catch{}finally{}if(l=na(s,r,v,f),l!==null)return ts(l,s,f),y_(l,r,f),!0}return!1}function Gp(s,r,l,f){if(f={lane:2,revertLane:Tg(),action:f,hasEagerState:!1,eagerState:null,next:null},Zd(s)){if(r)throw Error(i(479))}else r=na(s,l,f,2),r!==null&&ts(r,s,2)}function Zd(s){var r=s.alternate;return s===nt||r!==null&&r===nt}function g_(s,r){pc=Bd=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function y_(s,r,l){if((l&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,lr(s,l)}}var Wd={readContext:Kn,use:Fd,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},v_={readContext:Kn,use:Fd,useCallback:function(s,r){return Ni().memoizedState=[s,r===void 0?null:r],s},useContext:Kn,useEffect:t_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Gd(4194308,4,r_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Gd(4194308,4,s,r)},useInsertionEffect:function(s,r){Gd(4,2,s,r)},useMemo:function(s,r){var l=Ni();r=r===void 0?null:r;var f=s();if(gl){ni(!0);try{s()}finally{ni(!1)}}return l.memoizedState=[f,r],f},useReducer:function(s,r,l){var f=Ni();if(l!==void 0){var v=l(r);if(gl){ni(!0);try{l(r)}finally{ni(!1)}}}else v=r;return f.memoizedState=f.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},f.queue=s,s=s.dispatch=GC.bind(null,nt,s),[f.memoizedState,s]},useRef:function(s){var r=Ni();return s={current:s},r.memoizedState=s},useState:function(s){s=Up(s);var r=s.queue,l=p_.bind(null,nt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:zp,useDeferredValue:function(s,r){var l=Ni();return Fp(l,s,r)},useTransition:function(){var s=Up(!1);return s=u_.bind(null,nt,s.queue,!0,!1),Ni().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var f=nt,v=Ni();if($e){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Pt===null)throw Error(i(349));(pt&124)!==0||Ux(f,r,l)}v.memoizedState=l;var b={value:l,getSnapshot:r};return v.queue=b,t_(zx.bind(null,f,b,s),[s]),f.flags|=2048,yc(9,qd(),Bx.bind(null,f,b,l,r),null),l},useId:function(){var s=Ni(),r=Pt.identifierPrefix;if($e){var l=Z,f=R;l=(f&~(1<<32-On(f)-1)).toString(32)+l,r=""+r+"R"+l,l=zd++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=UC++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:qp,useFormState:Yx,useActionState:Yx,useOptimistic:function(s){var r=Ni();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Gp.bind(null,nt,!0,l),l.dispatch=r,[s,r]},useMemoCache:kp,useCacheRefresh:function(){return Ni().memoizedState=qC.bind(null,nt)}},x_={readContext:Kn,use:Fd,useCallback:o_,useContext:Kn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:l_,useReducer:Hd,useRef:e_,useState:function(){return Hd(ra)},useDebugValue:zp,useDeferredValue:function(s,r){var l=ln();return c_(l,At.memoizedState,s,r)},useTransition:function(){var s=Hd(ra)[0],r=ln().memoizedState;return[typeof s=="boolean"?s:Bu(s),r]},useSyncExternalStore:Vx,useId:f_,useHostTransitionStatus:qp,useFormState:Qx,useActionState:Qx,useOptimistic:function(s,r){var l=ln();return qx(l,At,s,r)},useMemoCache:kp,useCacheRefresh:m_},ZC={readContext:Kn,use:Fd,useCallback:o_,useContext:Kn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:l_,useReducer:Vp,useRef:e_,useState:function(){return Vp(ra)},useDebugValue:zp,useDeferredValue:function(s,r){var l=ln();return At===null?Fp(l,s,r):c_(l,At.memoizedState,s,r)},useTransition:function(){var s=Vp(ra)[0],r=ln().memoizedState;return[typeof s=="boolean"?s:Bu(s),r]},useSyncExternalStore:Vx,useId:f_,useHostTransitionStatus:qp,useFormState:Jx,useActionState:Jx,useOptimistic:function(s,r){var l=ln();return At!==null?qx(l,At,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:kp,useCacheRefresh:m_},vc=null,Hu=0;function Kd(s){var r=Hu;return Hu+=1,vc===null&&(vc=[]),jx(vc,s,r)}function qu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function $d(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function __(s){var r=s._init;return r(s._payload)}function b_(s){function r(J,Q){if(s){var ie=J.deletions;ie===null?(J.deletions=[Q],J.flags|=16):ie.push(Q)}}function l(J,Q){if(!s)return null;for(;Q!==null;)r(J,Q),Q=Q.sibling;return null}function f(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function v(J,Q){return J=vs(J,Q),J.index=0,J.sibling=null,J}function b(J,Q,ie){return J.index=ie,s?(ie=J.alternate,ie!==null?(ie=ie.index,ie<Q?(J.flags|=67108866,Q):ie):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function C(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function D(J,Q,ie,pe){return Q===null||Q.tag!==6?(Q=Pu(ie,J.mode,pe),Q.return=J,Q):(Q=v(Q,ie),Q.return=J,Q)}function W(J,Q,ie,pe){var Le=ie.type;return Le===P?me(J,Q,ie.props.children,pe,ie.key):Q!==null&&(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===j&&__(Le)===Q.type)?(Q=v(Q,ie.props),qu(Q,ie),Q.return=J,Q):(Q=ul(ie.type,ie.key,ie.props,null,J.mode,pe),qu(Q,ie),Q.return=J,Q)}function se(J,Q,ie,pe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=uc(ie,J.mode,pe),Q.return=J,Q):(Q=v(Q,ie.children||[]),Q.return=J,Q)}function me(J,Q,ie,pe,Le){return Q===null||Q.tag!==7?(Q=vr(ie,J.mode,pe,Le),Q.return=J,Q):(Q=v(Q,ie),Q.return=J,Q)}function ve(J,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Pu(""+Q,J.mode,ie),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return ie=ul(Q.type,Q.key,Q.props,null,J.mode,ie),qu(ie,Q),ie.return=J,ie;case I:return Q=uc(Q,J.mode,ie),Q.return=J,Q;case j:var pe=Q._init;return Q=pe(Q._payload),ve(J,Q,ie)}if(Be(Q)||Y(Q))return Q=vr(Q,J.mode,ie,null),Q.return=J,Q;if(typeof Q.then=="function")return ve(J,Kd(Q),ie);if(Q.$$typeof===$)return ve(J,Md(J,Q),ie);$d(J,Q)}return null}function le(J,Q,ie,pe){var Le=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Le!==null?null:D(J,Q,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return ie.key===Le?W(J,Q,ie,pe):null;case I:return ie.key===Le?se(J,Q,ie,pe):null;case j:return Le=ie._init,ie=Le(ie._payload),le(J,Q,ie,pe)}if(Be(ie)||Y(ie))return Le!==null?null:me(J,Q,ie,pe,null);if(typeof ie.then=="function")return le(J,Q,Kd(ie),pe);if(ie.$$typeof===$)return le(J,Q,Md(J,ie),pe);$d(J,ie)}return null}function he(J,Q,ie,pe,Le){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return J=J.get(ie)||null,D(Q,J,""+pe,Le);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case A:return J=J.get(pe.key===null?ie:pe.key)||null,W(Q,J,pe,Le);case I:return J=J.get(pe.key===null?ie:pe.key)||null,se(Q,J,pe,Le);case j:var st=pe._init;return pe=st(pe._payload),he(J,Q,ie,pe,Le)}if(Be(pe)||Y(pe))return J=J.get(ie)||null,me(Q,J,pe,Le,null);if(typeof pe.then=="function")return he(J,Q,ie,Kd(pe),Le);if(pe.$$typeof===$)return he(J,Q,ie,Md(Q,pe),Le);$d(Q,pe)}return null}function We(J,Q,ie,pe){for(var Le=null,st=null,Oe=Q,He=Q=0,Dn=null;Oe!==null&&He<ie.length;He++){Oe.index>He?(Dn=Oe,Oe=null):Dn=Oe.sibling;var vt=le(J,Oe,ie[He],pe);if(vt===null){Oe===null&&(Oe=Dn);break}s&&Oe&&vt.alternate===null&&r(J,Oe),Q=b(vt,Q,He),st===null?Le=vt:st.sibling=vt,st=vt,Oe=Dn}if(He===ie.length)return l(J,Oe),$e&&te(J,He),Le;if(Oe===null){for(;He<ie.length;He++)Oe=ve(J,ie[He],pe),Oe!==null&&(Q=b(Oe,Q,He),st===null?Le=Oe:st.sibling=Oe,st=Oe);return $e&&te(J,He),Le}for(Oe=f(Oe);He<ie.length;He++)Dn=he(Oe,J,He,ie[He],pe),Dn!==null&&(s&&Dn.alternate!==null&&Oe.delete(Dn.key===null?He:Dn.key),Q=b(Dn,Q,He),st===null?Le=Dn:st.sibling=Dn,st=Dn);return s&&Oe.forEach(function(_o){return r(J,_o)}),$e&&te(J,He),Le}function Ue(J,Q,ie,pe){if(ie==null)throw Error(i(151));for(var Le=null,st=null,Oe=Q,He=Q=0,Dn=null,vt=ie.next();Oe!==null&&!vt.done;He++,vt=ie.next()){Oe.index>He?(Dn=Oe,Oe=null):Dn=Oe.sibling;var _o=le(J,Oe,vt.value,pe);if(_o===null){Oe===null&&(Oe=Dn);break}s&&Oe&&_o.alternate===null&&r(J,Oe),Q=b(_o,Q,He),st===null?Le=_o:st.sibling=_o,st=_o,Oe=Dn}if(vt.done)return l(J,Oe),$e&&te(J,He),Le;if(Oe===null){for(;!vt.done;He++,vt=ie.next())vt=ve(J,vt.value,pe),vt!==null&&(Q=b(vt,Q,He),st===null?Le=vt:st.sibling=vt,st=vt);return $e&&te(J,He),Le}for(Oe=f(Oe);!vt.done;He++,vt=ie.next())vt=he(Oe,J,He,vt.value,pe),vt!==null&&(s&&vt.alternate!==null&&Oe.delete(vt.key===null?He:vt.key),Q=b(vt,Q,He),st===null?Le=vt:st.sibling=vt,st=vt);return s&&Oe.forEach(function(WR){return r(J,WR)}),$e&&te(J,He),Le}function Ct(J,Q,ie,pe){if(typeof ie=="object"&&ie!==null&&ie.type===P&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:e:{for(var Le=ie.key;Q!==null;){if(Q.key===Le){if(Le=ie.type,Le===P){if(Q.tag===7){l(J,Q.sibling),pe=v(Q,ie.props.children),pe.return=J,J=pe;break e}}else if(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===j&&__(Le)===Q.type){l(J,Q.sibling),pe=v(Q,ie.props),qu(pe,ie),pe.return=J,J=pe;break e}l(J,Q);break}else r(J,Q);Q=Q.sibling}ie.type===P?(pe=vr(ie.props.children,J.mode,pe,ie.key),pe.return=J,J=pe):(pe=ul(ie.type,ie.key,ie.props,null,J.mode,pe),qu(pe,ie),pe.return=J,J=pe)}return C(J);case I:e:{for(Le=ie.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){l(J,Q.sibling),pe=v(Q,ie.children||[]),pe.return=J,J=pe;break e}else{l(J,Q);break}else r(J,Q);Q=Q.sibling}pe=uc(ie,J.mode,pe),pe.return=J,J=pe}return C(J);case j:return Le=ie._init,ie=Le(ie._payload),Ct(J,Q,ie,pe)}if(Be(ie))return We(J,Q,ie,pe);if(Y(ie)){if(Le=Y(ie),typeof Le!="function")throw Error(i(150));return ie=Le.call(ie),Ue(J,Q,ie,pe)}if(typeof ie.then=="function")return Ct(J,Q,Kd(ie),pe);if(ie.$$typeof===$)return Ct(J,Q,Md(J,ie),pe);$d(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(l(J,Q.sibling),pe=v(Q,ie),pe.return=J,J=pe):(l(J,Q),pe=Pu(ie,J.mode,pe),pe.return=J,J=pe),C(J)):l(J,Q)}return function(J,Q,ie,pe){try{Hu=0;var Le=Ct(J,Q,ie,pe);return vc=null,Le}catch(Oe){if(Oe===Lu||Oe===Od)throw Oe;var st=gi(29,Oe,null,J.mode);return st.lanes=pe,st.return=J,st}finally{}}}var xc=b_(!0),w_=b_(!1),_s=ce(null),_r=null;function so(s){var r=s.alternate;we(xn,xn.current&1),we(_s,s),_r===null&&(r===null||mc.current!==null||r.memoizedState!==null)&&(_r=s)}function T_(s){if(s.tag===22){if(we(xn,xn.current),we(_s,s),_r===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(_r=s)}}else ro()}function ro(){we(xn,xn.current),we(_s,_s.current)}function aa(s){_e(_s),_r===s&&(_r=null),_e(xn)}var xn=ce(0);function Yd(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Mg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zp(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:_({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Wp={enqueueSetState:function(s,r,l){s=s._reactInternals;var f=es(),v=to(f);v.payload=r,l!=null&&(v.callback=l),r=no(s,v,f),r!==null&&(ts(r,s,f),ku(r,s,f))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=es(),v=to(f);v.tag=1,v.payload=r,l!=null&&(v.callback=l),r=no(s,v,f),r!==null&&(ts(r,s,f),ku(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=es(),f=to(l);f.tag=2,r!=null&&(f.callback=r),r=no(s,f,l),r!==null&&(ts(r,s,l),ku(r,s,l))}};function E_(s,r,l,f,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,C):r.prototype&&r.prototype.isPureReactComponent?!fi(l,f)||!fi(v,b):!0}function S_(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&Wp.enqueueReplaceState(r,r.state,null)}function yl(s,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(s=s.defaultProps){l===r&&(l=_({},l));for(var v in s)l[v]===void 0&&(l[v]=s[v])}return l}var Qd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function A_(s){Qd(s)}function N_(s){console.error(s)}function C_(s){Qd(s)}function Xd(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function R_(s,r,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Kp(s,r,l){return l=to(l),l.tag=3,l.payload={element:null},l.callback=function(){Xd(s,r)},l}function j_(s){return s=to(s),s.tag=3,s}function P_(s,r,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;s.payload=function(){return v(b)},s.callback=function(){R_(r,l,f)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){R_(r,l,f),typeof v!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function WC(s,r,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&fl(r,l,v,!0),l=_s.current,l!==null){switch(l.tag){case 13:return _r===null?vg():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===Tp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),_g(s,f,v)),!1;case 22:return l.flags|=65536,f===Tp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),_g(s,f,v)),!1}throw Error(i(435,l.tag))}return _g(s,f,v),vg(),!1}if($e)return r=_s.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,f!==jn&&(s=Error(i(422),{cause:f}),Ja(mi(s,l)))):(f!==jn&&(r=Error(i(423),{cause:f}),Ja(mi(r,l))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,f=mi(f,l),v=Kp(s.stateNode,f,v),Ap(s,v),$t!==4&&($t=2)),!1;var b=Error(i(520),{cause:f});if(b=mi(b,l),Qu===null?Qu=[b]:Qu.push(b),$t!==4&&($t=2),r===null)return!0;f=mi(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=v&-v,l.lanes|=s,s=Kp(l.stateNode,f,s),Ap(l,s),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ho===null||!ho.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=j_(v),P_(v,s,l,f),Ap(l,v),!1}l=l.return}while(l!==null);return!1}var I_=Error(i(461)),Pn=!1;function Vn(s,r,l,f){r.child=s===null?w_(r,null,l,f):xc(r,s.child,l,f)}function D_(s,r,l,f,v){l=l.render;var b=r.ref;if("ref"in f){var C={};for(var D in f)D!=="ref"&&(C[D]=f[D])}else C=f;return ml(r),f=Pp(s,r,l,C,b,v),D=Ip(),s!==null&&!Pn?(Dp(s,r,v),oa(s,r,v)):($e&&D&&be(r),r.flags|=1,Vn(s,r,f,v),r.child)}function L_(s,r,l,f,v){if(s===null){var b=l.type;return typeof b=="function"&&!cc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,M_(s,r,b,f,v)):(s=ul(l.type,null,f,r,r.mode,v),s.ref=r.ref,s.return=r,r.child=s)}if(b=s.child,!ng(s,v)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:fi,l(C,f)&&s.ref===r.ref)return oa(s,r,v)}return r.flags|=1,s=vs(b,f),s.ref=r.ref,s.return=r,r.child=s}function M_(s,r,l,f,v){if(s!==null){var b=s.memoizedProps;if(fi(b,f)&&s.ref===r.ref)if(Pn=!1,r.pendingProps=f=b,ng(s,v))(s.flags&131072)!==0&&(Pn=!0);else return r.lanes=s.lanes,oa(s,r,v)}return $p(s,r,l,f,v)}function k_(s,r,l){var f=r.pendingProps,v=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=b!==null?b.baseLanes|l:l,s!==null){for(v=r.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;r.childLanes=b&~f}else r.childLanes=0,r.child=null;return O_(s,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&kd(r,b!==null?b.cachePool:null),b!==null?Mx(r,b):Cp(),T_(r);else return r.lanes=r.childLanes=536870912,O_(s,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(kd(r,b.cachePool),Mx(r,b),ro(),r.memoizedState=null):(s!==null&&kd(r,null),Cp(),ro());return Vn(s,r,v,l),r.child}function O_(s,r,l,f){var v=wp();return v=v===null?null:{parent:vn._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},s!==null&&kd(r,null),Cp(),T_(r),s!==null&&fl(s,r,f,!0),null}function Jd(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function $p(s,r,l,f,v){return ml(r),l=Pp(s,r,l,f,void 0,v),f=Ip(),s!==null&&!Pn?(Dp(s,r,v),oa(s,r,v)):($e&&f&&be(r),r.flags|=1,Vn(s,r,l,v),r.child)}function V_(s,r,l,f,v,b){return ml(r),r.updateQueue=null,l=Ox(r,f,l,v),kx(s),f=Ip(),s!==null&&!Pn?(Dp(s,r,b),oa(s,r,b)):($e&&f&&be(r),r.flags|=1,Vn(s,r,l,b),r.child)}function U_(s,r,l,f,v){if(ml(r),r.stateNode===null){var b=ia,C=l.contextType;typeof C=="object"&&C!==null&&(b=Kn(C)),b=new l(f,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Wp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=f,b.state=r.memoizedState,b.refs={},Ep(r),C=l.contextType,b.context=typeof C=="object"&&C!==null?Kn(C):ia,b.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Zp(r,l,C,f),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Wp.enqueueReplaceState(b,b.state,null),Vu(r,f,b,v),Ou(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){b=r.stateNode;var D=r.memoizedProps,W=yl(l,D);b.props=W;var se=b.context,me=l.contextType;C=ia,typeof me=="object"&&me!==null&&(C=Kn(me));var ve=l.getDerivedStateFromProps;me=typeof ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||se!==C)&&S_(r,b,f,C),eo=!1;var le=r.memoizedState;b.state=le,Vu(r,f,b,v),Ou(),se=r.memoizedState,D||le!==se||eo?(typeof ve=="function"&&(Zp(r,l,ve,f),se=r.memoizedState),(W=eo||E_(r,l,W,f,le,se,C))?(me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=se),b.props=f,b.state=se,b.context=C,f=W):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{b=r.stateNode,Sp(s,r),C=r.memoizedProps,me=yl(l,C),b.props=me,ve=r.pendingProps,le=b.context,se=l.contextType,W=ia,typeof se=="object"&&se!==null&&(W=Kn(se)),D=l.getDerivedStateFromProps,(se=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ve||le!==W)&&S_(r,b,f,W),eo=!1,le=r.memoizedState,b.state=le,Vu(r,f,b,v),Ou();var he=r.memoizedState;C!==ve||le!==he||eo||s!==null&&s.dependencies!==null&&Ld(s.dependencies)?(typeof D=="function"&&(Zp(r,l,D,f),he=r.memoizedState),(me=eo||E_(r,l,me,f,le,he,W)||s!==null&&s.dependencies!==null&&Ld(s.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,he,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,he,W)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&le===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&le===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=he),b.props=f,b.state=he,b.context=W,f=me):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&le===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&le===s.memoizedState||(r.flags|=1024),f=!1)}return b=f,Jd(s,r),f=(r.flags&128)!==0,b||f?(b=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,s!==null&&f?(r.child=xc(r,s.child,null,v),r.child=xc(r,null,l,v)):Vn(s,r,l,v),r.memoizedState=b.state,s=r.child):s=oa(s,r,v),s}function B_(s,r,l,f){return Xa(),r.flags|=256,Vn(s,r,l,f),r.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(s){return{baseLanes:s,cachePool:Nx()}}function Xp(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=bs),s}function z_(s,r,l){var f=r.pendingProps,v=!1,b=(r.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(xn.current&2)!==0),C&&(v=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if($e){if(v?so(r):ro(),$e){var D=Me,W;if(W=D){e:{for(W=D,D=qt;W.nodeType!==8;){if(!D){D=null;break e}if(W=Ys(W.nextSibling),W===null){D=null;break e}}D=W}D!==null?(r.memoizedState={dehydrated:D,treeContext:S!==null?{id:R,overflow:Z}:null,retryLane:536870912,hydrationErrors:null},W=gi(18,null,null,0),W.stateNode=D,W.return=r,r.child=W,Ie=r,Me=null,W=!0):W=!1}W||Ai(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Mg(D)?r.lanes=32:r.lanes=536870912,null;aa(r)}return D=f.children,f=f.fallback,v?(ro(),v=r.mode,D=ef({mode:"hidden",children:D},v),f=vr(f,v,l,null),D.return=r,f.return=r,D.sibling=f,r.child=D,v=r.child,v.memoizedState=Qp(l),v.childLanes=Xp(s,C,l),r.memoizedState=Yp,f):(so(r),Jp(r,D))}if(W=s.memoizedState,W!==null&&(D=W.dehydrated,D!==null)){if(b)r.flags&256?(so(r),r.flags&=-257,r=eg(s,r,l)):r.memoizedState!==null?(ro(),r.child=s.child,r.flags|=128,r=null):(ro(),v=f.fallback,D=r.mode,f=ef({mode:"visible",children:f.children},D),v=vr(v,D,l,null),v.flags|=2,f.return=r,v.return=r,f.sibling=v,r.child=f,xc(r,s.child,null,l),f=r.child,f.memoizedState=Qp(l),f.childLanes=Xp(s,C,l),r.memoizedState=Yp,r=v);else if(so(r),Mg(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var se=C.dgst;C=se,f=Error(i(419)),f.stack="",f.digest=C,Ja({value:f,source:null,stack:null}),r=eg(s,r,l)}else if(Pn||fl(s,r,l,!1),C=(l&s.childLanes)!==0,Pn||C){if(C=Pt,C!==null&&(f=l&-l,f=(f&42)!==0?1:Wo(f),f=(f&(C.suspendedLanes|l))!==0?0:f,f!==0&&f!==W.retryLane))throw W.retryLane=f,Ya(s,f),ts(C,s,f),I_;D.data==="$?"||vg(),r=eg(s,r,l)}else D.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=W.treeContext,Me=Ys(D.nextSibling),Ie=r,$e=!0,jt=null,qt=!1,s!==null&&(y[w++]=R,y[w++]=Z,y[w++]=S,R=s.id,Z=s.overflow,S=r),r=Jp(r,f.children),r.flags|=4096);return r}return v?(ro(),v=f.fallback,D=r.mode,W=s.child,se=W.sibling,f=vs(W,{mode:"hidden",children:f.children}),f.subtreeFlags=W.subtreeFlags&65011712,se!==null?v=vs(se,v):(v=vr(v,D,l,null),v.flags|=2),v.return=r,f.return=r,f.sibling=v,r.child=f,f=v,v=r.child,D=s.child.memoizedState,D===null?D=Qp(l):(W=D.cachePool,W!==null?(se=vn._currentValue,W=W.parent!==se?{parent:se,pool:se}:W):W=Nx(),D={baseLanes:D.baseLanes|l,cachePool:W}),v.memoizedState=D,v.childLanes=Xp(s,C,l),r.memoizedState=Yp,f):(so(r),l=s.child,s=l.sibling,l=vs(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function Jp(s,r){return r=ef({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function ef(s,r){return s=gi(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function eg(s,r,l){return xc(r,s.child,null,l),s=Jp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function F_(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),dl(s.return,r,l)}function tg(s,r,l,f,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=v)}function H_(s,r,l){var f=r.pendingProps,v=f.revealOrder,b=f.tail;if(Vn(s,r,f.children,l),f=xn.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&F_(s,l,r);else if(s.tag===19)F_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(we(xn,f),v){case"forwards":for(l=r.child,v=null;l!==null;)s=l.alternate,s!==null&&Yd(s)===null&&(v=l),l=l.sibling;l=v,l===null?(v=r.child,r.child=null):(v=l.sibling,l.sibling=null),tg(r,!1,v,l,b);break;case"backwards":for(l=null,v=r.child,r.child=null;v!==null;){if(s=v.alternate,s!==null&&Yd(s)===null){r.child=v;break}s=v.sibling,v.sibling=l,l=v,v=s}tg(r,!0,l,null,b);break;case"together":tg(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function oa(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),uo|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(fl(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=vs(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=vs(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function ng(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ld(s)))}function KC(s,r,l){switch(r.tag){case 3:qe(r,r.stateNode.containerInfo),xr(r,vn,s.memoizedState.cache),Xa();break;case 27:case 5:Is(r);break;case 4:qe(r,r.stateNode.containerInfo);break;case 10:xr(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(so(r),r.flags|=128,null):(l&r.child.childLanes)!==0?z_(s,r,l):(so(r),s=oa(s,r,l),s!==null?s.sibling:null);so(r);break;case 19:var v=(s.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(fl(s,r,l,!1),f=(l&r.childLanes)!==0),v){if(f)return H_(s,r,l);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),we(xn,xn.current),f)break;return null;case 22:case 23:return r.lanes=0,k_(s,r,l);case 24:xr(r,vn,s.memoizedState.cache)}return oa(s,r,l)}function q_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Pn=!0;else{if(!ng(s,l)&&(r.flags&128)===0)return Pn=!1,KC(s,r,l);Pn=(s.flags&131072)!==0}else Pn=!1,$e&&(r.flags&1048576)!==0&&de(r,d,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var f=r.elementType,v=f._init;if(f=v(f._payload),r.type=f,typeof f=="function")cc(f)?(s=yl(f,s),r.tag=1,r=U_(null,r,f,s,l)):(r.tag=0,r=$p(null,r,f,s,l));else{if(f!=null){if(v=f.$$typeof,v===X){r.tag=11,r=D_(null,r,f,s,l);break e}else if(v===O){r.tag=14,r=L_(null,r,f,s,l);break e}}throw r=ke(f)||f,Error(i(306,r,""))}}return r;case 0:return $p(s,r,r.type,r.pendingProps,l);case 1:return f=r.type,v=yl(f,r.pendingProps),U_(s,r,f,v,l);case 3:e:{if(qe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var b=r.memoizedState;v=b.element,Sp(s,r),Vu(r,f,null,l);var C=r.memoizedState;if(f=C.cache,xr(r,vn,f),f!==b.cache&&hc(r,[vn],l,!0),Ou(),f=C.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=B_(s,r,f,l);break e}else if(f!==v){v=mi(Error(i(424)),r),Ja(v),r=B_(s,r,f,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Me=Ys(s.firstChild),Ie=r,$e=!0,jt=null,qt=!0,l=w_(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xa(),f===v){r=oa(s,r,l);break e}Vn(s,r,f,l)}r=r.child}return r;case 26:return Jd(s,r),s===null?(l=Kb(r.type,null,r.pendingProps,null))?r.memoizedState=l:$e||(l=r.type,s=r.pendingProps,f=pf(Te.current).createElement(l),f[zt]=r,f[pn]=s,Bn(f,l,s),Ft(f),r.stateNode=f):r.memoizedState=Kb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Is(r),s===null&&$e&&(f=r.stateNode=Gb(r.type,r.pendingProps,Te.current),Ie=r,qt=!0,v=Me,po(r.type)?(kg=v,Me=Ys(f.firstChild)):Me=v),Vn(s,r,r.pendingProps.children,l),Jd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&$e&&((v=f=Me)&&(f=wR(f,r.type,r.pendingProps,qt),f!==null?(r.stateNode=f,Ie=r,Me=Ys(f.firstChild),qt=!1,v=!0):v=!1),v||Ai(r)),Is(r),v=r.type,b=r.pendingProps,C=s!==null?s.memoizedProps:null,f=b.children,Ig(v,b)?f=null:C!==null&&Ig(v,C)&&(r.flags|=32),r.memoizedState!==null&&(v=Pp(s,r,BC,null,null,l),ah._currentValue=v),Jd(s,r),Vn(s,r,f,l),r.child;case 6:return s===null&&$e&&((s=l=Me)&&(l=TR(l,r.pendingProps,qt),l!==null?(r.stateNode=l,Ie=r,Me=null,s=!0):s=!1),s||Ai(r)),null;case 13:return z_(s,r,l);case 4:return qe(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=xc(r,null,f,l):Vn(s,r,f,l),r.child;case 11:return D_(s,r,r.type,r.pendingProps,l);case 7:return Vn(s,r,r.pendingProps,l),r.child;case 8:return Vn(s,r,r.pendingProps.children,l),r.child;case 12:return Vn(s,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,xr(r,r.type,f.value),Vn(s,r,f.children,l),r.child;case 9:return v=r.type._context,f=r.pendingProps.children,ml(r),v=Kn(v),f=f(v),r.flags|=1,Vn(s,r,f,l),r.child;case 14:return L_(s,r,r.type,r.pendingProps,l);case 15:return M_(s,r,r.type,r.pendingProps,l);case 19:return H_(s,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},s===null?(l=ef(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=vs(s.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return k_(s,r,l);case 24:return ml(r),f=Kn(vn),s===null?(v=wp(),v===null&&(v=Pt,b=_p(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),r.memoizedState={parent:f,cache:v},Ep(r),xr(r,vn,v)):((s.lanes&l)!==0&&(Sp(s,r),Vu(r,null,null,l),Ou()),v=s.memoizedState,b=r.memoizedState,v.parent!==f?(v={parent:f,cache:f},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),xr(r,vn,f)):(f=b.cache,xr(r,vn,f),f!==v.cache&&hc(r,[vn],l,!0))),Vn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function la(s){s.flags|=4}function G_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Jb(r)){if(r=_s.current,r!==null&&((pt&4194048)===pt?_r!==null:(pt&62914560)!==pt&&(pt&536870912)===0||r!==_r))throw Mu=Tp,Cx;s.flags|=8192}}function tf(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ls():536870912,s.lanes|=r,Tc|=r)}function Gu(s,r){if(!$e)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Gt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var v=s.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function $C(s,r,l){var f=r.pendingProps;switch(Ne(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return Gt(r),null;case 3:return l=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Ks(vn),fn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(hl(r)?la(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dd())),Gt(r),null;case 26:return l=r.memoizedState,s===null?(la(r),l!==null?(Gt(r),G_(r,l)):(Gt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(la(r),Gt(r),G_(r,l)):(Gt(r),r.flags&=-16777217):(s.memoizedProps!==f&&la(r),Gt(r),r.flags&=-16777217),null;case 27:ar(r),l=Te.current;var v=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&la(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}s=Se.current,hl(r)?Pd(r):(s=Gb(v,f,l),r.stateNode=s,la(r))}return Gt(r),null;case 5:if(ar(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&la(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}if(s=Se.current,hl(r))Pd(r);else{switch(v=pf(Te.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?v.createElement(l,{is:f.is}):v.createElement(l)}}s[zt]=r,s[pn]=f;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=s;e:switch(Bn(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&la(r)}}return Gt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&la(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=Te.current,hl(r)){if(s=r.stateNode,l=r.memoizedProps,f=null,v=Ie,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}s[zt]=r,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Vb(s.nodeValue,l)),s||Ai(r)}else s=pf(s).createTextNode(f),s[zt]=r,r.stateNode=s}return Gt(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=hl(r),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[zt]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),v=!1}else v=Dd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(aa(r),r):(aa(r),null)}if(aa(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=r.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),tf(r,r.updateQueue),Gt(r),null;case 4:return fn(),s===null&&Ng(r.stateNode.containerInfo),Gt(r),null;case 10:return Ks(r.type),Gt(r),null;case 19:if(_e(xn),v=r.memoizedState,v===null)return Gt(r),null;if(f=(r.flags&128)!==0,b=v.rendering,b===null)if(f)Gu(v,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(b=Yd(s),b!==null){for(r.flags|=128,Gu(v,!1),s=b.updateQueue,r.updateQueue=s,tf(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)ju(l,s),l=l.sibling;return we(xn,xn.current&1|2),r.child}s=s.sibling}v.tail!==null&&wn()>rf&&(r.flags|=128,f=!0,Gu(v,!1),r.lanes=4194304)}else{if(!f)if(s=Yd(b),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,tf(r,s),Gu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!$e)return Gt(r),null}else 2*wn()-v.renderingStartTime>rf&&l!==536870912&&(r.flags|=128,f=!0,Gu(v,!1),r.lanes=4194304);v.isBackwards?(b.sibling=r.child,r.child=b):(s=v.last,s!==null?s.sibling=b:r.child=b,v.last=b)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=wn(),r.sibling=null,s=xn.current,we(xn,f?s&1|2:s&1),r):(Gt(r),null);case 22:case 23:return aa(r),Rp(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),l=r.updateQueue,l!==null&&tf(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),s!==null&&_e(pl),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ks(vn),Gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function YC(s,r){switch(Ne(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ks(vn),fn(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return ar(r),null;case 13:if(aa(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Xa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return _e(xn),null;case 4:return fn(),null;case 10:return Ks(r.type),null;case 22:case 23:return aa(r),Rp(),s!==null&&_e(pl),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ks(vn),null;case 25:return null;default:return null}}function Z_(s,r){switch(Ne(r),r.tag){case 3:Ks(vn),fn();break;case 26:case 27:case 5:ar(r);break;case 4:fn();break;case 13:aa(r);break;case 19:_e(xn);break;case 10:Ks(r.type);break;case 22:case 23:aa(r),Rp(),s!==null&&_e(pl);break;case 24:Ks(vn)}}function Zu(s,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&s)===s){f=void 0;var b=l.create,C=l.inst;f=b(),C.destroy=f}l=l.next}while(l!==v)}}catch(D){Rt(r,r.return,D)}}function ao(s,r,l){try{var f=r.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&s)===s){var C=f.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,v=r;var W=l,se=D;try{se()}catch(me){Rt(v,W,me)}}}f=f.next}while(f!==b)}}catch(me){Rt(r,r.return,me)}}function W_(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Lx(r,l)}catch(f){Rt(s,s.return,f)}}}function K_(s,r,l){l.props=yl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){Rt(s,r,f)}}function Wu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(v){Rt(s,r,v)}}function br(s,r){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Rt(s,r,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Rt(s,r,v)}else l.current=null}function $_(s){var r=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Rt(s,s.return,v)}}function ig(s,r,l){try{var f=s.stateNode;yR(f,s.type,l,r),f[pn]=r}catch(v){Rt(s,s.return,v)}}function Y_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&po(s.type)||s.tag===4}function sg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Y_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&po(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rg(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=mf));else if(f!==4&&(f===27&&po(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(rg(s,r,l),s=s.sibling;s!==null;)rg(s,r,l),s=s.sibling}function nf(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(f===27&&po(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(nf(s,r,l),s=s.sibling;s!==null;)nf(s,r,l),s=s.sibling}function Q_(s){var r=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Bn(r,f,l),r[zt]=s,r[pn]=l}catch(b){Rt(s,s.return,b)}}var ca=!1,nn=!1,ag=!1,X_=typeof WeakSet=="function"?WeakSet:Set,In=null;function QC(s,r){if(s=s.containerInfo,jg=bf,s=sl(s),rl(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,D=-1,W=-1,se=0,me=0,ve=s,le=null;t:for(;;){for(var he;ve!==l||v!==0&&ve.nodeType!==3||(D=C+v),ve!==b||f!==0&&ve.nodeType!==3||(W=C+f),ve.nodeType===3&&(C+=ve.nodeValue.length),(he=ve.firstChild)!==null;)le=ve,ve=he;for(;;){if(ve===s)break t;if(le===l&&++se===v&&(D=C),le===b&&++me===f&&(W=C),(he=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=he}l=D===-1||W===-1?null:{start:D,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pg={focusedElem:s,selectionRange:l},bf=!1,In=r;In!==null;)if(r=In,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,In=s;else for(;In!==null;){switch(r=In,b=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,l=r,v=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var We=yl(l.type,v,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(We,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){Rt(l,l.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Lg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Lg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,In=s;break}In=r.return}}function J_(s,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:oo(s,l),f&4&&Zu(5,l);break;case 1:if(oo(s,l),f&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){Rt(l,l.return,C)}else{var v=yl(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(v,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Rt(l,l.return,C)}}f&64&&W_(l),f&512&&Wu(l,l.return);break;case 3:if(oo(s,l),f&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Lx(s,r)}catch(C){Rt(l,l.return,C)}}break;case 27:r===null&&f&4&&Q_(l);case 26:case 5:oo(s,l),r===null&&f&4&&$_(l),f&512&&Wu(l,l.return);break;case 12:oo(s,l);break;case 13:oo(s,l),f&4&&nb(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=aR.bind(null,l),ER(s,l))));break;case 22:if(f=l.memoizedState!==null||ca,!f){r=r!==null&&r.memoizedState!==null||nn,v=ca;var b=nn;ca=f,(nn=r)&&!b?lo(s,l,(l.subtreeFlags&8772)!==0):oo(s,l),ca=v,nn=b}break;case 30:break;default:oo(s,l)}}function eb(s){var r=s.alternate;r!==null&&(s.alternate=null,eb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Br(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Vt=null,Ci=!1;function ua(s,r,l){for(l=l.child;l!==null;)tb(s,r,l),l=l.sibling}function tb(s,r,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(rs,l)}catch{}switch(l.tag){case 26:nn||br(l,r),ua(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||br(l,r);var f=Vt,v=Ci;po(l.type)&&(Vt=l.stateNode,Ci=!1),ua(s,r,l),nh(l.stateNode),Vt=f,Ci=v;break;case 5:nn||br(l,r);case 6:if(f=Vt,v=Ci,Vt=null,ua(s,r,l),Vt=f,Ci=v,Vt!==null)if(Ci)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(l.stateNode)}catch(b){Rt(l,r,b)}else try{Vt.removeChild(l.stateNode)}catch(b){Rt(l,r,b)}break;case 18:Vt!==null&&(Ci?(s=Vt,Hb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),uh(s)):Hb(Vt,l.stateNode));break;case 4:f=Vt,v=Ci,Vt=l.stateNode.containerInfo,Ci=!0,ua(s,r,l),Vt=f,Ci=v;break;case 0:case 11:case 14:case 15:nn||ao(2,l,r),nn||ao(4,l,r),ua(s,r,l);break;case 1:nn||(br(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&K_(l,r,f)),ua(s,r,l);break;case 21:ua(s,r,l);break;case 22:nn=(f=nn)||l.memoizedState!==null,ua(s,r,l),nn=f;break;default:ua(s,r,l)}}function nb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uh(s)}catch(l){Rt(r,r.return,l)}}function XC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new X_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new X_),r;default:throw Error(i(435,s.tag))}}function og(s,r){var l=XC(s);r.forEach(function(f){var v=oR.bind(null,s,f);l.has(f)||(l.add(f),f.then(v,v))})}function Qi(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],b=s,C=r,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(po(D.type)){Vt=D.stateNode,Ci=!1;break e}break;case 5:Vt=D.stateNode,Ci=!1;break e;case 3:case 4:Vt=D.stateNode.containerInfo,Ci=!0;break e}D=D.return}if(Vt===null)throw Error(i(160));tb(b,C,v),Vt=null,Ci=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ib(r,s),r=r.sibling}var $s=null;function ib(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qi(r,s),Xi(s),f&4&&(ao(3,s,s.return),Zu(3,s),ao(5,s,s.return));break;case 1:Qi(r,s),Xi(s),f&512&&(nn||l===null||br(l,l.return)),f&64&&ca&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=$s;if(Qi(r,s),Xi(s),f&512&&(nn||l===null||br(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Os]||b[zt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),Bn(b,f,l),b[zt]=s,Ft(b),f=b;break e;case"link":var C=Qb("link","href",v).get(f+(l.href||""));if(C){for(var D=0;D<C.length;D++)if(b=C[D],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(D,1);break t}}b=v.createElement(f),Bn(b,f,l),v.head.appendChild(b);break;case"meta":if(C=Qb("meta","content",v).get(f+(l.content||""))){for(D=0;D<C.length;D++)if(b=C[D],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(D,1);break t}}b=v.createElement(f),Bn(b,f,l),v.head.appendChild(b);break;default:throw Error(i(468,f))}b[zt]=s,Ft(b),f=b}s.stateNode=f}else Xb(v,s.type,s.stateNode);else s.stateNode=Yb(v,f,s.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?Xb(v,s.type,s.stateNode):Yb(v,f,s.memoizedProps)):f===null&&s.stateNode!==null&&ig(s,s.memoizedProps,l.memoizedProps)}break;case 27:Qi(r,s),Xi(s),f&512&&(nn||l===null||br(l,l.return)),l!==null&&f&4&&ig(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Qi(r,s),Xi(s),f&512&&(nn||l===null||br(l,l.return)),s.flags&32){v=s.stateNode;try{Sn(v,"")}catch(he){Rt(s,s.return,he)}}f&4&&s.stateNode!=null&&(v=s.memoizedProps,ig(s,v,l!==null?l.memoizedProps:v)),f&1024&&(ag=!0);break;case 6:if(Qi(r,s),Xi(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(he){Rt(s,s.return,he)}}break;case 3:if(vf=null,v=$s,$s=gf(r.containerInfo),Qi(r,s),$s=v,Xi(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{uh(r.containerInfo)}catch(he){Rt(s,s.return,he)}ag&&(ag=!1,sb(s));break;case 4:f=$s,$s=gf(s.stateNode.containerInfo),Qi(r,s),Xi(s),$s=f;break;case 12:Qi(r,s),Xi(s);break;case 13:Qi(r,s),Xi(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fg=wn()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,og(s,f)));break;case 22:v=s.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,se=ca,me=nn;if(ca=se||v,nn=me||W,Qi(r,s),nn=me,ca=se,Xi(s),f&8192)e:for(r=s.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(l===null||W||ca||nn||vl(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){W=l=r;try{if(b=W.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=W.stateNode;var ve=W.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;D.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(he){Rt(W,W.return,he)}}}else if(r.tag===6){if(l===null){W=r;try{W.stateNode.nodeValue=v?"":W.memoizedProps}catch(he){Rt(W,W.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,og(s,l))));break;case 19:Qi(r,s),Xi(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,og(s,f)));break;case 30:break;case 21:break;default:Qi(r,s),Xi(s)}}function Xi(s){var r=s.flags;if(r&2){try{for(var l,f=s.return;f!==null;){if(Y_(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,b=sg(s);nf(s,b,v);break;case 5:var C=l.stateNode;l.flags&32&&(Sn(C,""),l.flags&=-33);var D=sg(s);nf(s,D,C);break;case 3:case 4:var W=l.stateNode.containerInfo,se=sg(s);rg(s,se,W);break;default:throw Error(i(161))}}catch(me){Rt(s,s.return,me)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function sb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;sb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function oo(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)J_(s,r.alternate,r),r=r.sibling}function vl(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ao(4,r,r.return),vl(r);break;case 1:br(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&K_(r,r.return,l),vl(r);break;case 27:nh(r.stateNode);case 26:case 5:br(r,r.return),vl(r);break;case 22:r.memoizedState===null&&vl(r);break;case 30:vl(r);break;default:vl(r)}s=s.sibling}}function lo(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,v=s,b=r,C=b.flags;switch(b.tag){case 0:case 11:case 15:lo(v,b,l),Zu(4,b);break;case 1:if(lo(v,b,l),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){Rt(f,f.return,se)}if(f=b,v=f.updateQueue,v!==null){var D=f.stateNode;try{var W=v.shared.hiddenCallbacks;if(W!==null)for(v.shared.hiddenCallbacks=null,v=0;v<W.length;v++)Dx(W[v],D)}catch(se){Rt(f,f.return,se)}}l&&C&64&&W_(b),Wu(b,b.return);break;case 27:Q_(b);case 26:case 5:lo(v,b,l),l&&f===null&&C&4&&$_(b),Wu(b,b.return);break;case 12:lo(v,b,l);break;case 13:lo(v,b,l),l&&C&4&&nb(v,b);break;case 22:b.memoizedState===null&&lo(v,b,l),Wu(b,b.return);break;case 30:break;default:lo(v,b,l)}r=r.sibling}}function lg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Iu(l))}function cg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Iu(s))}function wr(s,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rb(s,r,l,f),r=r.sibling}function rb(s,r,l,f){var v=r.flags;switch(r.tag){case 0:case 11:case 15:wr(s,r,l,f),v&2048&&Zu(9,r);break;case 1:wr(s,r,l,f);break;case 3:wr(s,r,l,f),v&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Iu(s)));break;case 12:if(v&2048){wr(s,r,l,f),s=r.stateNode;try{var b=r.memoizedProps,C=b.id,D=b.onPostCommit;typeof D=="function"&&D(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(W){Rt(r,r.return,W)}}else wr(s,r,l,f);break;case 13:wr(s,r,l,f);break;case 23:break;case 22:b=r.stateNode,C=r.alternate,r.memoizedState!==null?b._visibility&2?wr(s,r,l,f):Ku(s,r):b._visibility&2?wr(s,r,l,f):(b._visibility|=2,_c(s,r,l,f,(r.subtreeFlags&10256)!==0)),v&2048&&lg(C,r);break;case 24:wr(s,r,l,f),v&2048&&cg(r.alternate,r);break;default:wr(s,r,l,f)}}function _c(s,r,l,f,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=s,C=r,D=l,W=f,se=C.flags;switch(C.tag){case 0:case 11:case 15:_c(b,C,D,W,v),Zu(8,C);break;case 23:break;case 22:var me=C.stateNode;C.memoizedState!==null?me._visibility&2?_c(b,C,D,W,v):Ku(b,C):(me._visibility|=2,_c(b,C,D,W,v)),v&&se&2048&&lg(C.alternate,C);break;case 24:_c(b,C,D,W,v),v&&se&2048&&cg(C.alternate,C);break;default:_c(b,C,D,W,v)}r=r.sibling}}function Ku(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,f=r,v=f.flags;switch(f.tag){case 22:Ku(l,f),v&2048&&lg(f.alternate,f);break;case 24:Ku(l,f),v&2048&&cg(f.alternate,f);break;default:Ku(l,f)}r=r.sibling}}var $u=8192;function bc(s){if(s.subtreeFlags&$u)for(s=s.child;s!==null;)ab(s),s=s.sibling}function ab(s){switch(s.tag){case 26:bc(s),s.flags&$u&&s.memoizedState!==null&&OR($s,s.memoizedState,s.memoizedProps);break;case 5:bc(s);break;case 3:case 4:var r=$s;$s=gf(s.stateNode.containerInfo),bc(s),$s=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=$u,$u=16777216,bc(s),$u=r):bc(s));break;default:bc(s)}}function ob(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Yu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];In=f,cb(f,s)}ob(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lb(s),s=s.sibling}function lb(s){switch(s.tag){case 0:case 11:case 15:Yu(s),s.flags&2048&&ao(9,s,s.return);break;case 3:Yu(s);break;case 12:Yu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,sf(s)):Yu(s);break;default:Yu(s)}}function sf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];In=f,cb(f,s)}ob(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ao(8,r,r.return),sf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,sf(r));break;default:sf(r)}s=s.sibling}}function cb(s,r){for(;In!==null;){var l=In;switch(l.tag){case 0:case 11:case 15:ao(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Iu(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,In=f;else e:for(l=s;In!==null;){f=In;var v=f.sibling,b=f.return;if(eb(f),f===l){In=null;break e}if(v!==null){v.return=b,In=v;break e}In=b}}}var JC={getCacheForType:function(s){var r=Kn(vn),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},eR=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Pt=null,rt=null,pt=0,Et=0,Ji=null,co=!1,wc=!1,ug=!1,ha=0,$t=0,uo=0,xl=0,hg=0,bs=0,Tc=0,Qu=null,Ri=null,dg=!1,fg=0,rf=1/0,af=null,ho=null,Un=0,fo=null,Ec=null,Sc=0,mg=0,pg=null,ub=null,Xu=0,gg=null;function es(){if((Tt&2)!==0&&pt!==0)return pt&-pt;if(ae.T!==null){var s=dc;return s!==0?s:Tg()}return Ms()}function hb(){bs===0&&(bs=(pt&536870912)===0||$e?Zo():536870912);var s=_s.current;return s!==null&&(s.flags|=32),bs}function ts(s,r,l){(s===Pt&&(Et===2||Et===9)||s.cancelPendingCommit!==null)&&(Ac(s,0),mo(s,pt,bs,!1)),Mt(s,l),((Tt&2)===0||s!==Pt)&&(s===Pt&&((Tt&2)===0&&(xl|=l),$t===4&&mo(s,pt,bs,!1)),Tr(s))}function db(s,r,l){if((Tt&6)!==0)throw Error(i(327));var f=!l&&(r&124)===0&&(r&s.expiredLanes)===0||_i(s,r),v=f?iR(s,r):xg(s,r,!0),b=f;do{if(v===0){wc&&!f&&mo(s,r,0,!1);break}else{if(l=s.current.alternate,b&&!tR(l)){v=xg(s,r,!1),b=!1;continue}if(v===2){if(b=r,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var D=s;v=Qu;var W=D.current.memoizedState.isDehydrated;if(W&&(Ac(D,C).flags|=256),C=xg(D,C,!1),C!==2){if(ug&&!W){D.errorRecoveryDisabledLanes|=b,xl|=b,v=4;break e}b=Ri,Ri=v,b!==null&&(Ri===null?Ri=b:Ri.push.apply(Ri,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){Ac(s,0),mo(s,r,0,!0);break}e:{switch(f=s,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:mo(f,r,bs,!co);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=fg+300-wn(),10<v)){if(mo(f,r,bs,!co),xi(f,0,!0)!==0)break e;f.timeoutHandle=zb(fb.bind(null,f,l,Ri,af,dg,r,bs,xl,Tc,co,b,2,-0,0),v);break e}fb(f,l,Ri,af,dg,r,bs,xl,Tc,co,b,0,-0,0)}}break}while(!0);Tr(s)}function fb(s,r,l,f,v,b,C,D,W,se,me,ve,le,he){if(s.timeoutHandle=-1,ve=r.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(rh={stylesheets:null,count:0,unsuspend:kR},ab(r),ve=VR(),ve!==null)){s.cancelPendingCommit=ve(_b.bind(null,s,r,b,l,f,v,C,D,W,me,1,le,he)),mo(s,b,C,!se);return}_b(s,r,b,l,f,v,C,D,W)}function tR(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],b=v.getSnapshot;v=v.value;try{if(!di(b(),v))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mo(s,r,l,f){r&=~hg,r&=~xl,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var v=r;0<v;){var b=31-On(v),C=1<<b;f[b]=-1,v&=~C}l!==0&&or(s,l,r)}function of(){return(Tt&6)===0?(Ju(0),!1):!0}function yg(){if(rt!==null){if(Et===0)var s=rt.return;else s=rt,Ws=xs=null,Lp(s),vc=null,Hu=0,s=rt;for(;s!==null;)Z_(s.alternate,s),s=s.return;rt=null}}function Ac(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,xR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),yg(),Pt=s,rt=l=vs(s.current,null),pt=r,Et=0,Ji=null,co=!1,wc=_i(s,r),ug=!1,Tc=bs=hg=xl=uo=$t=0,Ri=Qu=null,dg=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var v=31-On(f),b=1<<v;r|=s[v],f&=~b}return ha=r,ol(),l}function mb(s,r){nt=null,ae.H=Wd,r===Lu||r===Od?(r=Px(),Et=3):r===Cx?(r=Px(),Et=4):Et=r===I_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ji=r,rt===null&&($t=1,Xd(s,mi(r,s.current)))}function pb(){var s=ae.H;return ae.H=Wd,s===null?Wd:s}function gb(){var s=ae.A;return ae.A=JC,s}function vg(){$t=4,co||(pt&4194048)!==pt&&_s.current!==null||(wc=!0),(uo&134217727)===0&&(xl&134217727)===0||Pt===null||mo(Pt,pt,bs,!1)}function xg(s,r,l){var f=Tt;Tt|=2;var v=pb(),b=gb();(Pt!==s||pt!==r)&&(af=null,Ac(s,r)),r=!1;var C=$t;e:do try{if(Et!==0&&rt!==null){var D=rt,W=Ji;switch(Et){case 8:yg(),C=6;break e;case 3:case 2:case 9:case 6:_s.current===null&&(r=!0);var se=Et;if(Et=0,Ji=null,Nc(s,D,W,se),l&&wc){C=0;break e}break;default:se=Et,Et=0,Ji=null,Nc(s,D,W,se)}}nR(),C=$t;break}catch(me){mb(s,me)}while(!0);return r&&s.shellSuspendCounter++,Ws=xs=null,Tt=f,ae.H=v,ae.A=b,rt===null&&(Pt=null,pt=0,ol()),C}function nR(){for(;rt!==null;)yb(rt)}function iR(s,r){var l=Tt;Tt|=2;var f=pb(),v=gb();Pt!==s||pt!==r?(af=null,rf=wn()+500,Ac(s,r)):wc=_i(s,r);e:do try{if(Et!==0&&rt!==null){r=rt;var b=Ji;t:switch(Et){case 1:Et=0,Ji=null,Nc(s,r,b,1);break;case 2:case 9:if(Rx(b)){Et=0,Ji=null,vb(r);break}r=function(){Et!==2&&Et!==9||Pt!==s||(Et=7),Tr(s)},b.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Rx(b)?(Et=0,Ji=null,vb(r)):(Et=0,Ji=null,Nc(s,r,b,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var D=rt;if(!C||Jb(C)){Et=0,Ji=null;var W=D.sibling;if(W!==null)rt=W;else{var se=D.return;se!==null?(rt=se,lf(se)):rt=null}break t}}Et=0,Ji=null,Nc(s,r,b,5);break;case 6:Et=0,Ji=null,Nc(s,r,b,6);break;case 8:yg(),$t=6;break e;default:throw Error(i(462))}}sR();break}catch(me){mb(s,me)}while(!0);return Ws=xs=null,ae.H=f,ae.A=v,Tt=l,rt!==null?0:(Pt=null,pt=0,ol(),$t)}function sR(){for(;rt!==null&&!Gl();)yb(rt)}function yb(s){var r=q_(s.alternate,s,ha);s.memoizedProps=s.pendingProps,r===null?lf(s):rt=r}function vb(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=V_(l,r,r.pendingProps,r.type,void 0,pt);break;case 11:r=V_(l,r,r.pendingProps,r.type.render,r.ref,pt);break;case 5:Lp(r);default:Z_(l,r),r=rt=ju(r,ha),r=q_(l,r,ha)}s.memoizedProps=s.pendingProps,r===null?lf(s):rt=r}function Nc(s,r,l,f){Ws=xs=null,Lp(r),vc=null,Hu=0;var v=r.return;try{if(WC(s,v,r,l,pt)){$t=1,Xd(s,mi(l,s.current)),rt=null;return}}catch(b){if(v!==null)throw rt=v,b;$t=1,Xd(s,mi(l,s.current)),rt=null;return}r.flags&32768?($e||f===1?s=!0:wc||(pt&536870912)!==0?s=!1:(co=s=!0,(f===2||f===9||f===3||f===6)&&(f=_s.current,f!==null&&f.tag===13&&(f.flags|=16384))),xb(r,s)):lf(r)}function lf(s){var r=s;do{if((r.flags&32768)!==0){xb(r,co);return}s=r.return;var l=$C(r.alternate,r,ha);if(l!==null){rt=l;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=s}while(r!==null);$t===0&&($t=5)}function xb(s,r){do{var l=YC(s.alternate,s);if(l!==null){l.flags&=32767,rt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){rt=s;return}rt=s=l}while(s!==null);$t=6,rt=null}function _b(s,r,l,f,v,b,C,D,W){s.cancelPendingCommit=null;do cf();while(Un!==0);if((Tt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Yi,$l(s,l,b,C,D,W),s===Pt&&(rt=Pt=null,pt=0),Ec=r,fo=s,Sc=l,mg=b,pg=v,ub=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lR(Oi,function(){return Sb(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=ae.T,ae.T=null,v=ye.p,ye.p=2,C=Tt,Tt|=4;try{QC(s,r,l)}finally{Tt=C,ye.p=v,ae.T=f}}Un=1,bb(),wb(),Tb()}}function bb(){if(Un===1){Un=0;var s=fo,r=Ec,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var f=ye.p;ye.p=2;var v=Tt;Tt|=4;try{ib(r,s);var b=Pg,C=sl(s.containerInfo),D=b.focusedElem,W=b.selectionRange;if(C!==D&&D&&D.ownerDocument&&sc(D.ownerDocument.documentElement,D)){if(W!==null&&rl(D)){var se=W.start,me=W.end;if(me===void 0&&(me=se),"selectionStart"in D)D.selectionStart=se,D.selectionEnd=Math.min(me,D.value.length);else{var ve=D.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var he=le.getSelection(),We=D.textContent.length,Ue=Math.min(W.start,We),Ct=W.end===void 0?Ue:Math.min(W.end,We);!he.extend&&Ue>Ct&&(C=Ct,Ct=Ue,Ue=C);var J=Cu(D,Ue),Q=Cu(D,Ct);if(J&&Q&&(he.rangeCount!==1||he.anchorNode!==J.node||he.anchorOffset!==J.offset||he.focusNode!==Q.node||he.focusOffset!==Q.offset)){var ie=ve.createRange();ie.setStart(J.node,J.offset),he.removeAllRanges(),Ue>Ct?(he.addRange(ie),he.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),he.addRange(ie))}}}}for(ve=[],he=D;he=he.parentNode;)he.nodeType===1&&ve.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ve.length;D++){var pe=ve[D];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}bf=!!jg,Pg=jg=null}finally{Tt=v,ye.p=f,ae.T=l}}s.current=r,Un=2}}function wb(){if(Un===2){Un=0;var s=fo,r=Ec,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var f=ye.p;ye.p=2;var v=Tt;Tt|=4;try{J_(s,r.alternate,r)}finally{Tt=v,ye.p=f,ae.T=l}}Un=3}}function Tb(){if(Un===4||Un===3){Un=0,ja();var s=fo,r=Ec,l=Sc,f=ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Un=5:(Un=0,Ec=fo=null,Eb(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(ho=null),Ko(l),r=r.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(rs,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=ae.T,v=ye.p,ye.p=2,ae.T=null;try{for(var b=s.onRecoverableError,C=0;C<f.length;C++){var D=f[C];b(D.value,{componentStack:D.stack})}}finally{ae.T=r,ye.p=v}}(Sc&3)!==0&&cf(),Tr(s),v=s.pendingLanes,(l&4194090)!==0&&(v&42)!==0?s===gg?Xu++:(Xu=0,gg=s):Xu=0,Ju(0)}}function Eb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Iu(r)))}function cf(s){return bb(),wb(),Tb(),Sb()}function Sb(){if(Un!==5)return!1;var s=fo,r=mg;mg=0;var l=Ko(Sc),f=ae.T,v=ye.p;try{ye.p=32>l?32:l,ae.T=null,l=pg,pg=null;var b=fo,C=Sc;if(Un=0,Ec=fo=null,Sc=0,(Tt&6)!==0)throw Error(i(331));var D=Tt;if(Tt|=4,lb(b.current),rb(b,b.current,C,l),Tt=D,Ju(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(rs,b)}catch{}return!0}finally{ye.p=v,ae.T=f,Eb(s,r)}}function Ab(s,r,l){r=mi(l,r),r=Kp(s.stateNode,r,2),s=no(s,r,2),s!==null&&(Mt(s,2),Tr(s))}function Rt(s,r,l){if(s.tag===3)Ab(s,s,l);else for(;r!==null;){if(r.tag===3){Ab(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ho===null||!ho.has(f))){s=mi(l,s),l=j_(2),f=no(r,l,2),f!==null&&(P_(l,f,r,s),Mt(f,2),Tr(f));break}}r=r.return}}function _g(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new eR;var v=new Set;f.set(r,v)}else v=f.get(r),v===void 0&&(v=new Set,f.set(r,v));v.has(l)||(ug=!0,v.add(l),s=rR.bind(null,s,r,l),r.then(s,s))}function rR(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Pt===s&&(pt&l)===l&&($t===4||$t===3&&(pt&62914560)===pt&&300>wn()-fg?(Tt&2)===0&&Ac(s,0):hg|=l,Tc===pt&&(Tc=0)),Tr(s)}function Nb(s,r){r===0&&(r=Ls()),s=Ya(s,r),s!==null&&(Mt(s,r),Tr(s))}function aR(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Nb(s,l)}function oR(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),Nb(s,l)}function lR(s,r){return Ds(s,r)}var uf=null,Cc=null,bg=!1,hf=!1,wg=!1,_l=0;function Tr(s){s!==Cc&&s.next===null&&(Cc===null?uf=Cc=s:Cc=Cc.next=s),hf=!0,bg||(bg=!0,uR())}function Ju(s,r){if(!wg&&hf){wg=!0;do for(var l=!1,f=uf;f!==null;){if(s!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var C=f.suspendedLanes,D=f.pingedLanes;b=(1<<31-On(42|s)+1)-1,b&=v&~(C&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Pb(f,b))}else b=pt,b=xi(f,f===Pt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||_i(f,b)||(l=!0,Pb(f,b));f=f.next}while(l);wg=!1}}function cR(){Cb()}function Cb(){hf=bg=!1;var s=0;_l!==0&&(vR()&&(s=_l),_l=0);for(var r=wn(),l=null,f=uf;f!==null;){var v=f.next,b=Rb(f,r);b===0?(f.next=null,l===null?uf=v:l.next=v,v===null&&(Cc=l)):(l=f,(s!==0||(b&3)!==0)&&(hf=!0)),f=v}Ju(s)}function Rb(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-On(b),D=1<<C,W=v[C];W===-1?((D&l)===0||(D&f)!==0)&&(v[C]=Ia(D,r)):W<=r&&(s.expiredLanes|=D),b&=~D}if(r=Pt,l=pt,l=xi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===r&&(Et===2||Et===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Ra(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||_i(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(f!==null&&Ra(f),Ko(l)){case 2:case 8:l=en;break;case 32:l=Oi;break;case 268435456:l=Pa;break;default:l=Oi}return f=jb.bind(null,s),l=Ds(l,f),s.callbackPriority=r,s.callbackNode=l,r}return f!==null&&f!==null&&Ra(f),s.callbackPriority=2,s.callbackNode=null,2}function jb(s,r){if(Un!==0&&Un!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(cf()&&s.callbackNode!==l)return null;var f=pt;return f=xi(s,s===Pt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(db(s,f,r),Rb(s,wn()),s.callbackNode!=null&&s.callbackNode===l?jb.bind(null,s):null)}function Pb(s,r){if(cf())return null;db(s,r,!0)}function uR(){_R(function(){(Tt&6)!==0?Ds(Jt,cR):Cb()})}function Tg(){return _l===0&&(_l=Zo()),_l}function Ib(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:oi(""+s)}function Db(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function hR(s,r,l,f,v){if(r==="submit"&&l&&l.stateNode===v){var b=Ib((v[pn]||null).action),C=f.submitter;C&&(r=(r=C[pn]||null)?Ib(r.formAction):C.getAttribute("formAction"),r!==null&&(b=r,C=null));var D=new mr("action","action",null,f,v);s.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(_l!==0){var W=C?Db(v,C):new FormData(v);Hp(l,{pending:!0,data:W,method:v.method,action:b},null,W)}}else typeof b=="function"&&(D.preventDefault(),W=C?Db(v,C):new FormData(v),Hp(l,{pending:!0,data:W,method:v.method,action:b},b,W))},currentTarget:v}]})}}for(var Eg=0;Eg<ea.length;Eg++){var Sg=ea[Eg],dR=Sg.toLowerCase(),fR=Sg[0].toUpperCase()+Sg.slice(1);$i(dR,"on"+fR)}$i(Cd,"onAnimationEnd"),$i(Ki,"onAnimationIteration"),$i(al,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(vp,"onTransitionRun"),$i(lc,"onTransitionStart"),$i(xp,"onTransitionCancel"),$i(Ru,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function Lb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],v=f.event;f=f.listeners;e:{var b=void 0;if(r)for(var C=f.length-1;0<=C;C--){var D=f[C],W=D.instance,se=D.currentTarget;if(D=D.listener,W!==b&&v.isPropagationStopped())break e;b=D,v.currentTarget=se;try{b(v)}catch(me){Qd(me)}v.currentTarget=null,b=W}else for(C=0;C<f.length;C++){if(D=f[C],W=D.instance,se=D.currentTarget,D=D.listener,W!==b&&v.isPropagationStopped())break e;b=D,v.currentTarget=se;try{b(v)}catch(me){Qd(me)}v.currentTarget=null,b=W}}}}function at(s,r){var l=r[Tn];l===void 0&&(l=r[Tn]=new Set);var f=s+"__bubble";l.has(f)||(Mb(r,s,2,!1),l.add(f))}function Ag(s,r,l){var f=0;r&&(f|=4),Mb(l,s,f,r)}var df="_reactListening"+Math.random().toString(36).slice(2);function Ng(s){if(!s[df]){s[df]=!0,Ql.forEach(function(l){l!=="selectionchange"&&(mR.has(l)||Ag(l,!1,s),Ag(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[df]||(r[df]=!0,Ag("selectionchange",!1,r))}}function Mb(s,r,l,f){switch(rw(r)){case 2:var v=zR;break;case 8:v=FR;break;default:v=zg}l=v.bind(null,r,l,s),v=void 0,!zi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(r,l,{capture:!0,passive:v}):s.addEventListener(r,l,!0):v!==void 0?s.addEventListener(r,l,{passive:v}):s.addEventListener(r,l,!1)}function Cg(s,r,l,f,v){var b=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var D=f.stateNode.containerInfo;if(D===v)break;if(C===4)for(C=f.return;C!==null;){var W=C.tag;if((W===3||W===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;D!==null;){if(C=wi(D),C===null)return;if(W=C.tag,W===5||W===6||W===26||W===27){f=b=C;continue e}D=D.parentNode}}f=f.return}An(function(){var se=b,me=hr(l),ve=[];e:{var le=Rd.get(s);if(le!==void 0){var he=mr,We=s;switch(s){case"keypress":if(Lt(l)===0)break e;case"keydown":case"keyup":he=Ba;break;case"focusin":We="focus",he=ka;break;case"focusout":We="blur",he=ka;break;case"beforeblur":case"afterblur":he=ka;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=pr;break;case Cd:case Ki:case al:he=Xo;break;case Ru:he=E;break;case"scroll":case"scrollend":he=$r;break;case"wheel":he=k;break;case"copy":case"cut":case"paste":he=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=za;break;case"toggle":case"beforetoggle":he=ue}var Ue=(r&4)!==0,Ct=!Ue&&(s==="scroll"||s==="scrollend"),J=Ue?le!==null?le+"Capture":null:le;Ue=[];for(var Q=se,ie;Q!==null;){var pe=Q;if(ie=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ie===null||J===null||(pe=ft(Q,J),pe!=null&&Ue.push(th(Q,pe,ie))),Ct)break;Q=Q.return}0<Ue.length&&(le=new he(le,We,null,l,me),ve.push({event:le,listeners:Ue}))}}if((r&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",le&&l!==Kr&&(We=l.relatedTarget||l.fromElement)&&(wi(We)||We[ks]))break e;if((he||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,he?(We=l.relatedTarget||l.toElement,he=se,We=We?wi(We):null,We!==null&&(Ct=c(We),Ue=We.tag,We!==Ct||Ue!==5&&Ue!==27&&Ue!==6)&&(We=null)):(he=null,We=se),he!==We)){if(Ue=Fi,pe="onMouseLeave",J="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=za,pe="onPointerLeave",J="onPointerEnter",Q="pointer"),Ct=he==null?le:ii(he),ie=We==null?le:ii(We),le=new Ue(pe,Q+"leave",he,l,me),le.target=Ct,le.relatedTarget=ie,pe=null,wi(me)===se&&(Ue=new Ue(J,Q+"enter",We,l,me),Ue.target=ie,Ue.relatedTarget=Ct,pe=Ue),Ct=pe,he&&We)t:{for(Ue=he,J=We,Q=0,ie=Ue;ie;ie=Rc(ie))Q++;for(ie=0,pe=J;pe;pe=Rc(pe))ie++;for(;0<Q-ie;)Ue=Rc(Ue),Q--;for(;0<ie-Q;)J=Rc(J),ie--;for(;Q--;){if(Ue===J||J!==null&&Ue===J.alternate)break t;Ue=Rc(Ue),J=Rc(J)}Ue=null}else Ue=null;he!==null&&kb(ve,le,he,Ue,!1),We!==null&&Ct!==null&&kb(ve,Ct,We,Ue,!0)}}e:{if(le=se?ii(se):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var Le=qa;else if(Xr(le))if(Su)Le=yp;else{Le=gp;var st=Nu}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&ur(se.elementType)&&(Le=qa):Le=Zs;if(Le&&(Le=Le(s,se))){Ed(ve,Le,l,me);break e}st&&st(s,le,se),s==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&cr(le,"number",le.value)}switch(st=se?ii(se):window,s){case"focusin":(Xr(st)||st.contentEditable==="true")&&(Wi=st,Wa=se,Jr=null);break;case"focusout":Jr=Wa=Wi=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Ad(ve,l,me);break;case"selectionchange":if(rc)break;case"keydown":case"keyup":Ad(ve,l,me)}var Oe;if(Fe)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Gi?ui(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(kt&&l.locale!=="ko"&&(Gi||He!=="onCompositionStart"?He==="onCompositionEnd"&&Gi&&(Oe=fr()):(Zn=me,mt="value"in Zn?Zn.value:Zn.textContent,Gi=!0)),st=ff(se,He),0<st.length&&(He=new Wn(He,s,null,l,me),ve.push({event:He,listeners:st}),Oe?He.data=Oe:(Oe=qi(l),Oe!==null&&(He.data=Oe)))),(Oe=yt?Fa(s,l):pp(s,l))&&(He=ff(se,"onBeforeInput"),0<He.length&&(st=new Wn("onBeforeInput","beforeinput",null,l,me),ve.push({event:st,listeners:He}),st.data=Oe)),hR(ve,s,se,l,me)}Lb(ve,r)})}function th(s,r,l){return{instance:s,listener:r,currentTarget:l}}function ff(s,r){for(var l=r+"Capture",f=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=ft(s,l),v!=null&&f.unshift(th(s,v,b)),v=ft(s,r),v!=null&&f.push(th(s,v,b))),s.tag===3)return f;s=s.return}return[]}function Rc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kb(s,r,l,f,v){for(var b=r._reactName,C=[];l!==null&&l!==f;){var D=l,W=D.alternate,se=D.stateNode;if(D=D.tag,W!==null&&W===f)break;D!==5&&D!==26&&D!==27||se===null||(W=se,v?(se=ft(l,b),se!=null&&C.unshift(th(l,se,W))):v||(se=ft(l,b),se!=null&&C.push(th(l,se,W)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var pR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function Ob(s){return(typeof s=="string"?s:""+s).replace(pR,`
`).replace(gR,"")}function Vb(s,r){return r=Ob(r),Ob(s)===r}function mf(){}function Nt(s,r,l,f,v,b){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||Sn(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&Sn(s,""+f);break;case"className":qr(s,"class",f);break;case"tabIndex":qr(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(s,l,f);break;case"style":zs(s,f,b);break;case"data":if(r!=="object"){qr(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=oi(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Nt(s,r,"name",v.name,v,null),Nt(s,r,"formEncType",v.formEncType,v,null),Nt(s,r,"formMethod",v.formMethod,v,null),Nt(s,r,"formTarget",v.formTarget,v,null)):(Nt(s,r,"encType",v.encType,v,null),Nt(s,r,"method",v.method,v,null),Nt(s,r,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=oi(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=mf);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=oi(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":at("beforetoggle",s),at("toggle",s),Hr(s,"popover",f);break;case"xlinkActuate":Ti(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ti(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ti(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ti(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ti(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ti(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ti(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ti(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ti(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Hr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=La.get(l)||l,Hr(s,l,f))}}function Rg(s,r,l,f,v,b){switch(l){case"style":zs(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof f=="string"?Sn(s,f):(typeof f=="number"||typeof f=="bigint")&&Sn(s,""+f);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"onClick":f!=null&&(s.onclick=mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),r=l.slice(2,v?l.length-7:void 0),b=s[pn]||null,b=b!=null?b[l]:null,typeof b=="function"&&s.removeEventListener(r,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,f,v);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Hr(s,l,f)}}}function Bn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var f=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Nt(s,r,b,C,l,null)}}v&&Nt(s,r,"srcSet",l.srcSet,l,null),f&&Nt(s,r,"src",l.src,l,null);return;case"input":at("invalid",s);var D=b=C=v=null,W=null,se=null;for(f in l)if(l.hasOwnProperty(f)){var me=l[f];if(me!=null)switch(f){case"name":v=me;break;case"type":C=me;break;case"checked":W=me;break;case"defaultChecked":se=me;break;case"value":b=me;break;case"defaultValue":D=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,r));break;default:Nt(s,r,f,me,l,null)}}Yo(s,b,D,W,se,C,v,!1),ds(s);return;case"select":at("invalid",s),f=C=b=null;for(v in l)if(l.hasOwnProperty(v)&&(D=l[v],D!=null))switch(v){case"value":b=D;break;case"defaultValue":C=D;break;case"multiple":f=D;default:Nt(s,r,v,D,l,null)}r=b,l=C,s.multiple=!!f,r!=null?Gn(s,!!f,r,!1):l!=null&&Gn(s,!!f,l,!0);return;case"textarea":at("invalid",s),b=v=f=null;for(C in l)if(l.hasOwnProperty(C)&&(D=l[C],D!=null))switch(C){case"value":f=D;break;case"defaultValue":v=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:Nt(s,r,C,D,l,null)}fs(s,f,v,b),ds(s);return;case"option":for(W in l)if(l.hasOwnProperty(W)&&(f=l[W],f!=null))switch(W){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Nt(s,r,W,f,l,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(f=0;f<eh.length;f++)at(eh[f],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(f=l[se],f!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Nt(s,r,se,f,l,null)}return;default:if(ur(r)){for(me in l)l.hasOwnProperty(me)&&(f=l[me],f!==void 0&&Rg(s,r,me,f,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(f=l[D],f!=null&&Nt(s,r,D,f,l,null))}function yR(s,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,D=null,W=null,se=null,me=null;for(he in l){var ve=l[he];if(l.hasOwnProperty(he)&&ve!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":W=ve;default:f.hasOwnProperty(he)||Nt(s,r,he,null,f,ve)}}for(var le in f){var he=f[le];if(ve=l[le],f.hasOwnProperty(le)&&(he!=null||ve!=null))switch(le){case"type":b=he;break;case"name":v=he;break;case"checked":se=he;break;case"defaultChecked":me=he;break;case"value":C=he;break;case"defaultValue":D=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,r));break;default:he!==ve&&Nt(s,r,le,he,f,ve)}}En(s,C,D,W,se,me,b,v);return;case"select":he=C=D=le=null;for(b in l)if(W=l[b],l.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":he=W;default:f.hasOwnProperty(b)||Nt(s,r,b,null,f,W)}for(v in f)if(b=f[v],W=l[v],f.hasOwnProperty(v)&&(b!=null||W!=null))switch(v){case"value":le=b;break;case"defaultValue":D=b;break;case"multiple":C=b;default:b!==W&&Nt(s,r,v,b,f,W)}r=D,l=C,f=he,le!=null?Gn(s,!!l,le,!1):!!f!=!!l&&(r!=null?Gn(s,!!l,r,!0):Gn(s,!!l,l?[]:"",!1));return;case"textarea":he=le=null;for(D in l)if(v=l[D],l.hasOwnProperty(D)&&v!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Nt(s,r,D,null,f,v)}for(C in f)if(v=f[C],b=l[C],f.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":le=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Nt(s,r,C,v,f,b)}Dt(s,le,he);return;case"option":for(var We in l)if(le=l[We],l.hasOwnProperty(We)&&le!=null&&!f.hasOwnProperty(We))switch(We){case"selected":s.selected=!1;break;default:Nt(s,r,We,null,f,le)}for(W in f)if(le=f[W],he=l[W],f.hasOwnProperty(W)&&le!==he&&(le!=null||he!=null))switch(W){case"selected":s.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Nt(s,r,W,le,f,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)le=l[Ue],l.hasOwnProperty(Ue)&&le!=null&&!f.hasOwnProperty(Ue)&&Nt(s,r,Ue,null,f,le);for(se in f)if(le=f[se],he=l[se],f.hasOwnProperty(se)&&le!==he&&(le!=null||he!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,r));break;default:Nt(s,r,se,le,f,he)}return;default:if(ur(r)){for(var Ct in l)le=l[Ct],l.hasOwnProperty(Ct)&&le!==void 0&&!f.hasOwnProperty(Ct)&&Rg(s,r,Ct,void 0,f,le);for(me in f)le=f[me],he=l[me],!f.hasOwnProperty(me)||le===he||le===void 0&&he===void 0||Rg(s,r,me,le,f,he);return}}for(var J in l)le=l[J],l.hasOwnProperty(J)&&le!=null&&!f.hasOwnProperty(J)&&Nt(s,r,J,null,f,le);for(ve in f)le=f[ve],he=l[ve],!f.hasOwnProperty(ve)||le===he||le==null&&he==null||Nt(s,r,ve,le,f,he)}var jg=null,Pg=null;function pf(s){return s.nodeType===9?s:s.ownerDocument}function Ub(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ig(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dg=null;function vR(){var s=window.event;return s&&s.type==="popstate"?s===Dg?!1:(Dg=s,!0):(Dg=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,xR=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(s){return Fb.resolve(null).then(s).catch(bR)}:zb;function bR(s){setTimeout(function(){throw s})}function po(s){return s==="head"}function Hb(s,r){var l=r,f=0,v=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<f&&8>f){l=f;var C=s.ownerDocument;if(l&1&&nh(C.documentElement),l&2&&nh(C.body),l&4)for(l=C.head,nh(l),C=l.firstChild;C;){var D=C.nextSibling,W=C.nodeName;C[Os]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=D}}if(v===0){s.removeChild(b),uh(r);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:f=l.charCodeAt(0)-48;else f=0;l=b}while(l);uh(r)}function Lg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lg(l),Br(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wR(s,r,l,f){for(;s.nodeType===1;){var v=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Os])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Ys(s.nextSibling),s===null)break}return null}function TR(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ys(s.nextSibling),s===null))return null;return s}function Mg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ER(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Ys(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var kg=null;function qb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Gb(s,r,l){switch(r=pf(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nh(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Br(s)}var ws=new Map,Zb=new Set;function gf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var da=ye.d;ye.d={f:SR,r:AR,D:NR,C:CR,L:RR,m:jR,X:IR,S:PR,M:DR};function SR(){var s=da.f(),r=of();return s||r}function AR(s){var r=Ui(s);r!==null&&r.tag===5&&r.type==="form"?d_(r):da.r(s)}var jc=typeof document>"u"?null:document;function Wb(s,r,l){var f=jc;if(f&&typeof r=="string"&&r){var v=Ht(r);v='link[rel="'+s+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Zb.has(v)||(Zb.add(v),s={rel:s,crossOrigin:l,href:r},f.querySelector(v)===null&&(r=f.createElement("link"),Bn(r,"link",s),Ft(r),f.head.appendChild(r)))}}function NR(s){da.D(s),Wb("dns-prefetch",s,null)}function CR(s,r){da.C(s,r),Wb("preconnect",s,r)}function RR(s,r,l){da.L(s,r,l);var f=jc;if(f&&s&&r){var v='link[rel="preload"][as="'+Ht(r)+'"]';r==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Ht(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Ht(l.imageSizes)+'"]')):v+='[href="'+Ht(s)+'"]';var b=v;switch(r){case"style":b=Pc(s);break;case"script":b=Ic(s)}ws.has(b)||(s=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),ws.set(b,s),f.querySelector(v)!==null||r==="style"&&f.querySelector(ih(b))||r==="script"&&f.querySelector(sh(b))||(r=f.createElement("link"),Bn(r,"link",s),Ft(r),f.head.appendChild(r)))}}function jR(s,r){da.m(s,r);var l=jc;if(l&&s){var f=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+Ht(f)+'"][href="'+Ht(s)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ic(s)}if(!ws.has(b)&&(s=_({rel:"modulepreload",href:s},r),ws.set(b,s),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sh(b)))return}f=l.createElement("link"),Bn(f,"link",s),Ft(f),l.head.appendChild(f)}}}function PR(s,r,l){da.S(s,r,l);var f=jc;if(f&&s){var v=Vs(f).hoistableStyles,b=Pc(s);r=r||"default";var C=v.get(b);if(!C){var D={loading:0,preload:null};if(C=f.querySelector(ih(b)))D.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":r},l),(l=ws.get(b))&&Og(s,l);var W=C=f.createElement("link");Ft(W),Bn(W,"link",s),W._p=new Promise(function(se,me){W.onload=se,W.onerror=me}),W.addEventListener("load",function(){D.loading|=1}),W.addEventListener("error",function(){D.loading|=2}),D.loading|=4,yf(C,r,f)}C={type:"stylesheet",instance:C,count:1,state:D},v.set(b,C)}}}function IR(s,r){da.X(s,r);var l=jc;if(l&&s){var f=Vs(l).hoistableScripts,v=Ic(s),b=f.get(v);b||(b=l.querySelector(sh(v)),b||(s=_({src:s,async:!0},r),(r=ws.get(v))&&Vg(s,r),b=l.createElement("script"),Ft(b),Bn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function DR(s,r){da.M(s,r);var l=jc;if(l&&s){var f=Vs(l).hoistableScripts,v=Ic(s),b=f.get(v);b||(b=l.querySelector(sh(v)),b||(s=_({src:s,async:!0,type:"module"},r),(r=ws.get(v))&&Vg(s,r),b=l.createElement("script"),Ft(b),Bn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function Kb(s,r,l,f){var v=(v=Te.current)?gf(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Pc(l.href),l=Vs(v).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Pc(l.href);var b=Vs(v).hoistableStyles,C=b.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=v.querySelector(ih(s)))&&!b._p&&(C.instance=b,C.state.loading=5),ws.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ws.set(s,l),b||LR(v,s,l,C.state))),r&&f===null)throw Error(i(528,""));return C}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ic(l),l=Vs(v).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Pc(s){return'href="'+Ht(s)+'"'}function ih(s){return'link[rel="stylesheet"]['+s+"]"}function $b(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function LR(s,r,l,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Bn(r,"link",l),Ft(r),s.head.appendChild(r))}function Ic(s){return'[src="'+Ht(s)+'"]'}function sh(s){return"script[async]"+s}function Yb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+Ht(l.href)+'"]');if(f)return r.instance=f,Ft(f),f;var v=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ft(f),Bn(f,"style",v),yf(f,l.precedence,s),r.instance=f;case"stylesheet":v=Pc(l.href);var b=s.querySelector(ih(v));if(b)return r.state.loading|=4,r.instance=b,Ft(b),b;f=$b(l),(v=ws.get(v))&&Og(f,v),b=(s.ownerDocument||s).createElement("link"),Ft(b);var C=b;return C._p=new Promise(function(D,W){C.onload=D,C.onerror=W}),Bn(b,"link",f),r.state.loading|=4,yf(b,l.precedence,s),r.instance=b;case"script":return b=Ic(l.src),(v=s.querySelector(sh(b)))?(r.instance=v,Ft(v),v):(f=l,(v=ws.get(b))&&(f=_({},l),Vg(f,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ft(v),Bn(v,"link",f),s.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,yf(f,l.precedence,s));return r.instance}function yf(s,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,C=0;C<f.length;C++){var D=f[C];if(D.dataset.precedence===r)b=D;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Og(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var vf=null;function Qb(s,r,l){if(vf===null){var f=new Map,v=vf=new Map;v.set(l,f)}else v=vf,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),v=0;v<l.length;v++){var b=l[v];if(!(b[Os]||b[zt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(r)||"";C=s+C;var D=f.get(C);D?D.push(b):f.set(C,[b])}}return f}function Xb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function MR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Jb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var rh=null;function kR(){}function OR(s,r,l){if(rh===null)throw Error(i(475));var f=rh;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=Pc(l.href),b=s.querySelector(ih(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=xf.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=b,Ft(b);return}b=s.ownerDocument||s,l=$b(l),(v=ws.get(v))&&Og(l,v),b=b.createElement("link"),Ft(b);var C=b;C._p=new Promise(function(D,W){C.onload=D,C.onerror=W}),Bn(b,"link",l),r.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=xf.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function VR(){if(rh===null)throw Error(i(475));var s=rh;return s.stylesheets&&s.count===0&&Ug(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Ug(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function xf(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var _f=null;function Ug(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,_f=new Map,r.forEach(UR,s),_f=null,xf.call(s))}function UR(s,r){if(!(r.state.loading&4)){var l=_f.get(s);if(l)var f=l.get(null);else{l=new Map,_f.set(s,l);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),f=C)}f&&l.set(null,f)}v=r.instance,C=v.getAttribute("data-precedence"),b=l.get(C)||f,b===f&&l.set(null,v),l.set(C,v),this.count++,f=xf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),r.state.loading|=4}}var ah={$$typeof:$,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function BR(s,r,l,f,v,b,C,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ew(s,r,l,f,v,b,C,D,W,se,me,ve){return s=new BR(s,r,l,C,D,W,se,ve),r=1,b===!0&&(r|=24),b=gi(3,null,null,r),s.current=b,b.stateNode=s,r=_p(),r.refCount++,s.pooledCache=r,r.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:r},Ep(b),s}function tw(s){return s?(s=ia,s):ia}function nw(s,r,l,f,v,b){v=tw(v),f.context===null?f.context=v:f.pendingContext=v,f=to(r),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=no(s,f,r),l!==null&&(ts(l,s,r),ku(l,s,r))}function iw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Bg(s,r){iw(s,r),(s=s.alternate)&&iw(s,r)}function sw(s){if(s.tag===13){var r=Ya(s,67108864);r!==null&&ts(r,s,67108864),Bg(s,67108864)}}var bf=!0;function zR(s,r,l,f){var v=ae.T;ae.T=null;var b=ye.p;try{ye.p=2,zg(s,r,l,f)}finally{ye.p=b,ae.T=v}}function FR(s,r,l,f){var v=ae.T;ae.T=null;var b=ye.p;try{ye.p=8,zg(s,r,l,f)}finally{ye.p=b,ae.T=v}}function zg(s,r,l,f){if(bf){var v=Fg(f);if(v===null)Cg(s,r,f,wf,l),aw(s,f);else if(qR(v,s,r,l,f))f.stopPropagation();else if(aw(s,f),r&4&&-1<HR.indexOf(s)){for(;v!==null;){var b=Ui(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=vi(b.pendingLanes);if(C!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var W=1<<31-On(C);D.entanglements[1]|=W,C&=~W}Tr(b),(Tt&6)===0&&(rf=wn()+500,Ju(0))}}break;case 13:D=Ya(b,2),D!==null&&ts(D,b,2),of(),Bg(b,2)}if(b=Fg(f),b===null&&Cg(s,r,f,wf,l),b===v)break;v=b}v!==null&&f.stopPropagation()}else Cg(s,r,f,null,l)}}function Fg(s){return s=hr(s),Hg(s)}var wf=null;function Hg(s){if(wf=null,s=wi(s),s!==null){var r=c(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return wf=s,null}function rw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Or()){case Jt:return 2;case en:return 8;case Oi:case Zl:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var qg=!1,go=null,yo=null,vo=null,oh=new Map,lh=new Map,xo=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aw(s,r){switch(s){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":oh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(r.pointerId)}}function ch(s,r,l,f,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},r!==null&&(r=Ui(r),r!==null&&sw(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),s)}function qR(s,r,l,f,v){switch(r){case"focusin":return go=ch(go,s,r,l,f,v),!0;case"dragenter":return yo=ch(yo,s,r,l,f,v),!0;case"mouseover":return vo=ch(vo,s,r,l,f,v),!0;case"pointerover":var b=v.pointerId;return oh.set(b,ch(oh.get(b)||null,s,r,l,f,v)),!0;case"gotpointercapture":return b=v.pointerId,lh.set(b,ch(lh.get(b)||null,s,r,l,f,v)),!0}return!1}function ow(s){var r=wi(s.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=h(l),r!==null){s.blockedOn=r,$o(s.priority,function(){if(l.tag===13){var f=es();f=Wo(f);var v=Ya(l,f);v!==null&&ts(v,l,f),Bg(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Tf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Fg(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Kr=f,l.target.dispatchEvent(f),Kr=null}else return r=Ui(l),r!==null&&sw(r),s.blockedOn=l,!1;r.shift()}return!0}function lw(s,r,l){Tf(s)&&l.delete(r)}function GR(){qg=!1,go!==null&&Tf(go)&&(go=null),yo!==null&&Tf(yo)&&(yo=null),vo!==null&&Tf(vo)&&(vo=null),oh.forEach(lw),lh.forEach(lw)}function Ef(s,r){s.blockedOn===r&&(s.blockedOn=null,qg||(qg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GR)))}var Sf=null;function cw(s){Sf!==s&&(Sf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sf===s&&(Sf=null);for(var r=0;r<s.length;r+=3){var l=s[r],f=s[r+1],v=s[r+2];if(typeof f!="function"){if(Hg(f||l)===null)continue;break}var b=Ui(l);b!==null&&(s.splice(r,3),r-=3,Hp(b,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function uh(s){function r(W){return Ef(W,s)}go!==null&&Ef(go,s),yo!==null&&Ef(yo,s),vo!==null&&Ef(vo,s),oh.forEach(r),lh.forEach(r);for(var l=0;l<xo.length;l++){var f=xo[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<xo.length&&(l=xo[0],l.blockedOn===null);)ow(l),l.blockedOn===null&&xo.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],b=l[f+1],C=v[pn]||null;if(typeof b=="function")C||cw(l);else if(C){var D=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[pn]||null)D=C.formAction;else if(Hg(v)!==null)continue}else D=C.action;typeof D=="function"?l[f+1]=D:(l.splice(f,3),f-=3),cw(l)}}}function Gg(s){this._internalRoot=s}Af.prototype.render=Gg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,f=es();nw(l,f,s,r,null,null)},Af.prototype.unmount=Gg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;nw(s.current,2,null,s,null,null),of(),r[ks]=null}};function Af(s){this._internalRoot=s}Af.prototype.unstable_scheduleHydration=function(s){if(s){var r=Ms();s={blockedOn:null,target:s,priority:r};for(var l=0;l<xo.length&&r!==0&&r<xo[l].priority;l++);xo.splice(l,0,s),l===0&&ow(s)}};var uw=e.version;if(uw!=="19.1.1")throw Error(i(527,uw,"19.1.1"));ye.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var ZR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{rs=Nf.inject(ZR),mn=Nf}catch{}}return dh.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,f="",v=A_,b=N_,C=C_,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=ew(s,1,!1,null,null,l,f,v,b,C,D,null),s[ks]=r.current,Ng(s),new Gg(r)},dh.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var f=!1,v="",b=A_,C=N_,D=C_,W=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(W=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),r=ew(s,1,!0,r,l??null,f,v,b,C,D,W,se),r.context=tw(null),l=r.current,f=es(),f=Wo(f),v=to(f),v.callback=null,no(l,v,f),l=f,r.current.lanes=l,Mt(r,l),Tr(r),s[ks]=r.current,Ng(s),new Af(r)},dh.version="19.1.1",dh}var _w;function tj(){if(_w)return Kg.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kg.exports=ej(),Kg.exports}var nj=tj();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bw="popstate";function ij(t={}){function e(a,c){let{pathname:h="/",search:m="",hash:g=""}=Bl(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Iy("",{pathname:h,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(a,c){let h=a.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=a.location.href,x=g.indexOf("#");m=x===-1?g:g.slice(0,x)}return m+"#"+(typeof c=="string"?c:Oh(c))}function i(a,c){js(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return rj(e,n,i,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sj(){return Math.random().toString(36).substring(2,10)}function ww(t,e){return{usr:t.state,key:t.key,idx:e}}function Iy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:n,key:e&&e.key||i||sj()}}function Oh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function rj(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:c=!1}=i,h=a.history,m="POP",g=null,x=_();x==null&&(x=0,h.replaceState({...h.state,idx:x},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=_(),K=V==null?null:V-x;x=V,g&&g({action:m,location:B.location,delta:K})}function A(V,K){m="PUSH";let H=Iy(B.location,V,K);n&&n(H,V),x=_()+1;let $=ww(H,x),X=B.createHref(H);try{h.pushState($,"",X)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(X)}c&&g&&g({action:m,location:B.location,delta:1})}function I(V,K){m="REPLACE";let H=Iy(B.location,V,K);n&&n(H,V),x=_();let $=ww(H,x),X=B.createHref(H);h.replaceState($,"",X),c&&g&&g({action:m,location:B.location,delta:0})}function P(V){return aj(V)}let B={get action(){return m},get location(){return t(a,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(bw,T),g=V,()=>{a.removeEventListener(bw,T),g=null}},createHref(V){return e(a,V)},createURL:P,encodeLocation(V){let K=P(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:I,go(V){return h.go(V)}};return B}function aj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Oh(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ME(t,e,n="/"){return oj(t,e,n,!1)}function oj(t,e,n,i){let a=typeof e=="string"?Bl(e):e,c=xa(a.pathname||"/",n);if(c==null)return null;let h=kE(t);lj(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let x=xj(c);m=yj(h[g],x,i)}return m}function kE(t,e=[],n=[],i="",a=!1){let c=(h,m,g=a,x)=>{let _={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;Bt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let T=ga([i,_.relativePath]),A=n.concat(_);h.children&&h.children.length>0&&(Bt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),kE(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:pj(T,h.index),routesMeta:A})};return t.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of OE(h.path))c(h,m,!0,g)}),e}function OE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let h=OE(i.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function lj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var cj=/^:[\w-]+$/,uj=3,hj=2,dj=1,fj=10,mj=-2,Tw=t=>t==="*";function pj(t,e){let n=t.split("/"),i=n.length;return n.some(Tw)&&(i+=mj),e&&(i+=hj),n.filter(a=>!Tw(a)).reduce((a,c)=>a+(cj.test(c)?uj:c===""?dj:fj),i)}function gj(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function yj(t,e,n=!1){let{routesMeta:i}=t,a={},c="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],x=m===i.length-1,_=c==="/"?e:e.slice(c.length)||"/",T=om({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},_),A=g.route;if(!T&&x&&n&&!i[i.length-1].route.index&&(T=om({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:ga([c,T.pathname]),pathnameBase:Tj(ga([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=ga([c,T.pathnameBase]))}return h}function om(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=vj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((x,{paramName:_,isOptional:T},A)=>{if(_==="*"){let P=m[A]||"";h=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const I=m[A];return T&&!I?x[_]=void 0:x[_]=(I||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:h,pattern:t}}function vj(t,e=!1,n=!0){js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function xj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return js(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function _j(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Bl(t):t;return{pathname:n?n.startsWith("/")?n:bj(n,e):e,search:Ej(i),hash:Sj(a)}}function bj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Xg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D0(t){let e=wj(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function L0(t,e,n,i=!1){let a;typeof t=="string"?a=Bl(t):(a={...t},Bt(!a.pathname||!a.pathname.includes("?"),Xg("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),Xg("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),Xg("#","search","hash",a)));let c=t===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=_j(a,m),x=h&&h!=="/"&&h.endsWith("/"),_=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(x||_)&&(g.pathname+="/"),g}var ga=t=>t.join("/").replace(/\/\/+/g,"/"),Tj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ej=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var VE=["POST","PUT","PATCH","DELETE"];new Set(VE);var Nj=["GET",...VE];new Set(Nj);var ou=U.createContext(null);ou.displayName="DataRouter";var Dm=U.createContext(null);Dm.displayName="DataRouterState";U.createContext(!1);var UE=U.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var Cj=U.createContext(new Map);Cj.displayName="Fetchers";var Rj=U.createContext(null);Rj.displayName="Await";var ir=U.createContext(null);ir.displayName="Navigation";var ed=U.createContext(null);ed.displayName="Location";var sr=U.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var M0=U.createContext(null);M0.displayName="RouteError";function jj(t,{relative:e}={}){Bt(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(ir),{hash:a,pathname:c,search:h}=td(t,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:ga([n,c])),i.createHref({pathname:m,search:h,hash:a})}function lu(){return U.useContext(ed)!=null}function ki(){return Bt(lu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ed).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zE(t){U.useContext(ir).static||U.useLayoutEffect(t)}function Aa(){let{isDataRoute:t}=U.useContext(sr);return t?Gj():Pj()}function Pj(){Bt(lu(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(ou),{basename:e,navigator:n}=U.useContext(ir),{matches:i}=U.useContext(sr),{pathname:a}=ki(),c=JSON.stringify(D0(i)),h=U.useRef(!1);return zE(()=>{h.current=!0}),U.useCallback((g,x={})=>{if(js(h.current,BE),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=L0(g,JSON.parse(c),a,x.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ga([e,_.pathname])),(x.replace?n.replace:n.push)(_,x.state,x)},[e,n,c,a,t])}var Ij=U.createContext(null);function Dj(t){let e=U.useContext(sr).outlet;return e&&U.createElement(Ij.Provider,{value:t},e)}function td(t,{relative:e}={}){let{matches:n}=U.useContext(sr),{pathname:i}=ki(),a=JSON.stringify(D0(n));return U.useMemo(()=>L0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function Lj(t,e){return FE(t,e)}function FE(t,e,n,i,a){Bt(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(ir),{matches:h}=U.useContext(sr),m=h[h.length-1],g=m?m.params:{},x=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let H=T&&T.path||"";HE(x,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let A=ki(),I;if(e){let H=typeof e=="string"?Bl(e):e;Bt(_==="/"||H.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${H.pathname}" was given in the \`location\` prop.`),I=H}else I=A;let P=I.pathname||"/",B=P;if(_!=="/"){let H=_.replace(/^\//,"").split("/");B="/"+P.replace(/^\//,"").split("/").slice(H.length).join("/")}let V=ME(t,{pathname:B});js(T||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),js(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Uj(V&&V.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:ga([_,c.encodeLocation?c.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?_:ga([_,c.encodeLocation?c.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),h,n,i,a);return e&&K?U.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},K):K}function Mj(){let t=qj(),e=Aj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:a},n):null,h)}var kj=U.createElement(Mj,null),Oj=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?U.createElement(sr.Provider,{value:this.props.routeContext},U.createElement(M0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vj({routeContext:t,match:e,children:n}){let i=U.useContext(ou);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(sr.Provider,{value:t},n)}function Uj(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,h=n?.errors;if(h!=null){let x=c.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);Bt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let _=c[x];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=x),_.route.id){let{loaderData:T,errors:A}=n,I=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||I){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((x,_,T)=>{let A,I=!1,P=null,B=null;n&&(A=h&&_.route.id?h[_.route.id]:void 0,P=_.route.errorElement||kj,m&&(g<0&&T===0?(HE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,B=null):g===T&&(I=!0,B=_.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,T+1)),K=()=>{let H;return A?H=P:I?H=B:_.route.Component?H=U.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=x,U.createElement(Vj,{match:_,routeContext:{outlet:x,matches:V,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?U.createElement(Oj,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:K(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:i}):K()},null)}function k0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bj(t){let e=U.useContext(ou);return Bt(e,k0(t)),e}function zj(t){let e=U.useContext(Dm);return Bt(e,k0(t)),e}function Fj(t){let e=U.useContext(sr);return Bt(e,k0(t)),e}function O0(t){let e=Fj(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Hj(){return O0("useRouteId")}function qj(){let t=U.useContext(M0),e=zj("useRouteError"),n=O0("useRouteError");return t!==void 0?t:e.errors?.[n]}function Gj(){let{router:t}=Bj("useNavigate"),e=O0("useNavigate"),n=U.useRef(!1);return zE(()=>{n.current=!0}),U.useCallback(async(a,c={})=>{js(n.current,BE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var Ew={};function HE(t,e,n){!e&&!Ew[t]&&(Ew[t]=!0,js(!1,n))}U.memo(Zj);function Zj({routes:t,future:e,state:n,unstable_onError:i}){return FE(t,void 0,n,i,e)}function V0({to:t,replace:e,state:n,relative:i}){Bt(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(ir);js(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(sr),{pathname:h}=ki(),m=Aa(),g=L0(t,D0(c),h,i==="path"),x=JSON.stringify(g);return U.useEffect(()=>{m(JSON.parse(x),{replace:e,state:n,relative:i})},[m,x,i,e,n]),null}function qE(t){return Dj(t.context)}function Yt(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wj({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:c=!1}){Bt(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:a,static:c,future:{}}),[h,a,c]);typeof n=="string"&&(n=Bl(n));let{pathname:g="/",search:x="",hash:_="",state:T=null,key:A="default"}=n,I=U.useMemo(()=>{let P=xa(g,h);return P==null?null:{location:{pathname:P,search:x,hash:_,state:T,key:A},navigationType:i}},[h,g,x,_,T,A,i]);return js(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${x}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:U.createElement(ir.Provider,{value:m},U.createElement(ed.Provider,{children:e,value:I}))}function Kj({children:t,location:e}){return Lj(Dy(t),e)}function Dy(t,e=[]){let n=[];return U.Children.forEach(t,(i,a)=>{if(!U.isValidElement(i))return;let c=[...e,a];if(i.type===U.Fragment){n.push.apply(n,Dy(i.props.children,c));return}Bt(i.type===Yt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Dy(i.props.children,c)),n.push(h)}),n}var zf="get",Ff="application/x-www-form-urlencoded";function Lm(t){return t!=null&&typeof t.tagName=="string"}function $j(t){return Lm(t)&&t.tagName.toLowerCase()==="button"}function Yj(t){return Lm(t)&&t.tagName.toLowerCase()==="form"}function Qj(t){return Lm(t)&&t.tagName.toLowerCase()==="input"}function Xj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jj(t,e){return t.button===0&&(!e||e==="_self")&&!Xj(t)}var Cf=null;function eP(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var tP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jg(t){return t!=null&&!tP.has(t)?(js(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):t}function nP(t,e){let n,i,a,c,h;if(Yj(t)){let m=t.getAttribute("action");i=m?xa(m,e):null,n=t.getAttribute("method")||zf,a=Jg(t.getAttribute("enctype"))||Ff,c=new FormData(t)}else if($j(t)||Qj(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(i=g?xa(g,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||zf,a=Jg(t.getAttribute("formenctype"))||Jg(m.getAttribute("enctype"))||Ff,c=new FormData(m,t),!eP()){let{name:x,type:_,value:T}=t;if(_==="image"){let A=x?`${x}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else x&&c.append(x,T)}}else{if(Lm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zf,i=null,a=Ff,h=t}return c&&a==="text/plain"&&(h=c,c=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iP(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&xa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function sP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aP(t,e,n){let i=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let h=await sP(c,n);return h.links?h.links():[]}return[]}));return uP(i.flat(1).filter(rP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Sw(t,e,n,i,a,c){let h=(g,x)=>n[x]?g.route.id!==n[x].route.id:!0,m=(g,x)=>n[x].pathname!==g.pathname||n[x].route.path?.endsWith("*")&&n[x].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,x)=>h(g,x)||m(g,x)):c==="data"?e.filter((g,x)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,x)||m(g,x))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function oP(t,e,{includeHydrateFallback:n}={}){return lP(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function lP(t){return[...new Set(t)]}function cP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function uP(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let c=JSON.stringify(cP(a));return n.has(c)||(n.add(c),i.push({key:c,link:a})),i},[])}function GE(){let t=U.useContext(ou);return U0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hP(){let t=U.useContext(Dm);return U0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var B0=U.createContext(void 0);B0.displayName="FrameworkContext";function ZE(){let t=U.useContext(B0);return U0(t,"You must render this element inside a <HydratedRouter> element"),t}function dP(t,e){let n=U.useContext(B0),[i,a]=U.useState(!1),[c,h]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:x,onMouseLeave:_,onTouchStart:T}=e,A=U.useRef(null);U.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let B=K=>{K.forEach(H=>{h(H.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[t]),U.useEffect(()=>{if(i){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[i]);let I=()=>{a(!0)},P=()=>{a(!1),h(!1)};return n?t!=="intent"?[c,A,{}]:[c,A,{onFocus:fh(m,I),onBlur:fh(g,P),onMouseEnter:fh(x,I),onMouseLeave:fh(_,P),onTouchStart:fh(T,I)}]:[!1,A,{}]}function fh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fP({page:t,...e}){let{router:n}=GE(),i=U.useMemo(()=>ME(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement(pP,{page:t,matches:i,...e}):null}function mP(t){let{manifest:e,routeModules:n}=ZE(),[i,a]=U.useState([]);return U.useEffect(()=>{let c=!1;return aP(t,e,n).then(h=>{c||a(h)}),()=>{c=!0}},[t,e,n]),i}function pP({page:t,matches:e,...n}){let i=ki(),{manifest:a,routeModules:c}=ZE(),{basename:h}=GE(),{loaderData:m,matches:g}=hP(),x=U.useMemo(()=>Sw(t,e,g,a,i,"data"),[t,e,g,a,i]),_=U.useMemo(()=>Sw(t,e,g,a,i,"assets"),[t,e,g,a,i]),T=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,B=!1;if(e.forEach(K=>{let H=a.routes[K.route.id];!H||!H.hasLoader||(!x.some($=>$.route.id===K.route.id)&&K.route.id in m&&c[K.route.id]?.shouldRevalidate||H.hasClientLoader?B=!0:P.add(K.route.id))}),P.size===0)return[];let V=iP(t,h,"data");return B&&P.size>0&&V.searchParams.set("_routes",e.filter(K=>P.has(K.route.id)).map(K=>K.route.id).join(",")),[V.pathname+V.search]},[h,m,i,a,x,e,t,c]),A=U.useMemo(()=>oP(_,a),[_,a]),I=mP(_);return U.createElement(U.Fragment,null,T.map(P=>U.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),A.map(P=>U.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:B})=>U.createElement("link",{key:P,nonce:n.nonce,...B})))}function gP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WE&&(window.__reactRouterVersion="7.9.1")}catch{}function yP({basename:t,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=ij({window:n,v5Compat:!0}));let a=i.current,[c,h]=U.useState({action:a.action,location:a.location}),m=U.useCallback(g=>{U.startTransition(()=>h(g))},[h]);return U.useLayoutEffect(()=>a.listen(m),[a,m]),U.createElement(Wj,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:c,replace:h,state:m,target:g,to:x,preventScrollReset:_,viewTransition:T,...A},I){let{basename:P}=U.useContext(ir),B=typeof x=="string"&&KE.test(x),V,K=!1;if(typeof x=="string"&&B&&(V=x,WE))try{let M=new URL(window.location.href),G=x.startsWith("//")?new URL(M.protocol+x):new URL(x),F=xa(G.pathname,P);G.origin===M.origin&&F!=null?x=F+G.search+G.hash:K=!0}catch{js(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=jj(x,{relative:a}),[$,X,ee]=dP(i,A),oe=_P(x,{replace:h,state:m,target:g,preventScrollReset:_,relative:a,viewTransition:T});function O(M){e&&e(M),M.defaultPrevented||oe(M)}let j=U.createElement("a",{...A,...ee,href:V||H,onClick:K||c?e:O,ref:gP(I,X),target:g,"data-discover":!B&&n==="render"?"true":void 0});return $&&!B?U.createElement(U.Fragment,null,j,U.createElement(fP,{page:H})):j});Ye.displayName="Link";var gh=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:c,to:h,viewTransition:m,children:g,...x},_){let T=td(h,{relative:x.relative}),A=ki(),I=U.useContext(Dm),{navigator:P,basename:B}=U.useContext(ir),V=I!=null&&SP(T)&&m===!0,K=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,H=A.pathname,$=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(H=H.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&B&&($=xa($,B)||$);const X=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ee=H===K||!a&&H.startsWith(K)&&H.charAt(X)==="/",oe=$!=null&&($===K||!a&&$.startsWith(K)&&$.charAt(K.length)==="/"),O={isActive:ee,isPending:oe,isTransitioning:V},j=ee?e:void 0,M;typeof i=="function"?M=i(O):M=[i,ee?"active":null,oe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(O):c;return U.createElement(Ye,{...x,"aria-current":j,className:M,ref:_,style:G,to:h,viewTransition:m},typeof g=="function"?g(O):g)});gh.displayName="NavLink";var vP=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:c,method:h=zf,action:m,onSubmit:g,relative:x,preventScrollReset:_,viewTransition:T,...A},I)=>{let P=TP(),B=EP(m,{relative:x}),V=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&KE.test(m),H=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let X=$.nativeEvent.submitter,ee=X?.getAttribute("formmethod")||h;P(X||$.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:a,state:c,relative:x,preventScrollReset:_,viewTransition:T})};return U.createElement("form",{ref:I,method:V,action:B,onSubmit:i?g:H,...A,"data-discover":!K&&t==="render"?"true":void 0})});vP.displayName="Form";function xP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(t){let e=U.useContext(ou);return Bt(e,xP(t)),e}function _P(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:h}={}){let m=Aa(),g=ki(),x=td(t,{relative:c});return U.useCallback(_=>{if(Jj(_,e)){_.preventDefault();let T=n!==void 0?n:Oh(g)===Oh(x);m(t,{replace:T,state:i,preventScrollReset:a,relative:c,viewTransition:h})}},[g,m,x,n,i,e,t,a,c,h])}var bP=0,wP=()=>`__${String(++bP)}__`;function TP(){let{router:t}=$E("useSubmit"),{basename:e}=U.useContext(ir),n=Hj();return U.useCallback(async(i,a={})=>{let{action:c,method:h,encType:m,formData:g,body:x}=nP(i,e);if(a.navigate===!1){let _=a.fetcherKey||wP();await t.fetch(_,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:x,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:x,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function EP(t,{relative:e}={}){let{basename:n}=U.useContext(ir),i=U.useContext(sr);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),c={...td(t||".",{relative:e})},h=ki();if(t==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();c.search=_?`?${_}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ga([n,c.pathname])),Oh(c)}function SP(t,{relative:e}={}){let n=U.useContext(UE);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$E("useViewTransitionState"),a=td(t,{relative:e});if(!n.isTransitioning)return!1;let c=xa(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=xa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return om(a.pathname,h)!=null||om(a.pathname,c)!=null}var AP=LE();const NP=()=>{};var Aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},CP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=t[n++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=t[n++],h=t[n++],m=t[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=t[n++],h=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const c=t[a],h=a+1<t.length,m=h?t[a+1]:0,g=a+2<t.length,x=g?t[a+2]:0,_=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|x>>6,I=x&63;g||(I=64,h||(A=64)),i.push(n[_],n[T],n[A],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const c=n[t.charAt(a++)],m=a<t.length?n[t.charAt(a)]:0;++a;const x=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,c==null||m==null||x==null||T==null)throw new RP;const A=c<<2|m>>4;if(i.push(A),x!==64){const I=m<<4&240|x>>2;if(i.push(I),T!==64){const P=x<<6&192|T;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jP=function(t){const e=YE(t);return QE.encodeByteArray(e,!0)},lm=function(t){return jP(t).replace(/\./g,"")},XE=function(t){try{return QE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=()=>PP().__FIREBASE_DEFAULTS__,DP=()=>{if(typeof process>"u"||typeof Aw>"u")return;const t=Aw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XE(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return NP()||IP()||DP()||LP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JE=t=>Mm()?.emulatorHosts?.[t],MP=t=>{const e=JE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},eS=()=>Mm()?.config,tS=t=>Mm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[lm(JSON.stringify(n)),lm(JSON.stringify(h)),""].join(".")}const Sh={};function VP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sh))Sh[e]?t.emulator.push(e):t.prod.push(e);return t}function UP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nw=!1;function iS(t,e){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Sh[t]===e||Sh[t]||Nw)return;Sh[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=VP().prod.length>0;function h(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function x(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Nw=!0,h()},A}function _(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=UP(i),I=n("text"),P=document.getElementById(I)||document.createElement("span"),B=n("learnmore"),V=document.getElementById(B)||document.createElement("a"),K=n("preprendIcon"),H=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const $=A.element;m($),_(V,B);const X=x();g(H,K),$.append(H,P,V,X),document.body.appendChild($)}c?(P.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function zP(){const t=Mm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GP(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZP(){return!zP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WP(){try{return typeof indexedDB=="object"}catch{return!1}}function KP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="FirebaseError";class Na extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=$P,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nd.prototype.create)}}class nd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?YP(c,i):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Na(a,m,i)}}function YP(t,e){return t.replace(QP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const QP=/\{\$([^}]+)}/g;function XP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const c=t[a],h=e[a];if(Cw(c)&&Cw(h)){if(!Dl(c,h))return!1}else if(c!==h)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,c]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function vh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JP(t,e){const n=new eI(t,e);return n.subscribe.bind(n)}class eI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");tI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=ey),a.error===void 0&&(a.error=ey),a.complete===void 0&&(a.complete=ey);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ey(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class Ll{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sI(e))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=Tl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tl){return this.instances.has(e)}getOptions(e=Tl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Tl){return this.component?this.component.multipleInstances?e:Tl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(t){return t===Tl?void 0:t}function sI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const aI={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},oI=ct.INFO,lI={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},cI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=lI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z0{constructor(e){this.name=e,this._logLevel=oI,this._logHandler=cI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const uI=(t,e)=>e.some(n=>t instanceof n);let Rw,jw;function hI(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dI(){return jw||(jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,Ly=new WeakMap,rS=new WeakMap,ty=new WeakMap,F0=new WeakMap;function fI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",h)},c=()=>{n(Co(t.result)),a()},h=()=>{i(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&sS.set(n,t)}).catch(()=>{}),F0.set(e,t),e}function mI(t){if(Ly.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",h),t.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",h),t.addEventListener("abort",h)});Ly.set(t,e)}let My={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pI(t){My=t(My)}function gI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ny(this),e,...n);return rS.set(i,e.sort?e.sort():[e]),Co(i)}:dI().includes(t)?function(...e){return t.apply(ny(this),e),Co(sS.get(this))}:function(...e){return Co(t.apply(ny(this),e))}}function yI(t){return typeof t=="function"?gI(t):(t instanceof IDBTransaction&&mI(t),uI(t,hI())?new Proxy(t,My):t)}function Co(t){if(t instanceof IDBRequest)return fI(t);if(ty.has(t))return ty.get(t);const e=yI(t);return e!==t&&(ty.set(t,e),F0.set(e,t)),e}const ny=t=>F0.get(t);function vI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:c}={}){const h=indexedDB.open(t,e),m=Co(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Co(h.result),g.oldVersion,g.newVersion,Co(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",x=>a(x.oldVersion,x.newVersion,x))}).catch(()=>{}),m}const xI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],iy=new Map;function Pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=_I.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||xI.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let x=g.store;return i&&(x=x.index(m.shift())),(await Promise.all([x[n](...m),a&&g.done]))[0]};return iy.set(e,c),c}pI(t=>({...t,get:(e,n,i)=>Pw(e,n)||t.get(e,n,i),has:(e,n)=>!!Pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wI(t){return t.getComponent()?.type==="VERSION"}const ky="@firebase/app",Iw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new z0("@firebase/app"),TI="@firebase/app-compat",EI="@firebase/analytics-compat",SI="@firebase/analytics",AI="@firebase/app-check-compat",NI="@firebase/app-check",CI="@firebase/auth",RI="@firebase/auth-compat",jI="@firebase/database",PI="@firebase/data-connect",II="@firebase/database-compat",DI="@firebase/functions",LI="@firebase/functions-compat",MI="@firebase/installations",kI="@firebase/installations-compat",OI="@firebase/messaging",VI="@firebase/messaging-compat",UI="@firebase/performance",BI="@firebase/performance-compat",zI="@firebase/remote-config",FI="@firebase/remote-config-compat",HI="@firebase/storage",qI="@firebase/storage-compat",GI="@firebase/firestore",ZI="@firebase/ai",WI="@firebase/firestore-compat",KI="firebase",$I="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="[DEFAULT]",YI={[ky]:"fire-core",[TI]:"fire-core-compat",[SI]:"fire-analytics",[EI]:"fire-analytics-compat",[NI]:"fire-app-check",[AI]:"fire-app-check-compat",[CI]:"fire-auth",[RI]:"fire-auth-compat",[jI]:"fire-rtdb",[PI]:"fire-data-connect",[II]:"fire-rtdb-compat",[DI]:"fire-fn",[LI]:"fire-fn-compat",[MI]:"fire-iid",[kI]:"fire-iid-compat",[OI]:"fire-fcm",[VI]:"fire-fcm-compat",[UI]:"fire-perf",[BI]:"fire-perf-compat",[zI]:"fire-rc",[FI]:"fire-rc-compat",[HI]:"fire-gcs",[qI]:"fire-gcs-compat",[GI]:"fire-fst",[WI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Map,QI=new Map,Vy=new Map;function Dw(t,e){try{t.container.addComponent(e)}catch(n){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $c(t){const e=t.name;if(Vy.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;Vy.set(e,t);for(const n of cm.values())Dw(n,t);for(const n of QI.values())Dw(n,t);return!0}function H0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ss(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new nd("app","Firebase",XI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=$I;function aS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Oy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ro.create("bad-app-name",{appName:String(a)});if(n||(n=eS()),!n)throw Ro.create("no-options");const c=cm.get(a);if(c){if(Dl(n,c.options)&&Dl(i,c.config))return c;throw Ro.create("duplicate-app",{appName:a})}const h=new rI(a);for(const g of Vy.values())h.addComponent(g);const m=new JI(n,i,h);return cm.set(a,m),m}function oS(t=Oy){const e=cm.get(t);if(!e&&t===Oy&&eS())return aS();if(!e)throw Ro.create("no-app",{appName:t});return e}function jo(t,e,n){let i=YI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(h.join(" "));return}$c(new Ll(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="firebase-heartbeat-database",tD=1,Vh="firebase-heartbeat-store";let sy=null;function lS(){return sy||(sy=vI(eD,tD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),sy}async function nD(t){try{const n=(await lS()).transaction(Vh),i=await n.objectStore(Vh).get(cS(t));return await n.done,i}catch(e){if(e instanceof Na)_a.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e?.message});_a.warn(n.message)}}}async function Lw(t,e){try{const i=(await lS()).transaction(Vh,"readwrite");await i.objectStore(Vh).put(e,cS(t)),await i.done}catch(n){if(n instanceof Na)_a.warn(n.message);else{const i=Ro.create("idb-set",{originalErrorMessage:n?.message});_a.warn(i.message)}}}function cS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1024,sD=30;class rD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>sD){const a=lD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mw(),{heartbeatsToSend:n,unsentEntries:i}=aD(this._heartbeatsCache.heartbeats),a=lm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return _a.warn(e),""}}}function Mw(){return new Date().toISOString().substring(0,10)}function aD(t,e=iD){const n=[];let i=t.slice();for(const a of t){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),kw(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WP()?KP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kw(t){return lm(JSON.stringify({version:2,heartbeats:t})).length}function lD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){$c(new Ll("platform-logger",e=>new bI(e),"PRIVATE")),$c(new Ll("heartbeat",e=>new rD(e),"PRIVATE")),jo(ky,Iw,t),jo(ky,Iw,"esm2020"),jo("fire-js","")}cD("");function uS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uD=uS,hS=new nd("auth","Firebase",uS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new z0("@firebase/auth");function hD(t,...e){um.logLevel<=ct.WARN&&um.warn(`Auth (${uu}): ${t}`,...e)}function Hf(t,...e){um.logLevel<=ct.ERROR&&um.error(`Auth (${uu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw q0(t,...e)}function Ar(t,...e){return q0(t,...e)}function dS(t,e,n){const i={...uD(),[e]:n};return new nd("auth","Firebase",i).create(e,{appName:t.name})}function ya(t){return dS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return hS.create(t,...e)}function Ge(t,e,...n){if(!t)throw q0(e,...n)}function ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hf(e),new Error(e)}function ba(t,e){t||ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){return typeof self<"u"&&self.location?.href||""}function dD(){return Ow()==="http:"||Ow()==="https:"}function Ow(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dD()||HP()||"connection"in navigator)?navigator.onLine:!0}function mD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ba(n>e,"Short delay should be less than long delay!"),this.isMobile=BP()||qP()}get(){return fD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){ba(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yD=new sd(3e4,6e4);function Ca(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function kr(t,e,n,i,a={}){return mS(t,a,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=id({key:t.config.apiKey,...h}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const x={method:e,headers:g,...c};return FP()||(x.referrerPolicy="no-referrer"),t.emulatorConfig&&cu(t.emulatorConfig.host)&&(x.credentials="include"),fS.fetch()(await pS(t,t.config.apiHost,n,m),x)})}async function mS(t,e,n){t._canInitEmulator=!1;const i={...pD,...e};try{const a=new xD(t),c=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Rf(t,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,x]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(t,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Rf(t,"email-already-in-use",h);if(g==="USER_DISABLED")throw Rf(t,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw dS(t,_,x);er(t,_)}}catch(a){if(a instanceof Na)throw a;er(t,"network-request-failed",{message:String(a)})}}async function rd(t,e,n,i,a={}){const c=await kr(t,e,n,i,a);return"mfaPendingCredential"in c&&er(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function pS(t,e,n,i){const a=`${e}${n}?${i}`,c=t,h=c.config.emulator?G0(t.config,a):`${t.config.apiScheme}://${a}`;return gD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function vD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ar(this.auth,"network-request-failed")),yD.get())})}}function Rf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ar(t,e,i);return a.customData._tokenResponse=n,a}function Vw(t){return t!==void 0&&t.enterprise!==void 0}class _D{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bD(t,e){return kr(t,"GET","/v2/recaptchaConfig",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){return kr(t,"POST","/v1/accounts:delete",e)}async function hm(t,e){return kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TD(t,e=!1){const n=bn(t),i=await n.getIdToken(e),a=Z0(i);Ge(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,h=c?.sign_in_provider;return{claims:a,token:i,authTime:Ah(ry(a.auth_time)),issuedAtTime:Ah(ry(a.iat)),expirationTime:Ah(ry(a.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function ry(t){return Number(t)*1e3}function Z0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const a=XE(n);return a?JSON.parse(a):(Hf("Failed to decode base64 JWT payload"),null)}catch(a){return Hf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Uw(t){const e=Z0(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Na&&ED(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function ED({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t){const e=t.auth,n=await t.getIdToken(),i=await Yc(t,hm(e,{idToken:n}));Ge(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=a.providerUserInfo?.length?gS(a.providerUserInfo):[],h=ND(t.providerData,c),m=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!h?.length,x=m?g:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new By(a.createdAt,a.lastLoginAt),isAnonymous:x};Object.assign(t,_)}async function AD(t){const e=bn(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ND(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function gS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){const n=await mS(t,{},async()=>{const i=id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=t.config,h=await pS(t,a,"/v1/token",`key=${c}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return t.emulatorConfig&&cu(t.emulatorConfig.host)&&(g.credentials="include"),fS.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RD(t,e){return kr(t,"POST","/v2/accounts:revokeToken",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=Uw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:c}=await CD(e,n);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:c}=n,h=new Hc;return i&&(Ge(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),a&&(Ge(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),c&&(Ge(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hc,this.toJSON())}_performRefresh(){return ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Js{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new SD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new By(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TD(this,e)}reload(){return AD(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Js({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await dm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await Yc(this,wD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,x=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:P,stsTokenManager:B}=n;Ge(T&&B,e,"internal-error");const V=Hc.fromJSON(this.name,B);Ge(typeof T=="string",e,"internal-error"),bo(i,e.name),bo(a,e.name),Ge(typeof A=="boolean",e,"internal-error"),Ge(typeof I=="boolean",e,"internal-error"),bo(c,e.name),bo(h,e.name),bo(m,e.name),bo(g,e.name),bo(x,e.name),bo(_,e.name);const K=new Js({uid:T,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:I,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:V,createdAt:x,lastLoginAt:_});return P&&Array.isArray(P)&&(K.providerData=P.map(H=>({...H}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,n,i=!1){const a=new Hc;a.updateFromServerResponse(n);const c=new Js({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await dm(c),c}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ge(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?gS(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!c?.length,m=new Hc;m.updateFromIdToken(i);const g=new Js({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new By(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(g,x),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function pa(t){ba(t instanceof Function,"Expected a class definition");let e=Bw.get(t);return e?(ba(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yS.type="NONE";const zw=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t,e,n){return`firebase:${t}:${e}:${n}`}class qc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=qf(this.userKey,a.apiKey,c),this.fullPersistenceKey=qf("persistence",a.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hm(this.auth,{idToken:e}).catch(()=>{});return n?Js._fromGetAccountInfoResponse(this.auth,n,e):null}return Js._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new qc(pa(zw),e,i);const a=(await Promise.all(n.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let c=a[0]||pa(zw);const h=qf(i,e.config.apiKey,e.name);let m=null;for(const x of n)try{const _=await x._get(h);if(_){let T;if(typeof _=="string"){const A=await hm(e,{idToken:_}).catch(()=>{});if(!A)break;T=await Js._fromGetAccountInfoResponse(e,A,_)}else T=Js._fromJSON(e,_);x!==c&&(m=T),c=x;break}}catch{}const g=a.filter(x=>x._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new qc(c,e,i):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async x=>{if(x!==c)try{await x._remove(h)}catch{}})),new qc(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TS(e))return"Blackberry";if(ES(e))return"Webos";if(xS(e))return"Safari";if((e.includes("chrome/")||_S(e))&&!e.includes("edge/"))return"Chrome";if(wS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function vS(t=ti()){return/firefox\//i.test(t)}function xS(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _S(t=ti()){return/crios\//i.test(t)}function bS(t=ti()){return/iemobile/i.test(t)}function wS(t=ti()){return/android/i.test(t)}function TS(t=ti()){return/blackberry/i.test(t)}function ES(t=ti()){return/webos/i.test(t)}function W0(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jD(t=ti()){return W0(t)&&!!window.navigator?.standalone}function PD(){return GP()&&document.documentMode===10}function SS(t=ti()){return W0(t)||wS(t)||ES(t)||TS(t)||/windows phone/i.test(t)||bS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e=[]){let n;switch(t){case"Browser":n=Fw(ti());break;case"Worker":n=`${Fw(ti())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e={}){return kr(t,"GET","/v2/passwordPolicy",Ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class MD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new ID(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hm(this,{idToken:e}),i=await Js._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ss(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(ya(this));const n=e?bn(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DD(this),n=new MD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await qc.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,a);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zo(t){return bn(t)}let Hw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=JP(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(t){km=t}function NS(t){return km.loadJS(t)}function VD(){return km.recaptchaEnterpriseScript}function UD(){return km.gapiScript}function BD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zD{constructor(){this.enterprise=new FD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HD="recaptcha-enterprise",CS="NO_RECAPTCHA";class qD{constructor(e){this.type=HD,this.auth=zo(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{bD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const x=new _D(g);return c.tenantId==null?c._agentRecaptchaConfig=x:c._tenantRecaptchaConfigs[c.tenantId]=x,h(x.siteKey)}}).catch(g=>{m(g)})})}function a(c,h,m){const g=window.grecaptcha;Vw(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(x=>{h(x)}).catch(()=>{h(CS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zD().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(m=>{if(!n&&Vw(window.grecaptcha))a(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=VD();g.length!==0&&(g+=m),NS(g).then(()=>{a(m,c,h)}).catch(x=>{h(x)})}}).catch(m=>{h(m)})})}}async function qw(t,e,n,i=!1,a=!1){const c=new qD(t);let h;if(a)h=CS;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,x=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:x,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fm(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await qw(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await qw(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e){const n=H0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(Dl(c,e??{}))return a;er(a,"already-initialized")}return n.initialize({options:e})}function ZD(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(pa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function WD(t,e,n){const i=zo(t);Ge(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=RS(e),{host:h,port:m}=KD(e),g=m===null?"":`:${m}`,x={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ge(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ge(Dl(x,i.config.emulator)&&Dl(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=x,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,cu(h)?(nS(`${c}//${h}${g}`),iS("Auth",!0)):$D()}function RS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KD(t){const e=RS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Gw(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:Gw(h)}}}function Gw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $D(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,n){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function YD(t,e){return kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e){return rd(t,"POST","/v1/accounts:signInWithPassword",Ca(t,e))}async function XD(t,e){return kr(t,"POST","/v1/accounts:sendOobCode",Ca(t,e))}async function JD(t,e){return XD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}async function t4(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends K0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Uh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Uh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,n,"signInWithPassword",QD);case"emailLink":return e4(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,i,"signUpPassword",YD);case"emailLink":return t4(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e){return rd(t,"POST","/v1/accounts:signInWithIdp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="http://localhost";class Ml extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=n;if(!i||!a)return null;const h=new Ml(i,a);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Gc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Gc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gc(e,n)}buildRequest(){const e={requestUri:n4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=id(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s4(t){const e=yh(vh(t)).link,n=e?yh(vh(e)).deep_link_id:null,i=yh(vh(t)).deep_link_id;return(i?yh(vh(i)).link:null)||i||n||e||t}class $0{constructor(e){const n=yh(vh(e)),i=n.apiKey??null,a=n.oobCode??null,c=i4(n.mode??null);Ge(i&&a&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=s4(e);try{return new $0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,n){return Uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=$0.parseLink(n);return Ge(i,"argument-error"),Uh._fromEmailAndCode(e,i.code,i.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends ad{constructor(){super("facebook.com")}static credential(e){return Ml._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ml._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Eo.credential(n,i)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends ad{constructor(){super("github.com")}static credential(e){return Ml._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends ad{constructor(){super("twitter.com")}static credential(e,n){return Ml._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ao.credential(n,i)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){return rd(t,"POST","/v1/accounts:signUp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const c=await Js._fromIdTokenResponse(e,i,a),h=Zw(i);return new kl({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Zw(i);return new kl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends Na{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,mm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new mm(e,n,i,a)}}function PS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(t,c,e,i):c})}async function a4(t,e,n=!1){const i=await Yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e,n=!1){const{auth:i}=t;if(Ss(i.app))return Promise.reject(ya(i));const a="reauthenticate";try{const c=await Yc(t,PS(i,a,e,t),n);Ge(c.idToken,i,"internal-error");const h=Z0(c.idToken);Ge(h,i,"internal-error");const{sub:m}=h;return Ge(t.uid===m,i,"user-mismatch"),kl._forOperation(t,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&er(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(t,e,n=!1){if(Ss(t.app))return Promise.reject(ya(t));const i="signIn",a=await PS(t,i,e),c=await kl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(c.user),c}async function l4(t,e){return IS(zo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t){const e=zo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c4(t,e,n){const i=zo(t);await fm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",JD)}async function u4(t,e,n){if(Ss(t.app))return Promise.reject(ya(t));const i=zo(t),h=await fm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r4).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&DS(t),g}),m=await kl._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function h4(t,e,n){return Ss(t.app)?Promise.reject(ya(t)):l4(bn(t),hu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DS(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e){return kr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=bn(t),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Yc(i,d4(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const m=i.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function m4(t,e,n,i){return bn(t).onIdTokenChanged(e,n,i)}function p4(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function LS(t,e,n,i){return bn(t).onAuthStateChanged(e,n,i)}function g4(t){return bn(t).signOut()}const pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1e3,v4=10;class kS extends MS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);PD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,v4):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kS.type="LOCAL";const x4=kS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends MS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OS.type="SESSION";const VS=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Om(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:c}=n.data,h=this.handlersMap[a];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(h).map(async x=>x(n.origin,c)),g=await _4(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const x=Y0("",20);a.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===x)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:x,data:n},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function w4(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function T4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E4(){return navigator?.serviceWorker?.controller||null}function S4(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebaseLocalStorageDb",A4=1,gm="firebaseLocalStorage",zS="fbase_key";class od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vm(t,e){return t.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function N4(){const t=indexedDB.deleteDatabase(BS);return new od(t).toPromise()}function zy(){const t=indexedDB.open(BS,A4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gm,{keyPath:zS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gm)?e(i):(i.close(),await N4(),e(await zy()))})})}async function Ww(t,e,n){const i=Vm(t,!0).put({[zS]:e,value:n});return new od(i).toPromise()}async function C4(t,e){const n=Vm(t,!1).get(e),i=await new od(n).toPromise();return i===void 0?null:i.value}function Kw(t,e){const n=Vm(t,!0).delete(e);return new od(n).toPromise()}const R4=800,j4=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>j4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(S4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await T4(),!this.activeServiceWorker)return;this.sender=new b4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await Ww(e,pm,"1"),await Kw(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ww(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>C4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Vm(a,!1).getAll();return new od(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const P4=FS;new sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t,e){return e?pa(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends K0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D4(t){return IS(t.auth,new Q0(t),t.bypassAuthState)}function L4(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),o4(n,new Q0(t),t.bypassAuthState)}async function M4(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),a4(n,new Q0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return L4;default:er(this.auth,"internal-error")}}resolve(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new sd(2e3,1e4);class Oc extends HS{constructor(e,n,i,a,c){super(e,n,a,c),this.provider=i,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){ba(this.filter.length===1,"Popup operations only handle one event");const e=Y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k4.get())};e()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="pendingRedirect",Gf=new Map;class V4 extends HS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const i=await U4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U4(t,e){const n=F4(e),i=z4(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function B4(t,e){Gf.set(t._key(),e)}function z4(t){return pa(t._redirectPersistence)}function F4(t){return qf(O4,t.config.apiKey,t.name)}async function H4(t,e,n=!1){if(Ss(t.app))return Promise.reject(ya(t));const i=zo(t),a=I4(i,e),h=await new V4(i,a,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=600*1e3;class G4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q4&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Z4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e={}){return kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$4=/^https?/;async function Y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W4(t);for(const n of e)try{if(Q4(n))return}catch{}er(t,"unauthorized-domain")}function Q4(t){const e=Uy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!$4.test(n))return!1;if(K4.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new sd(3e4,6e4);function Yw(){const t=Nr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J4(t){return new Promise((e,n)=>{function i(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(Ar(t,"network-request-failed"))},timeout:X4.get()})}if(Nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Nr().gapi?.load)i();else{const a=BD("iframefcb");return Nr()[a]=()=>{gapi.load?i():n(Ar(t,"network-request-failed"))},NS(`${UD()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Zf=null,e})}let Zf=null;function eL(t){return Zf=Zf||J4(t),Zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new sd(5e3,15e3),nL="__/auth/iframe",iL="emulator/auth/iframe",sL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aL(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?G0(e,iL):`https://${t.config.authDomain}/${nL}`,i={apiKey:e.apiKey,appName:t.name,v:uu},a=rL.get(t.config.apiHost);a&&(i.eid=a);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${id(i).slice(1)}`}async function oL(t){const e=await eL(t),n=Nr().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:aL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sL,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const h=Ar(t,"network-request-failed"),m=Nr().setTimeout(()=>{c(h)},tL.get());function g(){Nr().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cL=500,uL=600,hL="_blank",dL="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fL(t,e,n,i=cL,a=uL){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...lL,width:i.toString(),height:a.toString(),top:c,left:h},x=ti().toLowerCase();n&&(m=_S(x)?hL:n),vS(x)&&(e=e||dL,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[I,P])=>`${A}${I}=${P},`,"");if(jD(x)&&m!=="_self")return mL(e||"",m),new Qw(null);const T=window.open(e||"",m,_);Ge(T,t,"popup-blocked");try{T.focus()}catch{}return new Qw(T)}function mL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="__/auth/handler",gL="emulator/auth/handler",yL=encodeURIComponent("fac");async function Xw(t,e,n,i,a,c){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:uu,eventId:a};if(e instanceof jS){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",XP(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof ad){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}t.tenantId&&(h.tid=t.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await t._getAppCheckToken(),x=g?`#${yL}=${encodeURIComponent(g)}`:"";return`${vL(t)}?${id(m).slice(1)}${x}`}function vL({config:t}){return t.emulator?G0(t,gL):`https://${t.authDomain}/${pL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="webStorageSupport";class xL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VS,this._completeRedirectFn=H4,this._overrideRedirectResult=B4}async _openPopup(e,n,i,a){ba(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Xw(e,n,i,Uy(),a);return fL(e,c,Y0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const c=await Xw(e,n,i,Uy(),a);return w4(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:c}=this.eventManagers[n];return a?Promise.resolve(a):(ba(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await oL(e),i=new G4(e);return n.register("authEvent",a=>(Ge(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ay,{type:ay},a=>{const c=a?.[0]?.[ay];c!==void 0&&n(!!c),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||xS()||W0()}}const _L=xL;var Jw="@firebase/auth",e1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TL(t){$c(new Ll("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Ge(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},x=new kD(i,a,c,g);return ZD(x,n),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$c(new Ll("auth-internal",e=>{const n=zo(e.getProvider("auth").getImmediate());return(i=>new bL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jo(Jw,e1,wL(t)),jo(Jw,e1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=300,SL=tS("authIdTokenMaxAge")||EL;let t1=null;const AL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>SL)return;const a=n?.token;t1!==a&&(t1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GS(t=oS()){const e=H0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GD(t,{popupRedirectResolver:_L,persistence:[P4,x4,VS]}),i=tS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=AL(c.toString());p4(n,h,()=>h(n.currentUser)),m4(n,m=>h(m))}}const a=JE("auth");return a&&WD(n,`http://${a}`),n}function NL(){return document.getElementsByTagName("head")?.[0]??document}OD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const c=Ar("internal-error");c.customData=a,n(c)},i.type="text/javascript",i.charset="UTF-8",NL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TL("Browser");var CL="firebase",RL="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo(CL,RL,"app");var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,ZS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,j){function M(){}M.prototype=j.prototype,O.F=j.prototype,O.prototype=new M,O.prototype.constructor=O,O.D=function(G,F,Y){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return j.prototype[F].apply(G,q)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,j,M){M||(M=0);const G=Array(16);if(typeof j=="string")for(var F=0;F<16;++F)G[F]=j.charCodeAt(M++)|j.charCodeAt(M++)<<8|j.charCodeAt(M++)<<16|j.charCodeAt(M++)<<24;else for(F=0;F<16;++F)G[F]=j[M++]|j[M++]<<8|j[M++]<<16|j[M++]<<24;j=O.g[0],M=O.g[1],F=O.g[2];let Y=O.g[3],q;q=j+(Y^M&(F^Y))+G[0]+3614090360&4294967295,j=M+(q<<7&4294967295|q>>>25),q=Y+(F^j&(M^F))+G[1]+3905402710&4294967295,Y=j+(q<<12&4294967295|q>>>20),q=F+(M^Y&(j^M))+G[2]+606105819&4294967295,F=Y+(q<<17&4294967295|q>>>15),q=M+(j^F&(Y^j))+G[3]+3250441966&4294967295,M=F+(q<<22&4294967295|q>>>10),q=j+(Y^M&(F^Y))+G[4]+4118548399&4294967295,j=M+(q<<7&4294967295|q>>>25),q=Y+(F^j&(M^F))+G[5]+1200080426&4294967295,Y=j+(q<<12&4294967295|q>>>20),q=F+(M^Y&(j^M))+G[6]+2821735955&4294967295,F=Y+(q<<17&4294967295|q>>>15),q=M+(j^F&(Y^j))+G[7]+4249261313&4294967295,M=F+(q<<22&4294967295|q>>>10),q=j+(Y^M&(F^Y))+G[8]+1770035416&4294967295,j=M+(q<<7&4294967295|q>>>25),q=Y+(F^j&(M^F))+G[9]+2336552879&4294967295,Y=j+(q<<12&4294967295|q>>>20),q=F+(M^Y&(j^M))+G[10]+4294925233&4294967295,F=Y+(q<<17&4294967295|q>>>15),q=M+(j^F&(Y^j))+G[11]+2304563134&4294967295,M=F+(q<<22&4294967295|q>>>10),q=j+(Y^M&(F^Y))+G[12]+1804603682&4294967295,j=M+(q<<7&4294967295|q>>>25),q=Y+(F^j&(M^F))+G[13]+4254626195&4294967295,Y=j+(q<<12&4294967295|q>>>20),q=F+(M^Y&(j^M))+G[14]+2792965006&4294967295,F=Y+(q<<17&4294967295|q>>>15),q=M+(j^F&(Y^j))+G[15]+1236535329&4294967295,M=F+(q<<22&4294967295|q>>>10),q=j+(F^Y&(M^F))+G[1]+4129170786&4294967295,j=M+(q<<5&4294967295|q>>>27),q=Y+(M^F&(j^M))+G[6]+3225465664&4294967295,Y=j+(q<<9&4294967295|q>>>23),q=F+(j^M&(Y^j))+G[11]+643717713&4294967295,F=Y+(q<<14&4294967295|q>>>18),q=M+(Y^j&(F^Y))+G[0]+3921069994&4294967295,M=F+(q<<20&4294967295|q>>>12),q=j+(F^Y&(M^F))+G[5]+3593408605&4294967295,j=M+(q<<5&4294967295|q>>>27),q=Y+(M^F&(j^M))+G[10]+38016083&4294967295,Y=j+(q<<9&4294967295|q>>>23),q=F+(j^M&(Y^j))+G[15]+3634488961&4294967295,F=Y+(q<<14&4294967295|q>>>18),q=M+(Y^j&(F^Y))+G[4]+3889429448&4294967295,M=F+(q<<20&4294967295|q>>>12),q=j+(F^Y&(M^F))+G[9]+568446438&4294967295,j=M+(q<<5&4294967295|q>>>27),q=Y+(M^F&(j^M))+G[14]+3275163606&4294967295,Y=j+(q<<9&4294967295|q>>>23),q=F+(j^M&(Y^j))+G[3]+4107603335&4294967295,F=Y+(q<<14&4294967295|q>>>18),q=M+(Y^j&(F^Y))+G[8]+1163531501&4294967295,M=F+(q<<20&4294967295|q>>>12),q=j+(F^Y&(M^F))+G[13]+2850285829&4294967295,j=M+(q<<5&4294967295|q>>>27),q=Y+(M^F&(j^M))+G[2]+4243563512&4294967295,Y=j+(q<<9&4294967295|q>>>23),q=F+(j^M&(Y^j))+G[7]+1735328473&4294967295,F=Y+(q<<14&4294967295|q>>>18),q=M+(Y^j&(F^Y))+G[12]+2368359562&4294967295,M=F+(q<<20&4294967295|q>>>12),q=j+(M^F^Y)+G[5]+4294588738&4294967295,j=M+(q<<4&4294967295|q>>>28),q=Y+(j^M^F)+G[8]+2272392833&4294967295,Y=j+(q<<11&4294967295|q>>>21),q=F+(Y^j^M)+G[11]+1839030562&4294967295,F=Y+(q<<16&4294967295|q>>>16),q=M+(F^Y^j)+G[14]+4259657740&4294967295,M=F+(q<<23&4294967295|q>>>9),q=j+(M^F^Y)+G[1]+2763975236&4294967295,j=M+(q<<4&4294967295|q>>>28),q=Y+(j^M^F)+G[4]+1272893353&4294967295,Y=j+(q<<11&4294967295|q>>>21),q=F+(Y^j^M)+G[7]+4139469664&4294967295,F=Y+(q<<16&4294967295|q>>>16),q=M+(F^Y^j)+G[10]+3200236656&4294967295,M=F+(q<<23&4294967295|q>>>9),q=j+(M^F^Y)+G[13]+681279174&4294967295,j=M+(q<<4&4294967295|q>>>28),q=Y+(j^M^F)+G[0]+3936430074&4294967295,Y=j+(q<<11&4294967295|q>>>21),q=F+(Y^j^M)+G[3]+3572445317&4294967295,F=Y+(q<<16&4294967295|q>>>16),q=M+(F^Y^j)+G[6]+76029189&4294967295,M=F+(q<<23&4294967295|q>>>9),q=j+(M^F^Y)+G[9]+3654602809&4294967295,j=M+(q<<4&4294967295|q>>>28),q=Y+(j^M^F)+G[12]+3873151461&4294967295,Y=j+(q<<11&4294967295|q>>>21),q=F+(Y^j^M)+G[15]+530742520&4294967295,F=Y+(q<<16&4294967295|q>>>16),q=M+(F^Y^j)+G[2]+3299628645&4294967295,M=F+(q<<23&4294967295|q>>>9),q=j+(F^(M|~Y))+G[0]+4096336452&4294967295,j=M+(q<<6&4294967295|q>>>26),q=Y+(M^(j|~F))+G[7]+1126891415&4294967295,Y=j+(q<<10&4294967295|q>>>22),q=F+(j^(Y|~M))+G[14]+2878612391&4294967295,F=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(F|~j))+G[5]+4237533241&4294967295,M=F+(q<<21&4294967295|q>>>11),q=j+(F^(M|~Y))+G[12]+1700485571&4294967295,j=M+(q<<6&4294967295|q>>>26),q=Y+(M^(j|~F))+G[3]+2399980690&4294967295,Y=j+(q<<10&4294967295|q>>>22),q=F+(j^(Y|~M))+G[10]+4293915773&4294967295,F=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(F|~j))+G[1]+2240044497&4294967295,M=F+(q<<21&4294967295|q>>>11),q=j+(F^(M|~Y))+G[8]+1873313359&4294967295,j=M+(q<<6&4294967295|q>>>26),q=Y+(M^(j|~F))+G[15]+4264355552&4294967295,Y=j+(q<<10&4294967295|q>>>22),q=F+(j^(Y|~M))+G[6]+2734768916&4294967295,F=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(F|~j))+G[13]+1309151649&4294967295,M=F+(q<<21&4294967295|q>>>11),q=j+(F^(M|~Y))+G[4]+4149444226&4294967295,j=M+(q<<6&4294967295|q>>>26),q=Y+(M^(j|~F))+G[11]+3174756917&4294967295,Y=j+(q<<10&4294967295|q>>>22),q=F+(j^(Y|~M))+G[2]+718787259&4294967295,F=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(F|~j))+G[9]+3951481745&4294967295,O.g[0]=O.g[0]+j&4294967295,O.g[1]=O.g[1]+(F+(q<<21&4294967295|q>>>11))&4294967295,O.g[2]=O.g[2]+F&4294967295,O.g[3]=O.g[3]+Y&4294967295}i.prototype.v=function(O,j){j===void 0&&(j=O.length);const M=j-this.blockSize,G=this.C;let F=this.h,Y=0;for(;Y<j;){if(F==0)for(;Y<=M;)a(this,O,Y),Y+=this.blockSize;if(typeof O=="string"){for(;Y<j;)if(G[F++]=O.charCodeAt(Y++),F==this.blockSize){a(this,G),F=0;break}}else for(;Y<j;)if(G[F++]=O[Y++],F==this.blockSize){a(this,G),F=0;break}}this.h=F,this.o+=j},i.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var j=1;j<O.length-8;++j)O[j]=0;j=this.o*8;for(var M=O.length-8;M<O.length;++M)O[M]=j&255,j/=256;for(this.v(O),O=Array(16),j=0,M=0;M<4;++M)for(let G=0;G<32;G+=8)O[j++]=this.g[M]>>>G&255;return O};function c(O,j){var M=m;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=j(O)}function h(O,j){this.h=j;const M=[];let G=!0;for(let F=O.length-1;F>=0;F--){const Y=O[F]|0;G&&Y==j||(M[F]=Y,G=!1)}this.g=M}var m={};function g(O){return-128<=O&&O<128?c(O,function(j){return new h([j|0],j<0?-1:0)}):new h([O|0],O<0?-1:0)}function x(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return V(x(-O));const j=[];let M=1;for(let G=0;O>=M;G++)j[G]=O/M|0,M*=4294967296;return new h(j,0)}function _(O,j){if(O.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(O.charAt(0)=="-")return V(_(O.substring(1),j));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=x(Math.pow(j,8));let G=T;for(let Y=0;Y<O.length;Y+=8){var F=Math.min(8,O.length-Y);const q=parseInt(O.substring(Y,Y+F),j);F<8?(F=x(Math.pow(j,F)),G=G.j(F).add(x(q))):(G=G.j(M),G=G.add(x(q)))}return G}var T=g(0),A=g(1),I=g(16777216);t=h.prototype,t.m=function(){if(B(this))return-V(this).m();let O=0,j=1;for(let M=0;M<this.g.length;M++){const G=this.i(M);O+=(G>=0?G:4294967296+G)*j,j*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(B(this))return"-"+V(this).toString(O);const j=x(Math.pow(O,6));var M=this;let G="";for(;;){const F=X(M,j).g;M=K(M,F.j(j));let Y=((M.g.length>0?M.g[0]:M.h)>>>0).toString(O);if(M=F,P(M))return Y+G;for(;Y.length<6;)Y="0"+Y;G=Y+G}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(let j=0;j<O.g.length;j++)if(O.g[j]!=0)return!1;return!0}function B(O){return O.h==-1}t.l=function(O){return O=K(this,O),B(O)?-1:P(O)?0:1};function V(O){const j=O.g.length,M=[];for(let G=0;G<j;G++)M[G]=~O.g[G];return new h(M,~O.h).add(A)}t.abs=function(){return B(this)?V(this):this},t.add=function(O){const j=Math.max(this.g.length,O.g.length),M=[];let G=0;for(let F=0;F<=j;F++){let Y=G+(this.i(F)&65535)+(O.i(F)&65535),q=(Y>>>16)+(this.i(F)>>>16)+(O.i(F)>>>16);G=q>>>16,Y&=65535,q&=65535,M[F]=q<<16|Y}return new h(M,M[M.length-1]&-2147483648?-1:0)};function K(O,j){return O.add(V(j))}t.j=function(O){if(P(this)||P(O))return T;if(B(this))return B(O)?V(this).j(V(O)):V(V(this).j(O));if(B(O))return V(this.j(V(O)));if(this.l(I)<0&&O.l(I)<0)return x(this.m()*O.m());const j=this.g.length+O.g.length,M=[];for(var G=0;G<2*j;G++)M[G]=0;for(G=0;G<this.g.length;G++)for(let F=0;F<O.g.length;F++){const Y=this.i(G)>>>16,q=this.i(G)&65535,ke=O.i(F)>>>16,Be=O.i(F)&65535;M[2*G+2*F]+=q*Be,H(M,2*G+2*F),M[2*G+2*F+1]+=Y*Be,H(M,2*G+2*F+1),M[2*G+2*F+1]+=q*ke,H(M,2*G+2*F+1),M[2*G+2*F+2]+=Y*ke,H(M,2*G+2*F+2)}for(O=0;O<j;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=j;O<2*j;O++)M[O]=0;return new h(M,0)};function H(O,j){for(;(O[j]&65535)!=O[j];)O[j+1]+=O[j]>>>16,O[j]&=65535,j++}function $(O,j){this.g=O,this.h=j}function X(O,j){if(P(j))throw Error("division by zero");if(P(O))return new $(T,T);if(B(O))return j=X(V(O),j),new $(V(j.g),V(j.h));if(B(j))return j=X(O,V(j)),new $(V(j.g),j.h);if(O.g.length>30){if(B(O)||B(j))throw Error("slowDivide_ only works with positive integers.");for(var M=A,G=j;G.l(O)<=0;)M=ee(M),G=ee(G);var F=oe(M,1),Y=oe(G,1);for(G=oe(G,2),M=oe(M,2);!P(G);){var q=Y.add(G);q.l(O)<=0&&(F=F.add(M),Y=q),G=oe(G,1),M=oe(M,1)}return j=K(O,F.j(j)),new $(F,j)}for(F=T;O.l(j)>=0;){for(M=Math.max(1,Math.floor(O.m()/j.m())),G=Math.ceil(Math.log(M)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),Y=x(M),q=Y.j(j);B(q)||q.l(O)>0;)M-=G,Y=x(M),q=Y.j(j);P(Y)&&(Y=A),F=F.add(Y),O=K(O,q)}return new $(F,O)}t.B=function(O){return X(this,O).h},t.and=function(O){const j=Math.max(this.g.length,O.g.length),M=[];for(let G=0;G<j;G++)M[G]=this.i(G)&O.i(G);return new h(M,this.h&O.h)},t.or=function(O){const j=Math.max(this.g.length,O.g.length),M=[];for(let G=0;G<j;G++)M[G]=this.i(G)|O.i(G);return new h(M,this.h|O.h)},t.xor=function(O){const j=Math.max(this.g.length,O.g.length),M=[];for(let G=0;G<j;G++)M[G]=this.i(G)^O.i(G);return new h(M,this.h^O.h)};function ee(O){const j=O.g.length+1,M=[];for(let G=0;G<j;G++)M[G]=O.i(G)<<1|O.i(G-1)>>>31;return new h(M,O.h)}function oe(O,j){const M=j>>5;j%=32;const G=O.g.length-M,F=[];for(let Y=0;Y<G;Y++)F[Y]=j>0?O.i(Y+M)>>>j|O.i(Y+M+1)<<32-j:O.i(Y+M);return new h(F,O.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ZS=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=x,h.fromString=_,Po=h}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WS,xh,KS,Wf,Fy,$S,YS,QS;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var E=0;E<p.length;++E){var N=p[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function a(p,E){if(E)e:{var N=i;p=p.split(".");for(var k=0;k<p.length-1;k++){var ne=p[k];if(!(ne in N))break e;N=N[ne]}p=p[p.length-1],k=N[p],E=E(k),E!=k&&E!=null&&e(N,p,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(E){var N=[],k;for(k in E)Object.prototype.hasOwnProperty.call(E,k)&&N.push([k,E[k]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,N){return p.call.apply(p.bind,arguments)}function x(p,E,N){return x=g,x.apply(null,arguments)}function _(p,E){var N=Array.prototype.slice.call(arguments,1);return function(){var k=N.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function T(p,E){function N(){}N.prototype=E.prototype,p.Z=E.prototype,p.prototype=new N,p.prototype.constructor=p,p.Ob=function(k,ne,ue){for(var Ee=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Ee[Fe-2]=arguments[Fe];return E.prototype[ne].apply(k,Ee)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function I(p){const E=p.length;if(E>0){const N=Array(E);for(let k=0;k<E;k++)N[k]=p[k];return N}return[]}function P(p,E){for(let k=1;k<arguments.length;k++){const ne=arguments[k];var N=typeof ne;if(N=N!="object"?N:ne?Array.isArray(ne)?"array":N:"null",N=="array"||N=="object"&&typeof ne.length=="number"){N=p.length||0;const ue=ne.length||0;p.length=N+ue;for(let Ee=0;Ee<ue;Ee++)p[N+Ee]=ne[Ee]}else p.push(ne)}}class B{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(p){h.setTimeout(()=>{throw p},0)}function K(){var p=O;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,N){const k=$.get();k.set(E,N),this.h?this.h.next=k:this.g=k,this.h=k}}var $=new B(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,oe=!1,O=new H,j=()=>{const p=Promise.resolve(void 0);ee=()=>{p.then(M)}};function M(){for(var p;p=K();){try{p.h.call(p.g)}catch(N){V(N)}var E=$;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}oe=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};h.addEventListener("test",N,E),h.removeEventListener("test",N,E)}catch{}return p})();function q(p){return/^[\s\xa0]*$/.test(p)}function ke(p,E){F.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}T(ke,F),ke.prototype.init=function(p,E){const N=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(N=="mouseover"?E=p.fromElement:N=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ye(p,E,N,k,ne){this.listener=p,this.proxy=null,this.src=E,this.type=N,this.capture=!!k,this.ha=ne,this.key=++ae,this.da=this.fa=!1}function re(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ae(p,E,N){for(const k in p)E.call(N,p[k],k,p)}function z(p,E){for(const N in p)E.call(void 0,p[N],N,p)}function ce(p){const E={};for(const N in p)E[N]=p[N];return E}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(p,E){let N,k;for(let ne=1;ne<arguments.length;ne++){k=arguments[ne];for(N in k)p[N]=k[N];for(let ue=0;ue<_e.length;ue++)N=_e[ue],Object.prototype.hasOwnProperty.call(k,N)&&(p[N]=k[N])}}function Se(p){this.src=p,this.g={},this.h=0}Se.prototype.add=function(p,E,N,k,ne){const ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);const Ee=Te(p,E,k,ne);return Ee>-1?(E=p[Ee],N||(E.fa=!1)):(E=new ye(E,this.src,ue,!!k,ne),E.fa=N,p.push(E)),E};function Re(p,E){const N=E.type;if(N in p.g){var k=p.g[N],ne=Array.prototype.indexOf.call(k,E,void 0),ue;(ue=ne>=0)&&Array.prototype.splice.call(k,ne,1),ue&&(re(E),p.g[N].length==0&&(delete p.g[N],p.h--))}}function Te(p,E,N,k){for(let ne=0;ne<p.length;++ne){const ue=p[ne];if(!ue.da&&ue.listener==E&&ue.capture==!!N&&ue.ha==k)return ne}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),qe={};function fn(p,E,N,k,ne){if(Array.isArray(E)){for(let ue=0;ue<E.length;ue++)fn(p,E[ue],N,k,ne);return null}return N=Or(N),p&&p[Be]?p.J(E,N,m(k)?!!k.capture:!1,ne):Is(p,E,N,!1,k,ne)}function Is(p,E,N,k,ne,ue){if(!E)throw Error("Invalid event type");const Ee=m(ne)?!!ne.capture:!!ne;let Fe=ja(p);if(Fe||(p[bt]=Fe=new Se(p)),N=Fe.add(E,N,k,Ee,ue),N.proxy)return N;if(k=ar(),N.proxy=k,k.src=p,k.listener=N,p.addEventListener)Y||(ne=Ee),ne===void 0&&(ne=!1),p.addEventListener(E.toString(),k,ne);else if(p.attachEvent)p.attachEvent(Ra(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ar(){function p(N){return E.call(p.src,p.listener,N)}const E=Gl;return p}function ss(p,E,N,k,ne){if(Array.isArray(E))for(var ue=0;ue<E.length;ue++)ss(p,E[ue],N,k,ne);else k=m(k)?!!k.capture:!!k,N=Or(N),p&&p[Be]?(p=p.i,ue=String(E).toString(),ue in p.g&&(E=p.g[ue],N=Te(E,N,k,ne),N>-1&&(re(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete p.g[ue],p.h--)))):p&&(p=ja(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Te(E,N,k,ne)),(N=p>-1?E[p]:null)&&Ds(N))}function Ds(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Be])Re(E.i,p);else{var N=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(N,k,p.capture):E.detachEvent?E.detachEvent(Ra(N),k):E.addListener&&E.removeListener&&E.removeListener(k),(N=ja(E))?(Re(N,p),N.h==0&&(N.src=null,E[bt]=null)):re(p)}}}function Ra(p){return p in qe?qe[p]:qe[p]="on"+p}function Gl(p,E){if(p.da)p=!0;else{E=new ke(E,this);const N=p.listener,k=p.ha||p.src;p.fa&&Ds(p),p=N.call(k,E)}return p}function ja(p){return p=p[bt],p instanceof Se?p:null}var wn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(p){return typeof p=="function"?p:(p[wn]||(p[wn]=function(E){return p.handleEvent(E)}),p[wn])}function Jt(){G.call(this),this.i=new Se(this),this.M=this,this.G=null}T(Jt,G),Jt.prototype[Be]=!0,Jt.prototype.removeEventListener=function(p,E,N,k){ss(this,p,E,N,k)};function en(p,E){var N,k=p.G;if(k)for(N=[];k;k=k.G)N.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new F(E,p);else if(E instanceof F)E.target=E.target||p;else{var ne=E;E=new F(k,p),we(E,ne)}ne=!0;let ue,Ee;if(N)for(Ee=N.length-1;Ee>=0;Ee--)ue=E.g=N[Ee],ne=Oi(ue,k,!0,E)&&ne;if(ue=E.g=p,ne=Oi(ue,k,!0,E)&&ne,ne=Oi(ue,k,!1,E)&&ne,N)for(Ee=0;Ee<N.length;Ee++)ue=E.g=N[Ee],ne=Oi(ue,k,!1,E)&&ne}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const N=p.g[E];for(let k=0;k<N.length;k++)re(N[k]);delete p.g[E],p.h--}}this.G=null},Jt.prototype.J=function(p,E,N,k){return this.i.add(String(p),E,!1,N,k)},Jt.prototype.K=function(p,E,N,k){return this.i.add(String(p),E,!0,N,k)};function Oi(p,E,N,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let ne=!0;for(let ue=0;ue<E.length;++ue){const Ee=E[ue];if(Ee&&!Ee.da&&Ee.capture==N){const Fe=Ee.listener,it=Ee.ha||Ee.src;Ee.fa&&Re(p.i,Ee),ne=Fe.call(it,k)!==!1&&ne}}return ne&&!k.defaultPrevented}function Zl(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=x(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:h.setTimeout(p,E||0)}function Pa(p){p.g=Zl(()=>{p.g=null,p.i&&(p.i=!1,Pa(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Tu extends G{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Pa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(p){G.call(this),this.h=p,this.g={}}T(Vr,G);var rs=[];function mn(p){Ae(p.g,function(E,N){this.g.hasOwnProperty(N)&&Ds(E)},p),p.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),mn(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=h.JSON.stringify,On=h.JSON.parse,Wl=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Go(){}function Kl(){}var Vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function as(){F.call(this,"d")}T(as,F);function vi(){F.call(this,"c")}T(vi,F);var xi={},_i=null;function Ia(){return _i=_i||new Jt}xi.Ia="serverreachability";function Zo(p){F.call(this,xi.Ia,p)}T(Zo,F);function Ls(p){const E=Ia();en(E,new Zo(E))}xi.STAT_EVENT="statevent";function Ur(p,E){F.call(this,xi.STAT_EVENT,p),this.stat=E}T(Ur,F);function Mt(p){const E=Ia();en(E,new Ur(E,p))}xi.Ja="timingevent";function $l(p,E){F.call(this,xi.Ja,p),this.size=E}T($l,F);function or(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function Wo(p,E,N,k,ne,ue){p.info(function(){if(p.g)if(ue){var Ee="",Fe=ue.split("&");for(let yt=0;yt<Fe.length;yt++){var it=Fe[yt].split("=");if(it.length>1){const kt=it[0];it=it[1];const ci=kt.split("_");Ee=ci.length>=2&&ci[1]=="type"?Ee+(kt+"="+it+"&"):Ee+(kt+"=redacted&")}}}else Ee=null;else Ee=ue;return"XMLHTTP REQ ("+k+") [attempt "+ne+"]: "+E+`
`+N+`
`+Ee})}function Ko(p,E,N,k,ne,ue,Ee){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+ne+"]: "+E+`
`+N+`
`+ue+" "+Ee})}function Ms(p,E,N,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+os(p,N)+(k?" "+k:"")})}function $o(p,E){p.info(function(){return"TIMEOUT: "+E})}lr.prototype.info=function(){};function os(p,E){if(!p.g)return E;if(!E)return null;try{const ue=JSON.parse(E);if(ue){for(p=0;p<ue.length;p++)if(Array.isArray(ue[p])){var N=ue[p];if(!(N.length<2)){var k=N[1];if(Array.isArray(k)&&!(k.length<1)){var ne=k[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ee=1;Ee<k.length;Ee++)k[Ee]=""}}}}return ni(ue)}catch{return E}}var zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ks;function Tn(){}T(Tn,Go),Tn.prototype.g=function(){return new XMLHttpRequest},ks=new Tn;function De(p){return encodeURIComponent(String(p))}function Yl(p){var E=1;p=p.split(":");const N=[];for(;E>0&&p.length;)N.push(p.shift()),E--;return p.length&&N.push(p.join(":")),N}function bi(p,E,N,k){this.j=p,this.i=E,this.l=N,this.S=k||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var Br={},wi={};function Ui(p,E,N){p.M=1,p.A=_t(St(E)),p.u=N,p.R=!0,ii(p,null)}function ii(p,E){p.F=Date.now(),zr(p),p.B=St(p.A);var N=p.B,k=p.S;Array.isArray(k)||(k=[String(k)]),La(N.i,"t",k),p.C=0,N=p.j.L,p.h=new Os,p.g=Qr(p.j,N?E:null,!p.u),p.P>0&&(p.O=new Tu(x(p.Y,p,p.g),p.P)),E=p.V,N=p.g,k=p.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(rs[0]=ne.toString()),ne=rs);for(let ue=0;ue<ne.length;ue++){const Ee=fn(N,ne[ue],k||E.handleEvent,!1,E.h||E);if(!Ee)break;E.g[Ee.key]=Ee}E=p.J?ce(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Ls(),Wo(p.i,p.v,p.B,p.l,p.S,p.u)}bi.prototype.ba=function(p){p=p.target;const E=this.O;E&&Cn(p)==3?E.j():this.Y(p)},bi.prototype.Y=function(p){try{if(p==this.g)e:{const Fe=Cn(this.g),it=this.g.ya(),yt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||mr(this.g)))){this.K||Fe!=4||it==7||(it==8||yt<=0?Ls(3):Ls(2)),Bi(this);var E=this.g.ca();this.X=E;var N=Vs(this);if(this.o=E==200,Ko(this.i,this.v,this.B,this.l,this.S,Fe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var k,ne=this.g;if((k=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(k)){var ue=k;break t}}ue=null}if(p=ue)Ms(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Da(this,p);else{this.o=!1,this.m=3,Mt(12),si(this),Fr(this);break e}}if(this.R){p=!0;let kt;for(;!this.K&&this.C<N.length;)if(kt=Ql(this,N),kt==wi){Fe==4&&(this.m=4,Mt(14),p=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Br){this.m=4,Mt(15),Ms(this.i,this.l,N,"[Invalid Chunk]"),p=!1;break}else Ms(this.i,this.l,kt,null),Da(this,kt);if(Ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||N.length!=0||this.h.h||(this.m=1,Mt(16),p=!1),this.o=this.o&&p,!p)Ms(this.i,this.l,N,"[Invalid Chunked Response]"),si(this),Fr(this);else if(N.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Jo(Ee),Ee.P=!0,Mt(11))}}else Ms(this.i,this.l,N,null),Da(this,N);Fe==4&&si(this),this.o&&!this.K&&(Fe==4?Wn(this.j,this):(this.o=!1,zr(this)))}else Hs(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),si(this),Fr(this)}}}catch{}finally{}};function Vs(p){if(!Ft(p))return p.g.la();const E=mr(p.g);if(E==="")return"";let N="";const k=E.length,ne=Cn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return si(p),Fr(p),"";p.h.i=new h.TextDecoder}for(let ue=0;ue<k;ue++)p.h.h=!0,N+=p.h.i.decode(E[ue],{stream:!(ne&&ue==k-1)});return E.length=0,p.h.g+=N,p.C=0,p.h.g}function Ft(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Ql(p,E){var N=p.C,k=E.indexOf(`
`,N);return k==-1?wi:(N=Number(E.substring(N,k)),isNaN(N)?Br:(k+=1,k+N>E.length?wi:(E=E.slice(k,k+N),p.C=k+N,E)))}bi.prototype.cancel=function(){this.K=!0,si(this)};function zr(p){p.T=Date.now()+p.H,ls(p,p.H)}function ls(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=or(x(p.aa,p),E)}function Bi(p){p.D&&(h.clearTimeout(p.D),p.D=null)}bi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?($o(this.i,this.B),this.M!=2&&(Ls(),Mt(17)),si(this),this.m=2,Fr(this)):ls(this,this.T-p)};function Fr(p){p.j.I==0||p.K||Wn(p.j,p)}function si(p){Bi(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,mn(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function Da(p,E){try{var N=p.j;if(N.I!=0&&(N.g==p||Us(N.h,p))){if(!p.L&&Us(N.h,p)&&N.I==3){try{var k=N.Ba.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var ne=k;if(ne[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<p.F)Va(N),ps(N);else break e;Xo(N),Mt(18)}}else N.xa=ne[1],0<N.xa-N.K&&ne[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=or(x(N.Va,N),6e3));Ti(N.h)<=1&&N.ta&&(N.ta=void 0)}else gs(N,11)}else if((p.L||N.g==p)&&Va(N),!q(E))for(ne=N.Ba.g.parse(E),E=0;E<ne.length;E++){let yt=ne[E];const kt=yt[0];if(!(kt<=N.K))if(N.K=kt,yt=yt[1],N.I==2)if(yt[0]=="c"){N.M=yt[1],N.ba=yt[2];const ci=yt[3];ci!=null&&(N.ka=ci,N.j.info("VER="+N.ka));const Si=yt[4];Si!=null&&(N.za=Si,N.j.info("SVER="+N.za));const ui=yt[5];ui!=null&&typeof ui=="number"&&ui>0&&(k=1.5*ui,N.O=k,N.j.info("backChannelRequestTimeoutMs_="+k)),k=N;const qi=p.g;if(qi){const Gi=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var ue=k.h;ue.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(cs(ue,ue.h),ue.h=null))}if(k.G){const Fa=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(k.wa=Fa,je(k.J,k.G,Fa))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-p.F,N.j.info("Handshake RTT: "+N.T+"ms")),k=N;var Ee=p;if(k.na=el(k,k.L?k.ba:null,k.W),Ee.L){us(k.h,Ee);var Fe=Ee,it=k.O;it&&(Fe.H=it),Fe.D&&(Bi(Fe),zr(Fe)),k.g=Ee}else Qo(k);N.i.length>0&&Fi(N)}else yt[0]!="stop"&&yt[0]!="close"||gs(N,7);else N.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?gs(N,7):Je(N):yt[0]!="noop"&&N.l&&N.l.qa(yt),N.A=0)}}Ls(4)}catch{}}var Eu=class{constructor(p,E){this.g=p,this.map=E}};function Hr(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ti(p){return p.h?1:p.g?p.g.size:0}function Us(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function cs(p,E){p.g?p.g.add(E):p.h=E}function us(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Hr.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Gr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const N of p.g.values())E=E.concat(N.G);return E}return I(p.i)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lt(p,E){if(p){p=p.split("&");for(let N=0;N<p.length;N++){const k=p[N].indexOf("=");let ne,ue=null;k>=0?(ne=p[N].substring(0,k),ue=p[N].substring(k+1)):ne=p[N],E(ne,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function dt(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof dt?(this.l=p.l,ri(this,p.j),this.o=p.o,this.g=p.g,Ei(this,p.u),this.h=p.h,ds(this,Wr(p.i)),this.m=p.m):p&&(E=String(p).match(hs))?(this.l=!1,ri(this,E[1]||"",!0),this.o=Bs(E[2]||""),this.g=Bs(E[3]||"",!0),Ei(this,E[4]),this.h=Bs(E[5]||"",!0),ds(this,E[6]||"",!0),this.m=Bs(E[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}dt.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Ht(E,Yo,!0),":");var N=this.g;return(N||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ht(E,Yo,!0),"@"),p.push(De(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&p.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(Ht(N,N.charAt(0)=="/"?Gn:cr,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",Ht(N,fs)),p.join("")},dt.prototype.resolve=function(p){const E=St(this);let N=!!p.j;N?ri(E,p.j):N=!!p.o,N?E.o=p.o:N=!!p.g,N?E.g=p.g:N=p.u!=null;var k=p.h;if(N)Ei(E,p.u);else if(N=!!p.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var ne=E.h.lastIndexOf("/");ne!=-1&&(k=E.h.slice(0,ne+1)+k)}if(ne=k,ne==".."||ne==".")k="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){k=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ue=[];for(let Ee=0;Ee<ne.length;){const Fe=ne[Ee++];Fe=="."?k&&Ee==ne.length&&ue.push(""):Fe==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),k&&Ee==ne.length&&ue.push("")):(ue.push(Fe),k=!0)}k=ue.join("/")}else k=ne}return N?E.h=k:N=p.i.toString()!=="",N?ds(E,Wr(p.i)):N=!!p.m,N&&(E.m=p.m),E};function St(p){return new dt(p)}function ri(p,E,N){p.j=N?Bs(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Ei(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ds(p,E,N){E instanceof Sn?(p.i=E,Kr(p.i,p.l)):(N||(E=Ht(E,Dt)),p.i=new Sn(E,p.l))}function je(p,E,N){p.i.set(E,N)}function _t(p){return je(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Bs(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ht(p,E,N){return typeof p=="string"?(p=encodeURI(p).replace(E,En),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function En(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Yo=/[#\/\?@]/g,cr=/[#\?:]/g,Gn=/[#\?]/g,Dt=/[#\?@]/g,fs=/#/g;function Sn(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ai(p){p.g||(p.g=new Map,p.h=0,p.i&&lt(p.i,function(E,N){p.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=Sn.prototype,t.add=function(p,E){ai(this),this.i=null,p=oi(this,p);let N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(E),this.h+=1,this};function Zr(p,E){ai(p),E=oi(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function zs(p,E){return ai(p),E=oi(p,E),p.g.has(E)}t.forEach=function(p,E){ai(this),this.g.forEach(function(N,k){N.forEach(function(ne){p.call(E,ne,k,this)},this)},this)};function ur(p,E){ai(p);let N=[];if(typeof E=="string")zs(p,E)&&(N=N.concat(p.g.get(oi(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)N=N.concat(p[E]);return N}t.set=function(p,E){return ai(this),this.i=null,p=oi(this,p),zs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=ur(this,p),p.length>0?String(p[0]):E):E};function La(p,E,N){Zr(p,E),N.length>0&&(p.i=null,p.g.set(oi(p,E),I(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let k=0;k<E.length;k++){var N=E[k];const ne=De(N);N=ur(this,N);for(let ue=0;ue<N.length;ue++){let Ee=ne;N[ue]!==""&&(Ee+="="+De(N[ue])),p.push(Ee)}}return this.i=p.join("&")};function Wr(p){const E=new Sn;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function oi(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Kr(p,E){E&&!p.j&&(ai(p),p.i=null,p.g.forEach(function(N,k){const ne=k.toLowerCase();k!=ne&&(Zr(this,k),La(this,ne,N))},p)),p.j=E}function hr(p,E){const N=new lr;if(h.Image){const k=new Image;k.onload=_(gn,N,"TestLoadImage: loaded",!0,E,k),k.onerror=_(gn,N,"TestLoadImage: error",!1,E,k),k.onabort=_(gn,N,"TestLoadImage: abort",!1,E,k),k.ontimeout=_(gn,N,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function Fs(p,E){const N=new lr,k=new AbortController,ne=setTimeout(()=>{k.abort(),gn(N,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ue=>{clearTimeout(ne),ue.ok?gn(N,"TestPingServer: ok",!0,E):gn(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),gn(N,"TestPingServer: error",!1,E)})}function gn(p,E,N,k,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),k(N)}catch{}}function Xl(){this.g=new Wl}function ze(p){this.i=p.Sb||null,this.h=p.ab||!1}T(ze,Go),ze.prototype.g=function(){return new An(this.i,this.h)};function An(p,E){Jt.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(An,Jt),t=An.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,zi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||h).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ft(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ft(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Nn(this):zi(this),this.readyState==3&&ft(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Nn(this))},t.Na=function(p){this.g&&(this.response=p,Nn(this))},t.ga=function(){this.g&&Nn(this)};function Nn(p){p.readyState=4,p.l=null,p.j=null,p.B=null,zi(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=E.next();return p.join(`\r
`)};function zi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(An.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ms(p){let E="";return Ae(p,function(N,k){E+=k,E+=":",E+=N,E+=`\r
`}),E}function Zn(p,E,N){e:{for(k in N){var k=!1;break e}k=!0}k||(N=ms(N),typeof p=="string"?N!=null&&De(N):je(p,E,N))}function mt(p){Jt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(mt,Jt);var dr=/^https?$/i,fr=["POST","PUT"];t=mt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,N,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ks.g(),this.g.onreadystatechange=A(x(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ue){Lt(this,ue);return}if(p=N||"",N=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var ne in k)N.set(ne,k[ne]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ue of k.keys())N.set(ue,k.get(ue));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(N.keys()).find(ue=>ue.toLowerCase()=="content-type"),ne=h.FormData&&p instanceof h.FormData,!(Array.prototype.indexOf.call(fr,E,void 0)>=0)||k||ne||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ee]of N)this.g.setRequestHeader(ue,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ue){Lt(this,ue)}};function Lt(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,li(p),Kt(p)}function li(p){p.A||(p.A=!0,en(p,"complete"),en(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,en(this,"complete"),en(this,"abort"),Kt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ma(this):this.Xa())},t.Xa=function(){Ma(this)};function Ma(p){if(p.h&&typeof c<"u"){if(p.v&&Cn(p)==4)setTimeout(p.Ca.bind(p),0);else if(en(p,"readystatechange"),Cn(p)==4){p.h=!1;try{const ue=p.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var k;if(k=ue===0){let Ee=String(p.D).match(hs)[1]||null;!Ee&&h.self&&h.self.location&&(Ee=h.self.location.protocol.slice(0,-1)),k=!dr.test(Ee?Ee.toLowerCase():"")}N=k}if(N)en(p,"complete"),en(p,"success");else{p.o=6;try{var ne=Cn(p)>2?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.ca()+"]",li(p)}}finally{Kt(p)}}}}function Kt(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const N=p.g;p.g=null,E||en(p,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cn(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Cn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),On(E)}};function mr(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(p){const E={};p=(p.g&&Cn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(q(p[k]))continue;var N=Yl(p[k]);const ne=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ue=E[ne]||[];E[ne]=ue,ue.push(N)}z(E,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(p,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||E}function Yr(p){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$r("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$r("baseRetryDelayMs",5e3,p),this.Za=$r("retryDelaySeedMs",1e4,p),this.Ta=$r("forwardChannelMaxRetries",2,p),this.va=$r("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Hr(p&&p.concurrentRequestLimit),this.Ba=new Xl,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Yr.prototype,t.ka=8,t.I=1,t.connect=function(p,E,N,k){Mt(0),this.W=p,this.H=E||{},N&&k!==void 0&&(this.H.OSID=N,this.H.OAID=k),this.F=this.X,this.J=el(this,null,this.W),Fi(this)};function Je(p){if(yn(p),p.I==3){var E=p.V++,N=St(p.J);if(je(N,"SID",p.M),je(N,"RID",E),je(N,"TYPE","terminate"),qs(p,N),E=new bi(p,p.j,E),E.M=2,E.A=_t(St(N)),N=!1,h.navigator&&h.navigator.sendBeacon)try{N=h.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&h.Image&&(new Image().src=E.A,N=!0),N||(E.g=Qr(E.j,null),E.g.ea(E.A)),E.F=Date.now(),zr(E)}Hi(p)}function ps(p){p.g&&(Jo(p),p.g.cancel(),p.g=null)}function yn(p){ps(p),p.v&&(h.clearTimeout(p.v),p.v=null),Va(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&h.clearTimeout(p.m),p.m=null)}function Fi(p){if(!qr(p.h)&&!p.m){p.m=!0;var E=p.Ea;ee||j(),oe||(ee(),oe=!0),O.add(E,p),p.D=0}}function Jl(p,E){return Ti(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=or(x(p.Ea,p,E),tc(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ne=new bi(this,this.j,p);let ue=this.o;if(this.U&&(ue?(ue=ce(ue),we(ue,this.U)):ue=this.U),this.u!==null||this.R||(ne.J=ue,ue=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var k=this.i[N];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=ka(this,ne,E),N=St(this.J),je(N,"RID",p),je(N,"CVER",22),this.G&&je(N,"X-HTTP-Session-Id",this.G),qs(this,N),ue&&(this.R?E="headers="+De(ms(ue))+"&"+E:this.u&&Zn(N,this.u,ue)),cs(this.h,ne),this.Ra&&je(N,"TYPE","init"),this.S?(je(N,"$req",E),je(N,"SID","null"),ne.U=!0,Ui(ne,N,null)):Ui(ne,N,E),this.I=2}}else this.I==3&&(p?ec(this,p):this.i.length==0||qr(this.h)||ec(this))};function ec(p,E){var N;E?N=E.l:N=p.V++;const k=St(p.J);je(k,"SID",p.M),je(k,"RID",N),je(k,"AID",p.K),qs(p,k),p.u&&p.o&&Zn(k,p.u,p.o),N=new bi(p,p.j,N,p.D+1),p.u===null&&(N.J=p.o),E&&(p.i=E.G.concat(p.i)),E=ka(p,N,1e3),N.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),cs(p.h,N),Ui(N,k,E)}function qs(p,E){p.H&&Ae(p.H,function(N,k){je(E,k,N)}),p.l&&Ae({},function(N,k){je(E,k,N)})}function ka(p,E,N){N=Math.min(p.i.length,N);const k=p.l?x(p.l.Ka,p.l,p):null;e:{var ne=p.i;let Fe=-1;for(;;){const it=["count="+N];Fe==-1?N>0?(Fe=ne[0].g,it.push("ofs="+Fe)):Fe=0:it.push("ofs="+Fe);let yt=!0;for(let kt=0;kt<N;kt++){var ue=ne[kt].g;const ci=ne[kt].map;if(ue-=Fe,ue<0)Fe=Math.max(0,ne[kt].g-100),yt=!1;else try{ue="req"+ue+"_"||"";try{var Ee=ci instanceof Map?ci:Object.entries(ci);for(const[Si,ui]of Ee){let qi=ui;m(ui)&&(qi=ni(ui)),it.push(ue+Si+"="+encodeURIComponent(qi))}}catch(Si){throw it.push(ue+"type="+encodeURIComponent("_badmap")),Si}}catch{k&&k(ci)}}if(yt){Ee=it.join("&");break e}}Ee=void 0}return p=p.i.splice(0,N),E.G=p,Ee}function Qo(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;ee||j(),oe||(ee(),oe=!0),O.add(E,p),p.A=0}}function Xo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=or(x(p.Da,p),tc(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Oa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=or(x(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),ps(this),Oa(this))};function Jo(p){p.B!=null&&(h.clearTimeout(p.B),p.B=null)}function Oa(p){p.g=new bi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=St(p.na);je(E,"RID","rpc"),je(E,"SID",p.M),je(E,"AID",p.K),je(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&je(E,"TO",p.ia),je(E,"TYPE","xmlhttp"),qs(p,E),p.u&&p.o&&Zn(E,p.u,p.o),p.O&&(p.g.H=p.O);var N=p.g;p=p.ba,N.M=1,N.A=_t(St(E)),N.u=null,N.R=!0,ii(N,p)}t.Va=function(){this.C!=null&&(this.C=null,ps(this),Xo(this),Mt(19))};function Va(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function Wn(p,E){var N=null;if(p.g==E){Va(p),Jo(p),p.g=null;var k=2}else if(Us(p.h,E))N=E.G,us(p.h,E),k=1;else return;if(p.I!=0){if(E.o)if(k==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var ne=p.D;k=Ia(),en(k,new $l(k,N)),Fi(p)}else Qo(p);else if(ne=E.m,ne==3||ne==0&&E.X>0||!(k==1&&Jl(p,E)||k==2&&Xo(p)))switch(N&&N.length>0&&(E=p.h,E.i=E.i.concat(N)),ne){case 1:gs(p,5);break;case 4:gs(p,10);break;case 3:gs(p,6);break;default:gs(p,2)}}}function tc(p,E){let N=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(N*=2),N*E}function gs(p,E){if(p.j.info("Error code "+E),E==2){var N=x(p.bb,p),k=p.Ua;const ne=!k;k=new dt(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ri(k,"https"),_t(k),ne?hr(k.toString(),N):Fs(k.toString(),N)}else Mt(2);p.I=0,p.l&&p.l.pa(E),Hi(p),yn(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Hi(p){if(p.I=0,p.ja=[],p.l){const E=Gr(p.h);(E.length!=0||p.i.length!=0)&&(P(p.ja,E),P(p.ja,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.oa()}}function el(p,E,N){var k=N instanceof dt?St(N):new dt(N);if(k.g!="")E&&(k.g=E+"."+k.g),Ei(k,k.u);else{var ne=h.location;k=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;const ue=new dt(null);k&&ri(ue,k),E&&(ue.g=E),ne&&Ei(ue,ne),N&&(ue.h=N),k=ue}return N=p.G,E=p.wa,N&&E&&je(k,N,E),je(k,"VER",p.ka),qs(p,k),k}function Qr(p,E,N){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new mt(new ze({ab:N})):new mt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ua(){}t=Ua.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ba(){}Ba.prototype.g=function(p,E){return new Rn(p,E)};function Rn(p,E){Jt.call(this),this.g=new Yr(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!q(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!q(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new pr(this)}T(Rn,Jt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Je(this.g)},Rn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.v&&(N={},N.__data__=ni(p),p=N);E.i.push(new Eu(E.Ya++,p)),E.I==3&&Fi(E)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Je(this.g),delete this.g,Rn.Z.N.call(this)};function za(p){as.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const N in E){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}T(za,as);function nc(){vi.call(this),this.status=1}T(nc,vi);function pr(p){this.g=p}T(pr,Ua),pr.prototype.ra=function(){en(this.g,"a")},pr.prototype.qa=function(p){en(this.g,new za(p))},pr.prototype.pa=function(p){en(this.g,new nc)},pr.prototype.oa=function(){en(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,QS=function(){return new Ba},YS=function(){return Ia()},$S=xi,Fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,Wf=zt,pn.COMPLETE="complete",KS=pn,Kl.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,xh=Kl,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,WS=mt}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const i1="@firebase/firestore",s1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new z0("@firebase/firestore");function Dc(){return Ol.logLevel}function Pe(t,...e){if(Ol.logLevel<=ct.DEBUG){const n=e.map(X0);Ol.debug(`Firestore (${du}): ${t}`,...n)}}function wa(t,...e){if(Ol.logLevel<=ct.ERROR){const n=e.map(X0);Ol.error(`Firestore (${du}): ${t}`,...n)}}function Qc(t,...e){if(Ol.logLevel<=ct.WARN){const n=e.map(X0);Ol.warn(`Firestore (${du}): ${t}`,...n)}}function X0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,XS(t,i,n)}function XS(t,e,n){let i=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw wa(i),new Error(i)}function wt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||XS(e,a,i)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Na{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Qn.UNAUTHENTICATED)))}shutdown(){}}class PL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IL{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new va;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new va,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},m=g=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new va)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt(typeof i.accessToken=="string",31837,{l:i}),new JS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class DL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new DL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ML{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const i=c=>{c.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,Pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=kL(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<n&&(i+=e.charAt(a[c]%62))}return i}}function ut(t,e){return t<e?-1:t>e?1:0}function Hy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),c=e.charAt(i);if(a!==c)return oy(a)===oy(c)?ut(a,c):oy(a)?1:-1}return ut(t.length,e.length)}const OL=55296,VL=57343;function oy(t){const e=t.charCodeAt(0);return e>=OL&&e<=VL}function Xc(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="__name__";class Sr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ze(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const c=Sr.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ut(e.length,n.length)}static compareSegments(e,n){const i=Sr.isNumericId(e),a=Sr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):Hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Po.fromString(e.substring(4,e.length-2))}}class It extends Sr{construct(e,n,i){return new It(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new It(n)}static emptyPath(){return new It([])}}const UL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Sr{construct(e,n,i){return new Hn(e,n,i)}static isValidIdentifier(e){return UL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a1}static keyField(){return new Hn([a1])}static fromServerFormat(e){const n=[];let i="",a=0;const c=()=>{if(i.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Ce(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ce(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(i+=m,a++):(c(),a++)}if(c(),h)throw new Ce(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(n)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(It.fromString(e))}static fromName(e){return new Ve(It.fromString(e).popFirst(5))}static empty(){return new Ve(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){if(!n)throw new Ce(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BL(t,e,n,i){if(e===!0&&i===!0)throw new Ce(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o1(t){if(!Ve.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l1(t){if(Ve.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Um(t);throw new Ce(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ld(t,e){if(!t2(t))throw new Ce(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const h=t[i];if(a&&typeof h!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new Ce(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=-62135596800,u1=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*u1);return new ot(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c1)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u1}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ld(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:dn("string",ot._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new ot(0,0))}static max(){return new Qe(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=-1;function zL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Qe.fromTimestamp(i===1e9?new ot(n+1,0):new ot(n,i));return new Do(a,Ve.empty(),e)}function FL(t){return new Do(t.readTime,t.key,Bh)}class Do{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Do(Qe.min(),Ve.empty(),Bh)}static max(){return new Do(Qe.max(),Ve.empty(),Bh)}}function HL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==qL)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,i)=>{n(e)}))}static reject(e){return new xe(((n,i)=>{i(e)}))}static waitFor(e){return new xe(((n,i)=>{let a=0,c=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++c,h&&c===a&&n()}),(g=>i(g)))})),h=!0,c===a&&n()}))}static or(e){let n=xe.resolve(!1);for(const i of e)n=n.next((a=>a?xe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,c)=>{i.push(n.call(this,a,c))})),this.waitFor(i)}static mapArray(e,n){return new xe(((i,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const x=g;n(e[x]).next((_=>{h[x]=_,++m,m===c&&i(h)}),(_=>a(_)))}}))}static doWhile(e,n){return new xe(((i,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):i()};c()}))}}function ZL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-1;function zm(t){return t==null}function ym(t){return t===0&&1/t==-1/0}function WL(t){return typeof t=="number"&&Number.isInteger(t)&&!ym(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="";function KL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=h1(e)),e=$L(t.get(n),e);return h1(e)}function $L(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const c=t.charAt(a);switch(c){case"\0":n+="";break;case n2:n+="";break;default:n+=c}}return n}function h1(t){return t+n2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,i,a,c){this.key=e,this.value=n,this.color=i??Fn.RED,this.left=a??Fn.EMPTY,this.right=c??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,c){return new Fn(e??this.key,n??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,i),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,i,a,c){return this}insert(e,n,i){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(e){return new f1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class f1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new ns([])}unionWith(e){let n=new _n(Hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new s2("Invalid base64 string: "+c):c}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const YL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=YL.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="server_timestamp",a2="__type__",o2="__previous_value__",l2="__local_write_time__";function tv(t){return(t?.mapValue?.fields||{})[a2]?.stringValue===r2}function Fm(t){const e=t.mapValue.fields[o2];return tv(e)?Fm(e):e}function zh(t){const e=Lo(t.mapValue.fields[l2].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,i,a,c,h,m,g,x,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=x,this.isUsingEmulator=_}}const vm="(default)";class Fh{constructor(e,n){this.projectId=e,this.database=n||vm}static empty(){return new Fh("","")}get isDefaultDatabase(){return this.database===vm}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="__type__",XL="__max__",If={mapValue:{}},u2="__vector__",xm="value";function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:eM(t)?9007199254740991:JL(t)?10:11:Ze(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Lo(a.timestampValue),m=Lo(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,c){return Mo(a.bytesValue).isEqual(Mo(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,c){return rn(a.geoPointValue.latitude)===rn(c.geoPointValue.latitude)&&rn(a.geoPointValue.longitude)===rn(c.geoPointValue.longitude)})(t,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return rn(a.integerValue)===rn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=rn(a.doubleValue),m=rn(c.doubleValue);return h===m?ym(h)===ym(m):isNaN(h)&&isNaN(m)}return!1})(t,e);case 9:return Xc(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return(function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(d1(h)!==d1(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Lr(h[g],m[g])))return!1;return!0})(t,e);default:return Ze(52216,{left:t})}}function Hh(t,e){return(t.values||[]).find((n=>Lr(n,e)))!==void 0}function Jc(t,e){if(t===e)return 0;const n=ko(t),i=ko(e);if(n!==i)return ut(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=rn(c.integerValue||c.doubleValue),g=rn(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return m1(t.timestampValue,e.timestampValue);case 4:return m1(zh(t),zh(e));case 5:return Hy(t.stringValue,e.stringValue);case 6:return(function(c,h){const m=Mo(c),g=Mo(h);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),g=h.split("/");for(let x=0;x<m.length&&x<g.length;x++){const _=ut(m[x],g[x]);if(_!==0)return _}return ut(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=ut(rn(c.latitude),rn(h.latitude));return m!==0?m:ut(rn(c.longitude),rn(h.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},g=h.fields||{},x=m[xm]?.arrayValue,_=g[xm]?.arrayValue,T=ut(x?.values?.length||0,_?.values?.length||0);return T!==0?T:p1(x,_)})(t.mapValue,e.mapValue);case 11:return(function(c,h){if(c===If.mapValue&&h===If.mapValue)return 0;if(c===If.mapValue)return 1;if(h===If.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),x=h.fields||{},_=Object.keys(x);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const A=Hy(g[T],_[T]);if(A!==0)return A;const I=Jc(m[g[T]],x[_[T]]);if(I!==0)return I}return ut(g.length,_.length)})(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function m1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Lo(t),i=Lo(e),a=ut(n.seconds,i.seconds);return a!==0?a:ut(n.nanos,i.nanos)}function p1(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const c=Jc(n[a],i[a]);if(c)return c}return ut(n.length,i.length)}function eu(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Lo(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const c of n.values||[])a?a=!1:i+=",",i+=qy(c);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${qy(n.fields[h])}`;return a+"}"})(t.mapValue):Ze(61005,{value:t})}function Kf(t){switch(ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fm(t);return e?16+Kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Mo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Kf(c)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Fo(i.fields,((c,h)=>{a+=c.length+Kf(h)})),a})(t.mapValue);default:throw Ze(13486,{value:t})}}function g1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gy(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function y1(t){return!!t&&"nullValue"in t}function v1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function JL(t){return(t?.mapValue?.fields||{})[c2]?.stringValue===u2}function Nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Nh(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nh(t.arrayValue.values[n]);return e}return{...t}}function eM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(n)}setAll(e){let n=Hn.emptyPath(),i={},a=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,a),i={},a=[],n=m.popLast()}h?i[m.lastSegment()]=Nh(h):a.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,a)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];$f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Fo(n,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new Ii(Nh(this.value))}}function h2(t){const e=[];return Fo(t.fields,((n,i)=>{const a=new Hn([n]);if($f(i)){const c=h2(i.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)})),new ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,i,a,c,h,m){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Xn(e,0,Qe.min(),Qe.min(),Qe.min(),Ii.empty(),0)}static newFoundDocument(e,n,i,a){return new Xn(e,1,n,Qe.min(),i,a,0)}static newNoDocument(e,n){return new Xn(e,2,n,Qe.min(),Qe.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new Xn(e,3,n,Qe.min(),Qe.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.position=e,this.inclusive=n}}function x1(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const c=e[a],h=t.position[a];if(c.field.isKeyField()?i=Ve.comparator(Ve.fromName(h.referenceValue),n.key):i=Jc(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function _1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function tM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class hn extends d2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new iM(e,n,i):n==="array-contains"?new aM(e,i):n==="in"?new oM(e,i):n==="not-in"?new lM(e,i):n==="array-contains-any"?new cM(e,i):new hn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new sM(e,i):new rM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jc(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends d2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nr(e,n)}matches(e){return f2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f2(t){return t.op==="and"}function m2(t){return nM(t)&&f2(t)}function nM(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Zy(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(m2(t))return t.filters.map((e=>Zy(e))).join(",");{const e=t.filters.map((n=>Zy(n))).join(",");return`${t.op}(${e})`}}function p2(t,e){return t instanceof hn?(function(i,a){return a instanceof hn&&i.op===a.op&&i.field.isEqual(a.field)&&Lr(i.value,a.value)})(t,e):t instanceof nr?(function(i,a){return a instanceof nr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,h,m)=>c&&p2(h,a.filters[m])),!0):!1})(t,e):void Ze(19439)}function g2(t){return t instanceof hn?(function(n){return`${n.field.canonicalString()} ${n.op} ${eu(n.value)}`})(t):t instanceof nr?(function(n){return n.op.toString()+" {"+n.getFilters().map(g2).join(" ,")+"}"})(t):"Filter"}class iM extends hn{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class sM extends hn{constructor(e,n){super(e,"in",n),this.keys=y2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rM extends hn{constructor(e,n){super(e,"not-in",n),this.keys=y2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function y2(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class aM extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&Hh(n.arrayValue,this.value)}}class oM extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hh(this.value.arrayValue,n)}}class lM extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hh(this.value.arrayValue,n)}}class cM extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Hh(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n=null,i=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function b1(t,e=null,n=[],i=[],a=null,c=null,h=null){return new uM(t,e,n,i,a,c,h)}function iv(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Zy(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),zm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>eu(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>eu(i))).join(",")),e.Te=n}return e.Te}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_1(t.startAt,e.startAt)&&_1(t.endAt,e.endAt)}function Wy(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n=null,i=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hM(t,e,n,i,a,c,h,m){return new pu(t,e,n,i,a,c,h,m)}function rv(t){return new pu(t)}function w1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v2(t){return t.collectionGroup!==null}function Ch(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new _n(Hn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((x=>{x.isInequality()&&(m=m.add(x.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new qh(c,i))})),n.has(Hn.keyField().canonicalString())||e.Ie.push(new qh(Hn.keyField(),i))}return e.Ie}function Cr(t){const e=Xe(t);return e.Ee||(e.Ee=dM(e,Ch(t))),e.Ee}function dM(t,e){if(t.limitType==="F")return b1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new qh(a.field,c)}));const n=t.endAt?new _m(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _m(t.startAt.position,t.startAt.inclusive):null;return b1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ky(t,e){const n=t.filters.concat([e]);return new pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $y(t,e,n){return new pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hm(t,e){return sv(Cr(t),Cr(e))&&t.limitType===e.limitType}function x2(t){return`${iv(Cr(t))}|lt:${t.limitType}`}function Lc(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>g2(a))).join(", ")}]`),zm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>eu(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>eu(a))).join(",")),`Target(${i})`})(Cr(t))}; limitType=${t.limitType})`}function qm(t,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(t,e)&&(function(i,a){for(const c of Ch(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(h,m,g){const x=x1(h,m,g);return h.inclusive?x<=0:x<0})(i.startAt,Ch(i),a)||i.endAt&&!(function(h,m,g){const x=x1(h,m,g);return h.inclusive?x>=0:x>0})(i.endAt,Ch(i),a))})(t,e)}function fM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _2(t){return(e,n)=>{let i=!1;for(const a of Ch(t)){const c=mM(a,e,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function mM(t,e,n){const i=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(c,h,m){const g=h.data.field(c),x=m.data.field(c);return g!==null&&x!==null?Jc(g,x):Ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,((n,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return i2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Wt(Ve.comparator);function Ta(){return pM}const b2=new Wt(Ve.comparator);function _h(...t){let e=b2;for(const n of t)e=e.insert(n.key,n);return e}function w2(t){let e=b2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Sl(){return Rh()}function T2(){return Rh()}function Rh(){return new zl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gM=new Wt(Ve.comparator),yM=new _n(Ve.comparator);function ht(...t){let e=yM;for(const n of t)e=e.add(n);return e}const vM=new _n(ut);function xM(){return vM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ym(e)?"-0":e}}function E2(t){return{integerValue:""+t}}function _M(t,e){return WL(e)?E2(e):av(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this._=void 0}}function bM(t,e,n){return t instanceof Gh?(function(a,c){const h={fields:{[a2]:{stringValue:r2},[l2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&tv(c)&&(c=Fm(c)),c&&(h.fields[o2]=c),{mapValue:h}})(n,e):t instanceof Zh?A2(t,e):t instanceof Wh?N2(t,e):(function(a,c){const h=S2(a,c),m=T1(h)+T1(a.Ae);return Gy(h)&&Gy(a.Ae)?E2(m):av(a.serializer,m)})(t,e)}function wM(t,e,n){return t instanceof Zh?A2(t,e):t instanceof Wh?N2(t,e):n}function S2(t,e){return t instanceof bm?(function(i){return Gy(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Gh extends Gm{}class Zh extends Gm{constructor(e){super(),this.elements=e}}function A2(t,e){const n=C2(e);for(const i of t.elements)n.some((a=>Lr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Wh extends Gm{constructor(e){super(),this.elements=e}}function N2(t,e){let n=C2(e);for(const i of t.elements)n=n.filter((a=>!Lr(a,i)));return{arrayValue:{values:n}}}class bm extends Gm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T1(t){return rn(t.integerValue||t.doubleValue)}function C2(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.field=e,this.transform=n}}function EM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Zh&&a instanceof Zh||i instanceof Wh&&a instanceof Wh?Xc(i.elements,a.elements,Lr):i instanceof bm&&a instanceof bm?Lr(i.Ae,a.Ae):i instanceof Gh&&a instanceof Gh})(t.transform,e.transform)}class SM{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zm{}function R2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,Cs.none()):new cd(t.key,t.data,Cs.none());{const n=t.data,i=Ii.empty();let a=new _n(Hn.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),a=a.add(c)}return new Ho(t.key,i,new ns(a.toArray()),Cs.none())}}function AM(t,e,n){t instanceof cd?(function(a,c,h){const m=a.value.clone(),g=S1(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(t,e,n):t instanceof Ho?(function(a,c,h){if(!Yf(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=S1(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(j2(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(t,e,n):(function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function jh(t,e,n,i){return t instanceof cd?(function(c,h,m,g){if(!Yf(c.precondition,h))return m;const x=c.value.clone(),_=A1(c.fieldTransforms,g,h);return x.setAll(_),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ho?(function(c,h,m,g){if(!Yf(c.precondition,h))return m;const x=A1(c.fieldTransforms,g,h),_=h.data;return _.setAll(j2(c)),_.setAll(x),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(c,h,m){return Yf(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(t,e,n)}function NM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),c=S2(i.transform,a||null);c!=null&&(n===null&&(n=Ii.empty()),n.set(i.field,c))}return n||null}function E1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Xc(i,a,((c,h)=>EM(c,h)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends Zm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ho extends Zm{constructor(e,n,i,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function j2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function S1(t,e,n){const i=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const c=t[a],h=c.transform,m=e.data.field(c.field);i.set(c.field,wM(h,m,n[a]))}return i}function A1(t,e,n){const i=new Map;for(const a of t){const c=a.transform,h=n.data.field(a.field);i.set(a.field,bM(c,h,e))}return i}class ov extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CM extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&AM(c,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=jh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=jh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=T2();return this.mutations.forEach((a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=R2(h,m);g!==null&&i.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Qe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ht())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,((n,i)=>E1(n,i)))&&Xc(this.baseMutations,e.baseMutations,((n,i)=>E1(n,i)))}}class lv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){wt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return gM})();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,i[h].version);return new lv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,gt;function IM(t){switch(t){case ge.OK:return Ze(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function P2(t){if(t===void 0)return wa("GRPC error has no .code"),ge.UNKNOWN;switch(t){case cn.OK:return ge.OK;case cn.CANCELLED:return ge.CANCELLED;case cn.UNKNOWN:return ge.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ge.INTERNAL;case cn.UNAVAILABLE:return ge.UNAVAILABLE;case cn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case cn.NOT_FOUND:return ge.NOT_FOUND;case cn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case cn.ABORTED:return ge.ABORTED;case cn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case cn.DATA_LOSS:return ge.DATA_LOSS;default:return Ze(39323,{code:t})}}(gt=cn||(cn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Po([4294967295,4294967295],0);function N1(t){const e=DM().encode(t),n=new ZS;return n.update(e),new Uint8Array(n.digest())}function C1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Po([n,i],0),new Po([a,c],0)]}class cv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bh(`Invalid padding: ${n}`);if(i<0)throw new bh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Po.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Po.fromNumber(i)));return a.compare(LM)===1&&(a=new Po([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=N1(e),[i,a]=C1(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,a,c);if(!this.we(h))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new cv(c,a,n);return i.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=N1(e),[i,a]=C1(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,a,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,i,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Wm(Qe.min(),a,new Wt(ut),Ta(),ht())}}class ud{constructor(e,n,i,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ud(i,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class I2{constructor(e,n){this.targetId=e,this.Ce=n}}class D2{constructor(e,n,i=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class R1{constructor(){this.ve=0,this.Fe=j1(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ht(),n=ht(),i=ht();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ze(38017,{changeType:c})}})),new ud(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=j1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ta(),this.Je=Df(),this.He=Df(),this.Ye=new Wt(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Wy(c))if(i===0){const h=new Ve(c.path);this.et(n,h,Xn.newNoDocument(h,Qe.min()))}else wt(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const x=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,x)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=Mo(i).toUint8Array()}catch(g){if(g instanceof s2)return Qc("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cv(h,a,c)}catch(g){return Qc(g instanceof bh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Wy(m.target)){const g=new Ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Xn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let i=ht();this.He.forEach(((c,h)=>{let m=!0;h.forEachWhile((g=>{const x=this.ot(g);return!x||x.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const a=new Wm(e,n,this.Ye,this.je,i);return this.je=Ta(),this.Je=Df(),this.He=Df(),this.Ye=new Wt(ut),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new R1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _n(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _n(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Df(){return new Wt(Ve.comparator)}function j1(){return new Wt(Ve.comparator)}const kM={asc:"ASCENDING",desc:"DESCENDING"},OM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VM={and:"AND",or:"OR"};class UM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yy(t,e){return t.useProto3Json||zm(e)?e:{value:e}}function wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BM(t,e){return wm(t,e.toTimestamp())}function Rr(t){return wt(!!t,49232),Qe.fromTimestamp((function(n){const i=Lo(n);return new ot(i.seconds,i.nanos)})(t))}function uv(t,e){return Qy(t,e).canonicalString()}function Qy(t,e){const n=(function(a){return new It(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M2(t){const e=It.fromString(t);return wt(B2(e),10190,{key:e.toString()}),e}function Xy(t,e){return uv(t.databaseId,e.path)}function ly(t,e){const n=M2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(O2(n))}function k2(t,e){return uv(t.databaseId,e)}function zM(t){const e=M2(t);return e.length===4?It.emptyPath():O2(e)}function Jy(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O2(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P1(t,e,n){return{name:Xy(t,e),fields:n.value.mapValue.fields}}function FM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Ze(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(x,_){return x.useProto3Json?(wt(_===void 0||typeof _=="string",58123),qn.fromBase64String(_||"")):(wt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),qn.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(x){const _=x.code===void 0?ge.UNKNOWN:P2(x.code);return new Ce(_,x.message||"")})(h);n=new D2(i,a,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ly(t,i.document.name),c=Rr(i.document.updateTime),h=i.document.createTime?Rr(i.document.createTime):Qe.min(),m=new Ii({mapValue:{fields:i.document.fields}}),g=Xn.newFoundDocument(a,c,h,m),x=i.targetIds||[],_=i.removedTargetIds||[];n=new Qf(x,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ly(t,i.document),c=i.readTime?Rr(i.readTime):Qe.min(),h=Xn.newNoDocument(a,c),m=i.removedTargetIds||[];n=new Qf([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ly(t,i.document),c=i.removedTargetIds||[];n=new Qf([],c,a,null)}else{if(!("filter"in e))return Ze(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,h=new PM(a,c),m=i.targetId;n=new I2(m,h)}}return n}function HM(t,e){let n;if(e instanceof cd)n={update:P1(t,e.key,e.value)};else if(e instanceof ov)n={delete:Xy(t,e.key)};else if(e instanceof Ho)n={update:P1(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof CM))return Ze(16599,{Vt:e.type});n={verify:Xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const m=h.transform;if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bm)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ze(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:BM(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ze(27497)})(t,e.precondition)),n}function qM(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(a,c){let h=a.updateTime?Rr(a.updateTime):Rr(c);return h.isEqual(Qe.min())&&(h=Rr(c)),new SM(h,a.transformResults||[])})(n,e)))):[]}function GM(t,e){return{documents:[k2(t,e.path)]}}function ZM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=k2(t,a);const c=(function(x){if(x.length!==0)return U2(nr.create(x,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(x){if(x.length!==0)return x.map((_=>(function(A){return{field:Mc(A.field),direction:$M(A.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Yy(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:n,parent:a}}function WM(t){let e=zM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){wt(i===1,65062);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(T){const A=V2(T);return A instanceof nr&&m2(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(P){return new qh(kc(P.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,zm(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,I=T.values||[];return new _m(I,A)})(n.startAt));let x=null;return n.endAt&&(x=(function(T){const A=!T.before,I=T.values||[];return new _m(I,A)})(n.endAt)),hM(e,a,h,c,m,"F",g,x)}function KM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=kc(n.unaryFilter.field);return hn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=kc(n.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kc(n.unaryFilter.field);return hn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=kc(n.unaryFilter.field);return hn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return hn.create(kc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return nr.create(n.compositeFilter.filters.map((i=>V2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}})(n.compositeFilter.op))})(t):Ze(30097,{filter:t})}function $M(t){return kM[t]}function YM(t){return OM[t]}function QM(t){return VM[t]}function Mc(t){return{fieldPath:t.canonicalString()}}function kc(t){return Hn.fromServerFormat(t.fieldPath)}function U2(t){return t instanceof hn?(function(n){if(n.op==="=="){if(v1(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NAN"}};if(y1(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v1(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NOT_NAN"}};if(y1(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mc(n.field),op:YM(n.op),value:n.value}}})(t):t instanceof nr?(function(n){const i=n.getFilters().map((a=>U2(a)));return i.length===1?i[0]:{compositeFilter:{op:QM(n.op),filters:i}}})(t):Ze(54877,{filter:t})}function XM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,i,a,c=Qe.min(),h=Qe.min(),m=qn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.yt=e}}function ek(t){const e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.Cn=new nk}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(Do.min())}updateCollectionGroup(e,n,i){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class nk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new _n(It.comparator),c=!a.has(i);return this.index[n]=a.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new _n(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z2=41943040;class Pi{static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(z2,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tu(0)}static cr(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="LruGarbageCollector",ik=1048576;function L1([t,e],[n,i]){const a=ut(t,n);return a===0?ut(e,i):a}class sk{constructor(e){this.Ir=e,this.buffer=new _n(L1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();L1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(D1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mu(n)?Pe(D1,"Ignoring IndexedDB error during garbage collection: ",n):await fu(n)}await this.Vr(3e5)}))}}class ak{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(Bm.ce);const i=new sk(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(I1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,c,h,m,g,x;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,m=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(x=Date.now(),Dc()<=ct.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(x-g)+`ms
Total Duration: ${x-_}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function ok(t,e){return new ak(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.changes=new zl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?xe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&jh(i.mutation,a,ns.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ht()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ht()){const a=Sl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((c=>{let h=_h();return c.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Sl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ht())))}populateOverlays(e,n,i){const a=[];return i.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,i,a){let c=Ta();const h=Rh(),m=(function(){return Rh()})();return n.forEach(((g,x)=>{const _=i.get(x.key);a.has(x.key)&&(_===void 0||_.mutation instanceof Ho)?c=c.insert(x.key,x):_!==void 0?(h.set(x.key,_.mutation.getFieldMask()),jh(_.mutation,x,_.mutation.getFieldMask(),ot.now())):h.set(x.key,ns.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((x,_)=>h.set(x,_))),n.forEach(((x,_)=>m.set(x,new ck(_,h.get(x)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=Rh();let a=new Wt(((h,m)=>h-m)),c=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const x=n.get(g);if(x===null)return;let _=i.get(g)||ns.empty();_=m.applyToLocalView(x,_),i.set(g,_);const T=(a.get(m.batchId)||ht()).add(g);a=a.insert(m.batchId,T)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),x=g.key,_=g.value,T=T2();_.forEach((A=>{if(!c.has(A)){const I=R2(n.get(A),i.get(A));I!==null&&T.set(A,I),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,x,T))}return xe.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(h){return Ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-c.size):xe.resolve(Sl());let m=Bh,g=c;return h.next((x=>xe.forEach(x,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(_)?xe.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,x,c))).next((()=>this.computeViews(e,g,x,ht()))).next((_=>({batchId:m,changes:w2(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((i=>{let a=_h();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const c=n.collectionGroup;let h=_h();return this.indexManager.getCollectionParents(e,c).next((m=>xe.forEach(m,(g=>{const x=(function(T,A){return new pu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,x,i,a).next((_=>{_.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,a)))).next((h=>{c.forEach(((g,x)=>{const _=x.getKey();h.get(_)===null&&(h=h.insert(_,Xn.newInvalidDocument(_)))}));let m=_h();return h.forEach(((g,x)=>{const _=c.get(g);_!==void 0&&jh(_.mutation,x,ns.empty(),ot.now()),qm(n,x)&&(m=m.insert(g,x))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Rr(a.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:ek(a.bundledQuery),readTime:Rr(a.readTime)}})(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.overlays=new Wt(Ve.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Sl();return xe.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,c)=>{this.St(e,n,c)})),xe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),xe.resolve()}getOverlaysForCollection(e,n,i){const a=Sl(),c=n.length+1,h=new Ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,x=g.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===c&&g.largestBatchId>i&&a.set(g.getKey(),g)}return xe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let c=new Wt(((x,_)=>x-_));const h=this.overlays.getIterator();for(;h.hasNext();){const x=h.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>i){let _=c.get(x.largestBatchId);_===null&&(_=Sl(),c=c.insert(x.largestBatchId,_)),_.set(x.getKey(),x)}}const m=Sl(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((x,_)=>m.set(x,_))),!(m.size()>=a)););return xe.resolve(m)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new jM(n,i));let c=this.qr.get(n);c===void 0&&(c=ht(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.Qr=new _n(Ln.$r),this.Ur=new _n(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Ln(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Ln(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ve(new It([])),i=new Ln(n,e),a=new Ln(n,e+1),c=[];return this.Ur.forEachInRange([i,a],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new It([])),i=new Ln(n,e),a=new Ln(n,e+1);let c=ht();return this.Ur.forEachInRange([i,a],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ln(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(Ln.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RM(c,n,i,a);this.mutationQueue.push(h);for(const m of a)this.Zr=this.Zr.add(new Ln(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return xe.resolve(h)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),c=a<0?0:a;return xe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?ev:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ln(n,0),a=new Ln(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,a],(h=>{const m=this.Xr(h.Yr);c.push(m)})),xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new _n(ut);return n.forEach((a=>{const c=new Ln(a,0),h=new Ln(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(m=>{i=i.add(m.Yr)}))})),xe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let c=i;Ve.isDocumentKey(c)||(c=c.child(""));const h=new Ln(new Ve(c),0);let m=new _n(ut);return this.Zr.forEachWhile((g=>{const x=g.key.path;return!!i.isPrefixOf(x)&&(x.length===a&&(m=m.add(g.Yr)),!0)}),h),xe.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return xe.forEach(n.mutations,(a=>{const c=new Ln(a.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Ln(n,0),a=this.Zr.firstAfterOrEqual(i);return xe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.ri=e,this.docs=(function(){return new Wt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),c=a?a.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return xe.resolve(i?i.document.mutableCopy():Xn.newInvalidDocument(n))}getEntries(e,n){let i=Ta();return n.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Xn.newInvalidDocument(a))})),xe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let c=Ta();const h=n.path,m=new Ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:x,value:{document:_}}=g.getNext();if(!h.isPrefixOf(x.path))break;x.path.length>h.length+1||HL(FL(_),i)<=0||(a.has(_.key)||qm(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return xe.resolve(c)}getAllFromCollectionGroup(e,n,i,a){Ze(9500)}ii(e,n){return xe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new gk(this)}getSize(e){return xe.resolve(this.size)}}class gk extends lk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.persistence=e,this.si=new zl((n=>iv(n)),sv),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new hv,this.targetCount=0,this.ai=tu.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,i){let a=0;const c=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),xe.waitFor(c).next((()=>a))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return xe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),xe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((h=>{c.push(a.markPotentiallyOrphaned(e,h))})),xe.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return xe.resolve(i)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bm(0),this.li=!1,this.li=!0,this.hi=new fk,this.referenceDelegate=e(this),this.Pi=new yk(this),this.indexManager=new tk,this.remoteDocumentCache=(function(a){return new pk(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new JM(n),this.Ii=new hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new mk(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Pe("MemoryPersistence","Starting transaction:",e);const a=new vk(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return xe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class vk extends GL{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ri=new hv,this.Vi=null}static mi(e){return new dv(e)}get fi(){if(this.Vi)return this.Vi;throw Ze(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),xe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(i=>{const a=Ve.fromPath(i);return this.gi(e,a).next((c=>{c||n.removeEntry(a,Qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tm{constructor(e,n){this.persistence=e,this.pi=new zl((i=>KL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=ok(this,n)}static mi(e,n){return new Tm(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((c=>c?xe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,n).next((m=>{m||(i++,c.removeEntry(h,Qe.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}br(e,n,i){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return xe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=ht(),a=ht();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new fv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZP()?8:ZL(ti())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,a,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new xk;return this.Ss(e,n,h).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>c.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Dc()<=ct.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(Dc()<=ct.DEBUG&&Pe("QueryEngine","Query:",Lc(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Dc()<=ct.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):xe.resolve())}ys(e,n){if(w1(n))return xe.resolve(null);let i=Cr(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=$y(n,null,"F"),i=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=ht(...c);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const x=this.Ds(n,m);return this.Cs(n,x,h,g.readTime)?this.ys(e,$y(n,null,"F")):this.vs(e,x,n,g)}))))})))))}ws(e,n,i,a){return w1(n)||a.isEqual(Qe.min())?xe.resolve(null):this.ps.getDocuments(e,i).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,i,a)?xe.resolve(null):(Dc()<=ct.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lc(n)),this.vs(e,h,n,zL(a,Bh)).next((m=>m)))}))}Ds(e,n){let i=new _n(_2(e));return n.forEach(((a,c)=>{qm(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,i){return Dc()<=ct.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Lc(n)),this.ps.getDocumentsMatchingQuery(e,n,Do.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="LocalStore",bk=3e8;class wk{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Wt(ut),this.xs=new zl((c=>iv(c)),sv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Tk(t,e,n,i){return new wk(t,e,n,i)}async function H2(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],m=[];let g=ht();for(const x of a){h.push(x.batchId);for(const _ of x.mutations)g=g.add(_.key)}for(const x of c){m.push(x.batchId);for(const _ of x.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((x=>({Ls:x,removedBatchIds:h,addedBatchIds:m})))}))}))}function Ek(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,x,_){const T=x.batch,A=T.keys();let I=xe.resolve();return A.forEach((P=>{I=I.next((()=>_.getEntry(g,P))).next((B=>{const V=x.docVersions.get(P);wt(V!==null,48541),B.version.compareTo(V)<0&&(T.applyToRemoteDocument(B,x),B.isValidDocument()&&(B.setReadTime(x.commitVersion),_.addEntry(B)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=ht();for(let x=0;x<m.mutationResults.length;++x)m.mutationResults[x].transformResults.length>0&&(g=g.add(m.batch.mutations[x].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function q2(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Sk(t,e){const n=Xe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const A=a.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,T))));let I=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(qn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,i)),a=a.insert(T,I),(function(B,V,K){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=bk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(A,I,_)&&m.push(n.Pi.updateTargetData(c,I))}));let g=Ta(),x=ht();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),m.push(Ak(c,h,e.documentUpdates).next((_=>{g=_.ks,x=_.qs}))),!i.isEqual(Qe.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));m.push(_)}return xe.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,x))).next((()=>g))})).then((c=>(n.Ms=a,c)))}function Ak(t,e,n){let i=ht(),a=ht();return n.forEach((c=>i=i.add(c))),e.getEntries(t,i).next((c=>{let h=Ta();return n.forEach(((m,g)=>{const x=c.get(m);g.isFoundDocument()!==x.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Qe.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!x.isValidDocument()||g.version.compareTo(x.version)>0||g.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):Pe(mv,"Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",g.version)})),{ks:h,qs:a}}))}function Nk(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ev),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Ck(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((c=>c?(a=c,xe.resolve(a)):n.Pi.allocateTargetId(i).next((h=>(a=new No(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function e0(t,e,n){const i=Xe(t),a=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!mu(h))throw h;Pe(mv,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function M1(t,e,n){const i=Xe(t);let a=Qe.min(),c=ht();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,x,_){const T=Xe(g),A=T.xs.get(_);return A!==void 0?xe.resolve(T.Ms.get(A)):T.Pi.getTargetData(x,_)})(i,h,Cr(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?a:Qe.min(),n?c:ht()))).next((m=>(Rk(i,fM(e),m),{documents:m,Qs:c})))))}function Rk(t,e,n){let i=t.Os.get(e)||Qe.min();n.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),t.Os.set(e,i)}class k1{constructor(){this.activeTargetIds=xM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jk{constructor(){this.Mo=new k1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new k1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="ConnectivityMonitor";class V1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(O1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(O1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function t0(){return Lf===null?Lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="RestConnection",Ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===vm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,c){const h=t0(),m=this.zo(e,n.toUriEncodedString());Pe(cy,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,c);const{host:x}=new URL(m),_=cu(x);return this.Jo(e,m,g,i,_).then((T=>(Pe(cy,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Qc(cy,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",i),T}))}Ho(e,n,i,a,c,h){return this.Go(e,n,i,a,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+du})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const i=Ik[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class Mk extends Dk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,c){const h=t0();return new Promise(((m,g)=>{const x=new WS;x.setWithCredentials(!0),x.listenOnce(KS.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Wf.NO_ERROR:const T=x.getResponseJson();Pe(Yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Wf.TIMEOUT:Pe(Yn,`RPC '${e}' ${h} timed out`),g(new Ce(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Wf.HTTP_ERROR:const A=x.getStatus();if(Pe(Yn,`RPC '${e}' ${h} failed with status:`,A,"response text:",x.getResponseText()),A>0){let I=x.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const B=(function(K){const H=K.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(H)>=0?H:ge.UNKNOWN})(P.status);g(new Ce(B,P.message))}else g(new Ce(ge.UNKNOWN,"Server responded with status "+x.getStatus()))}else g(new Ce(ge.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:h,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{Pe(Yn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(a);Pe(Yn,`RPC '${e}' ${h} sending request:`,a),x.send(n,"POST",_,i,15)}))}T_(e,n,i){const a=t0(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=QS(),m=YS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(g.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=c.join("");Pe(Yn,`Creating RPC '${e}' stream ${a}: ${_}`,g);const T=h.createWebChannel(_,g);this.I_(T);let A=!1,I=!1;const P=new Lk({Yo:V=>{I?Pe(Yn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(A||(Pe(Yn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),Pe(Yn,`RPC '${e}' stream ${a} sending:`,V),T.send(V))},Zo:()=>T.close()}),B=(V,K,H)=>{V.listen(K,($=>{try{H($)}catch(X){setTimeout((()=>{throw X}),0)}}))};return B(T,xh.EventType.OPEN,(()=>{I||(Pe(Yn,`RPC '${e}' stream ${a} transport opened.`),P.o_())})),B(T,xh.EventType.CLOSE,(()=>{I||(I=!0,Pe(Yn,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(T))})),B(T,xh.EventType.ERROR,(V=>{I||(I=!0,Qc(Yn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),P.a_(new Ce(ge.UNAVAILABLE,"The operation could not be completed")))})),B(T,xh.EventType.MESSAGE,(V=>{if(!I){const K=V.data[0];wt(!!K,16349);const H=K,$=H?.error||H[0]?.error;if($){Pe(Yn,`RPC '${e}' stream ${a} received error:`,$);const X=$.status;let ee=(function(j){const M=cn[j];if(M!==void 0)return P2(M)})(X),oe=$.message;ee===void 0&&(ee=ge.INTERNAL,oe="Unknown error status: "+X+" with message "+$.message),I=!0,P.a_(new Ce(ee,oe)),T.close()}else Pe(Yn,`RPC '${e}' stream ${a} received:`,K),P.u_(K)}})),B(m,$S.STAT_EVENT,(V=>{V.stat===Fy.PROXY?Pe(Yn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Fy.NOPROXY&&Pe(Yn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function uy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t){return new UM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,i=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="PersistentStream";class Z2{constructor(e,n,i,a,c,h,m,g){this.Mi=e,this.S_=i,this.b_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ce(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(U1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Pe(U1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kk extends Z2{constructor(e,n,i,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FM(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Qe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Qe.min():h.readTime?Rr(h.readTime):Qe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Jy(this.serializer),n.addTarget=(function(c,h){let m;const g=h.target;if(m=Wy(g)?{documents:GM(c,g)}:{query:ZM(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=L2(c,h.resumeToken);const x=Yy(c,h.expectedCount);x!==null&&(m.expectedCount=x)}else if(h.snapshotVersion.compareTo(Qe.min())>0){m.readTime=wm(c,h.snapshotVersion.toTimestamp());const x=Yy(c,h.expectedCount);x!==null&&(m.expectedCount=x)}return m})(this.serializer,e);const i=KM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Jy(this.serializer),n.removeTarget=e,this.q_(n)}}class Ok extends Z2{constructor(e,n,i,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qM(e.writeResults,e.commitTime),i=Rr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Jy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>HM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{}class Uk extends Vk{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Qy(n,i),a,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(ge.UNKNOWN,c.toString())}))}Ho(e,n,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Qy(n,i),a,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ce(ge.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wa(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class zk{constructor(e,n,i,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Fl(this)&&(Pe(Vl,"Restarting streams for network reachability change."),await(async function(g){const x=Xe(g);x.Ea.add(4),await hd(x),x.Ra.set("Unknown"),x.Ea.delete(4),await $m(x)})(this))}))})),this.Ra=new Bk(i,a)}}async function $m(t){if(Fl(t))for(const e of t.da)await e(!0)}async function hd(t){for(const e of t.da)await e(!1)}function W2(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vv(n)?yv(n):gu(n).O_()&&gv(n,e))}function pv(t,e){const n=Xe(t),i=gu(n);n.Ia.delete(e),i.O_()&&K2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Fl(n)&&n.Ra.set("Unknown"))}function gv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gu(t).Y_(e)}function K2(t,e){t.Va.Ue(e),gu(t).Z_(e)}function yv(t){t.Va=new MM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gu(t).start(),t.Ra.ua()}function vv(t){return Fl(t)&&!gu(t).x_()&&t.Ia.size>0}function Fl(t){return Xe(t).Ea.size===0}function $2(t){t.Va=void 0}async function Fk(t){t.Ra.set("Online")}async function Hk(t){t.Ia.forEach(((e,n)=>{gv(t,e)}))}async function qk(t,e){$2(t),vv(t)?(t.Ra.ha(e),yv(t)):t.Ra.set("Unknown")}async function Gk(t,e,n){if(t.Ra.set("Online"),e instanceof D2&&e.state===2&&e.cause)try{await(async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.Va.removeTarget(m))})(t,e)}catch(i){Pe(Vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Em(t,i)}else if(e instanceof Qf?t.Va.Ze(e):e instanceof I2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Qe.min()))try{const i=await q2(t.localStore);n.compareTo(i)>=0&&await(function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach(((g,x)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(x);_&&c.Ia.set(x,_.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,x)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(qn.EMPTY_BYTE_STRING,_.snapshotVersion)),K2(c,g);const T=new No(_.target,g,x,_.sequenceNumber);gv(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(i){Pe(Vl,"Failed to raise snapshot:",i),await Em(t,i)}}async function Em(t,e,n){if(!mu(e))throw e;t.Ea.add(1),await hd(t),t.Ra.set("Offline"),n||(n=()=>q2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe(Vl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $m(t)}))}function Y2(t,e){return e().catch((n=>Em(t,n,e)))}async function Ym(t){const e=Xe(t),n=Oo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ev;for(;Zk(e);)try{const a=await Nk(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,Wk(e,a)}catch(a){await Em(e,a)}Q2(e)&&X2(e)}function Zk(t){return Fl(t)&&t.Ta.length<10}function Wk(t,e){t.Ta.push(e);const n=Oo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Q2(t){return Fl(t)&&!Oo(t).x_()&&t.Ta.length>0}function X2(t){Oo(t).start()}async function Kk(t){Oo(t).ra()}async function $k(t){const e=Oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Yk(t,e,n){const i=t.Ta.shift(),a=lv.from(i,e,n);await Y2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Ym(t)}async function Qk(t,e){e&&Oo(t).X_&&await(async function(i,a){if((function(h){return IM(h)&&h!==ge.ABORTED})(a.code)){const c=i.Ta.shift();Oo(i).B_(),await Y2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Ym(i)}})(t,e),Q2(t)&&X2(t)}async function B1(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Pe(Vl,"RemoteStore received new credentials");const i=Fl(n);n.Ea.add(3),await hd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $m(n)}async function Xk(t,e){const n=Xe(t);e?(n.Ea.delete(2),await $m(n)):e||(n.Ea.add(2),await hd(n),n.Ra.set("Unknown"))}function gu(t){return t.ma||(t.ma=(function(n,i,a){const c=Xe(n);return c.sa(),new kk(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Fk.bind(null,t),t_:Hk.bind(null,t),r_:qk.bind(null,t),H_:Gk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),vv(t)?yv(t):t.Ra.set("Unknown")):(await t.ma.stop(),$2(t))}))),t.ma}function Oo(t){return t.fa||(t.fa=(function(n,i,a){const c=Xe(n);return c.sa(),new Ok(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kk.bind(null,t),r_:Qk.bind(null,t),ta:$k.bind(null,t),na:Yk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ym(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(Vl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,i,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,c){const h=Date.now()+i,m=new xv(e,n,h,a,c);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(t,e){if(wa("AsyncQueue",`${e}: ${t}`),mu(t))return new Ce(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=_h(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.ga=new Wt(Ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class nu{constructor(e,n,i,a,c,h,m,g,x){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=x}static fromInitialDocuments(e,n,i,a,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new nu(e,n,Zc.emptySet(n),h,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eO{constructor(){this.queries=F1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Xe(n),c=a.queries;a.queries=F1(),c.forEach(((h,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new Ce(ge.ABORTED,"Firestore shutting down"))}}function F1(){return new zl((t=>x2(t)),Hm)}async function J2(t,e){const n=Xe(t);let i=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(i=2):(c=new Jk,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=_v(h,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&bv(n)}async function eA(t,e){const n=Xe(t),i=e.query;let a=3;const c=n.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tO(t,e){const n=Xe(t);let i=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(a)&&(i=!0);h.wa=a}}i&&bv(n)}function nO(t,e,n){const i=Xe(t),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);i.queries.delete(e)}function bv(t){t.Ca.forEach((e=>{e.next()}))}var n0,H1;(H1=n0||(n0={})).Ma="default",H1.Cache="cache";class tA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new nu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==n0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class iO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ht(),this.mutatedKeys=ht(),this.eu=_2(e),this.tu=new Zc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new z1,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,x=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,T)=>{const A=a.get(_),I=qm(this.query,T)?T:null,P=!!A&&this.mutatedKeys.has(A.key),B=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;A&&I?A.data.isEqual(I.data)?P!==B&&(i.track({type:3,doc:I}),V=!0):this.su(A,I)||(i.track({type:2,doc:I}),V=!0,(g&&this.eu(I,g)>0||x&&this.eu(I,x)<0)&&(m=!0)):!A&&I?(i.track({type:0,doc:I}),V=!0):A&&!I&&(i.track({type:1,doc:A}),V=!0,(g||x)&&(m=!0)),V&&(I?(h=h.add(I),c=B?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(I,P){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Rt:V})}};return B(I)-B(P)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(i),a=a??!1;const m=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,x=g!==this.Za;return this.Za=g,h.length!==0||x?{snapshot:new nu(this.query,e.tu,c,h,e.mutatedKeys,g===0,x,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ht(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new iA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new nA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ht();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wv="SyncEngine";class sO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class rO{constructor(e){this.key=e,this.hu=!1}}class aO{constructor(e,n,i,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new zl((m=>x2(m)),Hm),this.Iu=new Map,this.Eu=new Set,this.du=new Wt(Ve.comparator),this.Au=new Map,this.Ru=new hv,this.Vu={},this.mu=new Map,this.fu=tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oO(t,e,n=!0){const i=cA(t);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await sA(i,e,n,!0),a}async function lO(t,e){const n=cA(t);await sA(n,e,!0,!1)}async function sA(t,e,n,i){const a=await Ck(t.localStore,Cr(e)),c=a.targetId,h=t.sharedClientState.addLocalQueryTarget(c,n);let m;return i&&(m=await cO(t,e,c,h==="current",a.resumeToken)),t.isPrimaryClient&&n&&W2(t.remoteStore,a),m}async function cO(t,e,n,i,a){t.pu=(T,A,I)=>(async function(B,V,K,H){let $=V.view.ru(K);$.Cs&&($=await M1(B.localStore,V.query,!1).then((({documents:O})=>V.view.ru(O,$))));const X=H&&H.targetChanges.get(V.targetId),ee=H&&H.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges($,B.isPrimaryClient,X,ee);return G1(B,V.targetId,oe.au),oe.snapshot})(t,T,A,I);const c=await M1(t.localStore,e,!0),h=new iO(e,c.Qs),m=h.ru(c.documents),g=ud.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),x=h.applyChanges(m,t.isPrimaryClient,g);G1(t,n,x.au);const _=new sO(e,n,h);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),x.snapshot}async function uO(t,e,n){const i=Xe(t),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter((h=>!Hm(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await e0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&pv(i.remoteStore,a.targetId),i0(i,a.targetId)})).catch(fu)):(i0(i,a.targetId),await e0(i.localStore,a.targetId,!0))}async function hO(t,e){const n=Xe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pv(n.remoteStore,i.targetId))}async function dO(t,e,n){const i=xO(t);try{const a=await(function(h,m){const g=Xe(h),x=ot.now(),_=m.reduce(((I,P)=>I.add(P.key)),ht());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=Ta(),B=ht();return g.Ns.getEntries(I,_).next((V=>{P=V,P.forEach(((K,H)=>{H.isValidDocument()||(B=B.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,P))).next((V=>{T=V;const K=[];for(const H of m){const $=NM(H,T.get(H.key).overlayedDocument);$!=null&&K.push(new Ho(H.key,$,h2($.value.mapValue),Cs.exists(!0)))}return g.mutationQueue.addMutationBatch(I,x,K,m)})).next((V=>{A=V;const K=V.applyToLocalDocumentSet(T,B);return g.documentOverlayCache.saveOverlays(I,V.batchId,K)}))})).then((()=>({batchId:A.batchId,changes:w2(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(h,m,g){let x=h.Vu[h.currentUser.toKey()];x||(x=new Wt(ut)),x=x.insert(m,g),h.Vu[h.currentUser.toKey()]=x})(i,a.batchId,n),await dd(i,a.changes),await Ym(i.remoteStore)}catch(a){const c=_v(a,"Failed to persist write");n.reject(c)}}async function rA(t,e){const n=Xe(t);try{const i=await Sk(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const h=n.Au.get(c);h&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?wt(h.hu,14607):a.removedDocuments.size>0&&(wt(h.hu,42227),h.hu=!1))})),await dd(n,i,e)}catch(i){await fu(i)}}function q1(t,e,n){const i=Xe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const g=Xe(h);g.onlineState=m;let x=!1;g.queries.forEach(((_,T)=>{for(const A of T.Sa)A.va(m)&&(x=!0)})),x&&bv(g)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fO(t,e,n){const i=Xe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),c=a&&a.key;if(c){let h=new Wt(Ve.comparator);h=h.insert(c,Xn.newNoDocument(c,Qe.min()));const m=ht().add(c),g=new Wm(Qe.min(),new Map,new Wt(ut),h,m);await rA(i,g),i.du=i.du.remove(c),i.Au.delete(e),Tv(i)}else await e0(i.localStore,e,!1).then((()=>i0(i,e,n))).catch(fu)}async function mO(t,e){const n=Xe(t),i=e.batch.batchId;try{const a=await Ek(n.localStore,e);oA(n,i,null),aA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dd(n,a)}catch(a){await fu(a)}}async function pO(t,e,n){const i=Xe(t);try{const a=await(function(h,m){const g=Xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let _;return g.mutationQueue.lookupMutationBatch(x,m).next((T=>(wt(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(x,T)))).next((()=>g.mutationQueue.performConsistencyCheck(x))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(x,_,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,_))).next((()=>g.localDocuments.getDocuments(x,_)))}))})(i.localStore,e);oA(i,e,n),aA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await dd(i,a)}catch(a){await fu(a)}}function aA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function oA(t,e,n){const i=Xe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function i0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||lA(t,i)}))}function lA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Tv(t))}function G1(t,e,n){for(const i of n)i instanceof nA?(t.Ru.addReference(i.key,e),gO(t,i)):i instanceof iA?(Pe(wv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||lA(t,i.key)):Ze(19791,{wu:i})}function gO(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Pe(wv,"New document in limbo: "+n),t.Eu.add(i),Tv(t))}function Tv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(It.fromString(e)),i=t.fu.next();t.Au.set(i,new rO(n)),t.du=t.du.insert(n,i),W2(t.remoteStore,new No(Cr(rv(n.path)),i,"TargetPurposeLimboResolution",Bm.ce))}}async function dd(t,e,n){const i=Xe(t),a=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{h.push(i.pu(g,e,n).then((x=>{if((x||n)&&i.isPrimaryClient){const _=x?!x.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(x){a.push(x);const _=fv.As(g.targetId,x);c.push(_)}})))})),await Promise.all(h),i.Pu.H_(a),await(async function(g,x){const _=Xe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>xe.forEach(x,(A=>xe.forEach(A.Es,(I=>_.persistence.referenceDelegate.addReference(T,A.targetId,I))).next((()=>xe.forEach(A.ds,(I=>_.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))))))}catch(T){if(!mu(T))throw T;Pe(mv,"Failed to update sequence numbers: "+T)}for(const T of x){const A=T.targetId;if(!T.fromCache){const I=_.Ms.get(A),P=I.snapshotVersion,B=I.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(A,B)}}})(i.localStore,c))}async function yO(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Pe(wv,"User change. New user:",e.toKey());const i=await H2(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new Ce(ge.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await dd(n,i.Ls)}}function vO(t,e){const n=Xe(t),i=n.Au.get(e);if(i&&i.hu)return ht().add(i.key);{let a=ht();const c=n.Iu.get(e);if(!c)return a;for(const h of c){const m=n.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function cA(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fO.bind(null,e),e.Pu.H_=tO.bind(null,e.eventManager),e.Pu.yu=nO.bind(null,e.eventManager),e}function xO(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pO.bind(null,e),e}class Sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Tk(this.persistence,new _k,e.initialUser,this.serializer)}Cu(e){return new F2(dv.mi,this.serializer)}Du(e){return new jk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sm.provider={build:()=>new Sm};class _O extends Sm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Tm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rk(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new F2((i=>Tm.mi(i,n)),this.serializer)}}class s0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await Xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eO})()}createDatastore(e){const n=Km(e.databaseInfo.databaseId),i=(function(c){return new Mk(c)})(e.databaseInfo);return(function(c,h,m,g){return new Uk(c,h,m,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,c,h,m){return new zk(i,a,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>q1(this.syncEngine,n,0)),(function(){return V1.v()?new V1:new Pk})())}createSyncEngine(e,n){return(function(a,c,h,m,g,x,_){const T=new aO(a,c,h,m,g,x);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Xe(n);Pe(Vl,"RemoteStore shutting down."),i.Ea.add(5),await hd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}s0.provider={build:()=>new s0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class bO{constructor(e,n,i,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Qn.UNAUTHENTICATED,this.clientId=J0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{Pe(Vo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(Pe(Vo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=_v(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function hy(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Vo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await H2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wO(t);Pe(Vo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>B1(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>B1(e.remoteStore,a))),t._onlineComponents=e}async function wO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Vo,"Using user provided OfflineComponentProvider");try{await hy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),await hy(t,new Sm)}}else Pe(Vo,"Using default OfflineComponentProvider"),await hy(t,new _O(void 0));return t._offlineComponents}async function hA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Vo,"Using user provided OnlineComponentProvider"),await Z1(t,t._uninitializedComponentsProvider._online)):(Pe(Vo,"Using default OnlineComponentProvider"),await Z1(t,new s0))),t._onlineComponents}function TO(t){return hA(t).then((e=>e.syncEngine))}async function dA(t){const e=await hA(t),n=e.eventManager;return n.onListen=oO.bind(null,e.syncEngine),n.onUnlisten=uO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),n}function EO(t,e,n={}){const i=new va;return t.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,x){const _=new uA({next:A=>{_.Nu(),h.enqueueAndForget((()=>eA(c,T)));const I=A.docs.has(m);!I&&A.fromCache?x.reject(new Ce(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&g&&g.source==="server"?x.reject(new Ce(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(A)},error:A=>x.reject(A)}),T=new tA(rv(m.path),_,{includeMetadataChanges:!0,qa:!0});return J2(c,T)})(await dA(t),t.asyncQueue,e,n,i))),i.promise}function SO(t,e,n={}){const i=new va;return t.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,g,x){const _=new uA({next:A=>{_.Nu(),h.enqueueAndForget((()=>eA(c,T))),A.fromCache&&g.source==="server"?x.reject(new Ce(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(A)},error:A=>x.reject(A)}),T=new tA(m,_,{includeMetadataChanges:!0,qa:!0});return J2(c,T)})(await dA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firestore.googleapis.com",K1=!0;class $1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=K1}else this.host=e.host,this.ssl=e.ssl??K1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ik)throw new Ce(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new jL;switch(i.type){case"firstParty":return new LL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=W1.get(n);i&&(Pe("ComponentProvider","Removing Datastore"),W1.delete(n),i.terminate())})(this),Promise.resolve()}}function AO(t,e,n,i={}){t=tr(t,Qm);const a=cu(e),c=t._getSettings(),h={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;a&&(nS(`https://${m}`),iS("Firestore",!0)),c.host!==mA&&c.host!==m&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:a,emulatorOptions:i};if(!Dl(g,h)&&(t._setSettings(g),i.mockUserToken)){let x,_;if(typeof i.mockUserToken=="string")x=i.mockUserToken,_=Qn.MOCK_USER;else{x=OP(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ce(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Qn(T)}t._authCredentials=new PL(new JS(x,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hl(this.firestore,e,this._query)}}class an{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ld(n,an._jsonSchema))return new an(e,i||null,new Ve(It.fromString(n.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:dn("string",an._jsonSchemaVersion),referencePath:dn("string")};class Io extends Hl{constructor(e,n,i){super(e,n,rv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new Ve(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function kn(t,e,...n){if(t=bn(t),e2("collection","path",e),t instanceof Qm){const i=It.fromString(e,...n);return l1(i),new Io(t,null,i)}{if(!(t instanceof an||t instanceof Io))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return l1(i),new Io(t.firestore,null,i)}}function Mn(t,e,...n){if(t=bn(t),arguments.length===1&&(e=J0.newId()),e2("doc","path",e),t instanceof Qm){const i=It.fromString(e,...n);return o1(i),new an(t,null,new Ve(i))}{if(!(t instanceof an||t instanceof Io))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return o1(i),new an(t.firestore,t instanceof Io?t.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="AsyncQueue";class Q1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G2(this,"async_queue_retry"),this._c=()=>{const i=uy();i&&Pe(Y1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=uy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=uy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mu(e))throw e;Pe(Y1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,wa("INTERNAL UNHANDLED ERROR: ",X1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=xv.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Ze(47125,{Pc:X1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function X1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ql extends Qm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Q1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q1(e),this._firestoreClient=void 0,await e}}}function pA(t,e){const n=typeof t=="object"?t:oS(),i=typeof t=="string"?t:vm,a=H0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=MP("firestore");c&&AO(a,...c)}return a}function Ev(t){if(t._terminated)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NO(t),t._firestoreClient}function NO(t){const e=t._freezeSettings(),n=(function(a,c,h,m){return new QL(a,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,fA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(qn.fromBase64String(e))}catch(n){throw new Ce(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new As(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ld(e,As._jsonSchema))return As.fromBase64String(e.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:dn("string",As._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(ld(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:dn("string",jr._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ld(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pr(e.vectorValues);throw new Ce(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:dn("string",Pr._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class RO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class gA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ac:t})}}class Sv{constructor(e,n,i,a,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Am(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&CO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Km(e)}Cc(e,n,i,a=!1){return new Sv({Ac:e,methodName:n,Dc:i,path:Hn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=Km(t._databaseId);return new jO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vA(t,e,n,i,a,c={}){const h=t.Cc(c.merge||c.mergeFields?2:0,e,n,a);Nv("Data must be an object, but it was:",h,i);const m=xA(i,h);let g,x;if(c.merge)g=new ns(h.fieldMask),x=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const T of c.mergeFields){const A=r0(e,T,n);if(!h.contains(A))throw new Ce(ge.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);bA(_,A)||_.push(A)}g=new ns(_),x=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,x=h.fieldTransforms;return new RO(new Ii(m),g,x)}class tp extends Jm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}class Av extends Jm{_toFieldTransform(e){return new TM(e.path,new Gh)}isEqual(e){return e instanceof Av}}function PO(t,e,n,i){const a=t.Cc(1,e,n);Nv("Data must be an object, but it was:",a,i);const c=[],h=Ii.empty();Fo(i,((g,x)=>{const _=Cv(e,g,n);x=bn(x);const T=a.yc(_);if(x instanceof tp)c.push(_);else{const A=fd(x,T);A!=null&&(c.push(_),h.set(_,A))}}));const m=new ns(c);return new gA(h,m,a.fieldTransforms)}function IO(t,e,n,i,a,c){const h=t.Cc(1,e,n),m=[r0(e,i,n)],g=[a];if(c.length%2!=0)throw new Ce(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(r0(e,c[A])),g.push(c[A+1]);const x=[],_=Ii.empty();for(let A=m.length-1;A>=0;--A)if(!bA(x,m[A])){const I=m[A];let P=g[A];P=bn(P);const B=h.yc(I);if(P instanceof tp)x.push(I);else{const V=fd(P,B);V!=null&&(x.push(I),_.set(I,V))}}const T=new ns(x);return new gA(_,T,h.fieldTransforms)}function DO(t,e,n,i=!1){return fd(n,t.Cc(i?4:3,e))}function fd(t,e){if(_A(t=bn(t)))return Nv("Unsupported field value:",e,t),xA(t,e);if(t instanceof Jm)return(function(i,a){if(!yA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const c=[];let h=0;for(const m of i){let g=fd(m,a.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(t,e)}return(function(i,a){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _M(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=ot.fromDate(i);return{timestampValue:wm(a.serializer,c)}}if(i instanceof ot){const c=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wm(a.serializer,c)}}if(i instanceof jr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof As)return{bytesValue:L2(a.serializer,i._byteString)};if(i instanceof an){const c=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:uv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Pr)return(function(h,m){return{mapValue:{fields:{[c2]:{stringValue:u2},[xm]:{arrayValue:{values:h.toArray().map((x=>{if(typeof x!="number")throw m.Sc("VectorValues must only contain numeric values.");return av(m.serializer,x)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Um(i)}`)})(t,e)}function xA(t,e){const n={};return i2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,((i,a)=>{const c=fd(a,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function _A(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof jr||t instanceof As||t instanceof an||t instanceof Jm||t instanceof Pr)}function Nv(t,e,n){if(!_A(n)||!t2(n)){const i=Um(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function r0(t,e,n){if((e=bn(e))instanceof Xm)return e._internalPath;if(typeof e=="string")return Cv(t,e);throw Am("Field path arguments must be of type string or ",t,!1,void 0,n)}const LO=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(LO)>=0)throw Am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xm(...e.split("."))._internalPath}catch{throw Am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Am(t,e,n,i,a){const c=i&&!i.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${a}`),g+=")"),new Ce(ge.INVALID_ARGUMENT,m+t+g)}function bA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,i,a,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MO extends wA{data(){return super.data()}}function np(t,e){return typeof e=="string"?Cv(t,e):e instanceof Xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class TA extends Rv{}function Mr(t,e,...n){let i=[];e instanceof Rv&&i.push(e),i=i.concat(n),(function(c){const h=c.filter((g=>g instanceof jv)).length,m=c.filter((g=>g instanceof ip)).length;if(h>1||h>0&&m>0)throw new Ce(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class ip extends TA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ip(e,n,i)}_apply(e){const n=this._parse(e);return EA(e._query,n),new Hl(e.firestore,e.converter,Ky(e._query,n))}_parse(e){const n=ep(e.firestore);return(function(c,h,m,g,x,_,T){let A;if(x.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){eT(T,_);const P=[];for(const B of T)P.push(J1(g,c,B));A={arrayValue:{values:P}}}else A=J1(g,c,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||eT(T,_),A=DO(m,h,T,_==="in"||_==="not-in");return hn.create(x,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iu(t,e,n){const i=e,a=np("where",t);return ip._create(a,i,n)}class jv extends Rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let h=a;const m=c.getFlattenedFilters();for(const g of m)EA(h,g),h=Ky(h,g)})(e._query,n),new Hl(e.firestore,e.converter,Ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends TA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pv(e,n)}_apply(e){const n=(function(a,c,h){if(a.startAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qh(c,h)})(e._query,this._field,this._direction);return new Hl(e.firestore,e.converter,(function(a,c){const h=a.explicitOrderBy.concat([c]);return new pu(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function md(t,e="asc"){const n=e,i=np("orderBy",t);return Pv._create(i,n)}function J1(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v2(e)&&n.indexOf("/")!==-1)throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(It.fromString(n));if(!Ve.isDocumentKey(i))throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return g1(t,new Ve(i))}if(n instanceof an)return g1(t,n._key);throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Um(n)}.`)}function eT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EA(t,e){const n=(function(a,c){for(const h of a)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OO{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Fo(e,((a,c)=>{i[a]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[xm].arrayValue?.values?.map((i=>rn(i.doubleValue)));return new Pr(n)}convertGeoPoint(e){return new jr(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=It.fromString(e);wt(B2(i),9688,{name:e});const a=new Fh(i.get(1),i.get(3)),c=new Ve(i.popFirst(5));return a.isEqual(n)||wa(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rl extends wA{constructor(e,n,i,a,c,h){super(e,n,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(np("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rl._jsonSchema={type:dn("string",Rl._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Xf extends Rl{data(e={}){return super.data(e)}}class Wc{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new wh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Xf(this._firestore,this._userDataWriter,i.key,i,new wh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const g=new Xf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new wh(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Xf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new wh(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let x=-1,_=-1;return m.type!==0&&(x=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:VO(m.type),doc:g,oldIndex:x,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){t=tr(t,an);const e=tr(t.firestore,ql);return EO(Ev(e),t._key).then((n=>BO(e,t,n)))}Wc._jsonSchemaVersion="firestore/querySnapshot/1.0",Wc._jsonSchema={type:dn("string",Wc._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class AA extends OO{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function is(t){t=tr(t,Hl);const e=tr(t.firestore,ql),n=Ev(e),i=new AA(e);return kO(t._query),SO(n,t._query).then((a=>new Wc(e,i,t,a)))}function tT(t,e,n){t=tr(t,an);const i=tr(t.firestore,ql),a=SA(t.converter,e);return sp(i,[vA(ep(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Cs.none())])}function fa(t,e,n,...i){t=tr(t,an);const a=tr(t.firestore,ql),c=ep(a);let h;return h=typeof(e=bn(e))=="string"||e instanceof Xm?IO(c,"updateDoc",t._key,e,n,i):PO(c,"updateDoc",t._key,e),sp(a,[h.toMutation(t._key,Cs.exists(!0))])}function UO(t){return sp(tr(t.firestore,ql),[new ov(t._key,Cs.none())])}function Ph(t,e){const n=tr(t.firestore,ql),i=Mn(t),a=SA(t.converter,e);return sp(n,[vA(ep(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Cs.exists(!1))]).then((()=>i))}function sp(t,e){return(function(i,a){const c=new va;return i.asyncQueue.enqueueAndForget((async()=>dO(await TO(i),a,c))),c.promise})(Ev(t),e)}function BO(t,e,n){const i=n.docs.get(e._key),a=new AA(t);return new Rl(t,a,e._key,i,new wh(n.hasPendingWrites,n.fromCache),e.converter)}function Jf(){return new Av("serverTimestamp")}(function(e,n=!0){(function(a){du=a})(uu),$c(new Ll("firestore",((i,{instanceIdentifier:a,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new ql(new IL(i.getProvider("auth-internal")),new ML(h,i.getProvider("app-check-internal")),(function(x,_){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Ce(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(x.options.projectId,_)})(h,a),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),jo(i1,s1,e),jo(i1,s1,"esm2020")})();const zO={apiKey:"AIzaSyD106Y2G0g9sVQBjjmXXRicLaQpSGIGA_Q",authDomain:"fruitbunch-f1f23.firebaseapp.com",projectId:"fruitbunch-f1f23",storageBucket:"fruitbunch-f1f23.firebasestorage.app",messagingSenderId:"794545150234",appId:"1:794545150234:web:69f9820a661e0750ce34a3",measurementId:"G-JNY3T9LHLW"},NA=aS(zO),yu=GS(NA),xt=pA(NA),FO=({children:t})=>{const e=ki(),[n,i]=U.useState(null),[a,c]=U.useState(!0);return U.useEffect(()=>{const h=LS(yu,m=>{i(m),c(!1)});return()=>h()},[]),a?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n?t:u.jsx(V0,{to:"/login",state:{from:e},replace:!0})},HO=({children:t})=>{const[e,n]=U.useState(null),[i,a]=U.useState(!0);return U.useEffect(()=>{const c=LS(yu,async h=>{if(!h){n(!1),localStorage.setItem("isAdmin",JSON.stringify(!1)),a(!1);return}const m=Mn(xt,"admins",h.uid),x=(await Xs(m)).exists();n(x),localStorage.setItem("isAdmin",JSON.stringify(x)),a(!1)});return()=>c()},[]),i?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e?t:u.jsx(V0,{to:"/",replace:!0})},CA=U.createContext(),qO=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):{items:[],total:0}},GO=(t,e)=>{switch(e.type){case"ADD_TO_CART":const n=t.items.findIndex(h=>h.id===e.payload.id);if(n>=0){const h=[...t.items];return h[n].quantity+=1,{...t,items:h,total:t.total+e.payload.price}}return{...t,items:[...t.items,{...e.payload,quantity:1}],total:t.total+e.payload.price};case"REMOVE_FROM_CART":const i=t.items.find(h=>h.id===e.payload);return{...t,items:t.items.filter(h=>h.id!==e.payload),total:t.total-i.price*i.quantity};case"UPDATE_QUANTITY":const a=t.items.map(h=>h.id===e.payload.id?(e.payload.quantity-h.quantity,{...h,quantity:e.payload.quantity}):h),c=a.reduce((h,m)=>h+m.price*m.quantity,0);return{...t,items:a,total:c};case"CLEAR_CART":return{items:[],total:0};default:return t}},ZO=({children:t})=>{const[e,n]=U.useReducer(GO,void 0,qO);U.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=m=>{n({type:"ADD_TO_CART",payload:m})},a=m=>{n({type:"REMOVE_FROM_CART",payload:m})},c=(m,g)=>{if(g<=0){a(m);return}n({type:"UPDATE_QUANTITY",payload:{id:m,quantity:g}})},h=()=>{n({type:"CLEAR_CART"})};return u.jsx(CA.Provider,{value:{cartItems:e.items,cartTotal:e.total,addToCart:i,removeFromCart:a,updateQuantity:c,clearCart:h},children:t})},rp=()=>{const t=U.useContext(CA);if(!t)throw new Error("useCart must be used within a CartProvider");return t},WO="/assets/mainlogo-DCHUEAV1.png",KO=()=>{const[t,e]=U.useState(!1),{cartItems:n}=rp(),[i,a]=U.useState(null),[c,h]=U.useState(!1);U.useEffect(()=>{const g=localStorage.getItem("user");g&&a(JSON.parse(g));const x=localStorage.getItem("isAdmin");x&&h(JSON.parse(x))},[]);const m=g=>`https://ui-avatars.com/api/?background=43A047&size=130&color=FFF&font-size=0.60&name=${g.charAt(0).toUpperCase()}`;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-green-800 text-white text-xs lg:text-md py-2",children:u.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center",children:[u.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 mb-2 md:mb-0",children:[u.jsxs("span",{className:"flex items-center",children:[u.jsx("i",{className:"fa-solid fa-envelope mr-2"})," fruitbunch.tvm@gmail.com"]}),u.jsxs("span",{className:"flex items-center hidden md:block",children:[u.jsx("i",{className:"fa-solid fa-clock mr-2"})," MON-SAT: 7.30am - 6.00pm"]}),u.jsxs("span",{className:"flex items-center",children:[u.jsx("i",{className:"fa-solid fa-phone mr-2"})," +91 8807239379"]})]}),u.jsxs("div",{className:"flex space-x-4 hidden md:block",children:[u.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:u.jsx("i",{className:"fa-brands fa-instagram"})}),u.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:u.jsx("i",{className:"fa-brands fa-whatsapp"})})]})]})}),u.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-[9999]",children:[u.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[u.jsx(Ye,{to:"/",className:"flex items-center",children:u.jsx("img",{src:WO,alt:"Fruit Bunch",className:"h-14"})}),u.jsxs("div",{className:"hidden md:flex items-center space-x-5 lg:space-x-8 text-sm lg:text-md",children:[u.jsx(gh,{to:"/",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Home"}),u.jsx(gh,{to:"/subscription",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Fruit Bowl Subscription"}),u.jsx(gh,{to:"/corporate",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Corporate Orders"}),u.jsx(gh,{to:"/about",className:({isActive:g})=>`font-medium transition ${g?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"About Us"}),u.jsx("div",{className:"flex items-center space-x-4",children:i?u.jsxs(u.Fragment,{children:[c&&u.jsx(Ye,{to:"/admin",className:"bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition",children:"Admin Dashboard"}),u.jsxs(Ye,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition flex items-center",children:[u.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&u.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),u.jsx(Ye,{to:"/profile",className:"flex items-center",children:u.jsx("img",{src:m(i.name||"U"),alt:"User Avatar",className:"w-10 h-10 rounded-full"})})]}):u.jsx(Ye,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",children:"Login"})})]}),u.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:()=>e(!t),children:u.jsx("i",{className:`fa-solid ${t?"fa-xmark":"fa-bars"} text-xl`})})]}),t&&u.jsx("div",{className:"md:hidden bg-white px-4 pb-4",children:u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsx(Ye,{to:"/",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Home"}),u.jsx(Ye,{to:"/subscription",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Fruit Bowl Subscription"}),u.jsx(Ye,{to:"/corporate",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Corporate Orders"}),u.jsx(Ye,{to:"/about",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"About Us"}),u.jsx("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:i?u.jsxs(u.Fragment,{children:[c&&u.jsx(Ye,{to:"/admin",onClick:()=>e(!1),className:"bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition",children:"Admin Dashboard"}),u.jsxs(Ye,{to:"/cart",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[u.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&u.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),u.jsxs(Ye,{to:"/profile",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[u.jsx("i",{className:"fa-solid fa-user mr-2"})," Profile"]})]}):u.jsx(Ye,{to:"/login",onClick:()=>e(!1),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-center transition",children:"Login"})})]})})]})]})},$O=()=>u.jsx("footer",{className:"bg-green-900 text-white py-12 px-5 md:px-10 text-xs sm:px-10 lg:text-sm",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"quicklink",children:[u.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Quick Links"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(Ye,{to:"/",className:"hover:text-green-300 transition",children:"Home"}),u.jsx(Ye,{to:"/subscription",className:"hover:text-green-300 transition",children:"Fruit Bowl Subscription"}),u.jsx(Ye,{to:"/corporate",className:"hover:text-green-300 transition",children:"Corporate Orders"}),u.jsx(Ye,{to:"/about",className:"hover:text-green-300 transition",children:"About Us"}),u.jsx(Ye,{to:"/termsandconditions",className:"hover:text-green-300 transition",children:"Terms and Conditions"}),u.jsx(Ye,{to:"/privacypolicy",className:"hover:text-green-300 transition",children:"Privacy Policy"})]})]}),u.jsxs("div",{className:"footabout",children:[u.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Subscription Services"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx("p",{children:"Fruit Bowl"}),u.jsx("p",{children:"Diet Platter"}),u.jsx("p",{children:"Salad Bowls"}),u.jsx("p",{children:"Fresh Juice"})]}),u.jsx("div",{className:"mt-4",children:u.jsx("b",{className:"text-green-300",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"})})]}),u.jsxs("div",{className:"contact",children:[u.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Contact Us"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("i",{className:"fa-solid fa-phone w-5 mr-2"}),u.jsx("a",{href:"tel:+918807239379",className:"hover:underline",children:"+91 8807239379"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("i",{className:"fa-solid fa-envelope w-5 mr-2"}),u.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"hover:underline",children:"fruitbunch.tvm@gmail.com"})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("i",{className:"fa-solid fa-location-dot w-5 mr-2 mt-1"}),u.jsxs("span",{children:["No:59, Sarathambal nagar,",u.jsx("br",{})," Tiruvannamalai,",u.jsx("br",{})," Tamil Nadu 606601"]})]})]})]})]}),u.jsx("div",{className:"border-t border-green-800 mt-8 pt-8 text-center",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Fruit Bunch. All rights reserved."]})})]})}),YO="/assets/home-1-DzAgSFnE.png",QO="/assets/home-2-D3iDtu3z.png",XO="/assets/backbowl1-CMZS9lr5.png",JO="/assets/sixfruit-n1UQudVg.jpg",e3="/assets/Balanceddietplan-BoRm3I1K.jpg",t3=()=>{const[t,e]=U.useState(0),n=[QO,YO,XO];return U.useEffect(()=>{const i=setInterval(()=>{e(a=>(a+1)%n.length)},4e3);return()=>clearInterval(i)},[]),U.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]),u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("section",{className:"bg-gradient-to-r from-green-50 to-green-100 py-12 px-5 md:py-20 md:px-10 relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center relative z-10",children:[u.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 mr-4",children:[u.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-gray-800 mb-6","data-aos":"fade-up",children:"Fresh Fruit. No Fuss. Just Bunches of Goodness."}),u.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-8","data-aos":"fade-up","data-aos-delay":"200",children:"Fruit Bunch delivers clean, ready-to-eat fruit bowls straight to your doorstep. It's the simple, tasty, and healthy choiceevery single day. Subscribe now and stay fresh, always."}),u.jsx(Ye,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1","data-aos":"zoom-in","data-aos-delay":"400",children:"Enjoy fresh cut fruit daily"})]}),u.jsx("div",{className:"w-full md:w-1/2 flex justify-center",children:u.jsxs("div",{className:"relative w-full max-w-md h-[200px] md:h-[280px] lg:h-[400px] overflow-hidden rounded-lg shadow-xl","data-aos":"fade-left","data-aos-delay":"300",children:[n.map((i,a)=>u.jsx("img",{src:i,alt:"Fresh fruits",className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${t===a?"opacity-100":"opacity-0"}`},a)),u.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-md text-sm sm:text-base animate-bounce",children:u.jsx("span",{className:"text-green-600 font-bold",children:" Fresh!"})})]})})]})}),u.jsx("section",{className:"py-16 px-5 bg-white",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:px-10",children:[u.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right","data-aos-delay":"200",children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:JO,alt:"Variety of fruits",className:"w-full max-w-md rounded-lg shadow-md mx-auto transform transition-transform duration-700 hover:scale-105"}),u.jsx("div",{className:"absolute -bottom-4 -left-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm sm:text-base",children:u.jsx("span",{className:"font-bold",children:"6 Fruits Daily!"})})]})}),u.jsx("div",{className:"md:w-1/2 md:pl-12",children:u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{title:"Tropical Refresh: Summer Care Fruit Pack",desc:"Cool down with this hydrating mix of nature's most refreshing fruits, perfect for beating the summer heat.",icon:""},{title:"Shield Boost: Immuno Care Fruit Pack",desc:"Strengthen your body's natural defenses with this immunity-boosting blend, rich in vitamin C and antioxidants.",icon:""},{title:"Nurture Nest: Mother Care Fresh Fruit Pack",desc:"Carefully selected to support maternal health, rich in iron, folate, and essential nutrients.",icon:""},{title:"Glow Mix: Skin & Hair Care Pack",desc:"Let your beauty shine from within with this antioxidant-rich blend for clear skin and healthy hair.",icon:""}].map((i,a)=>u.jsxs("div",{className:"bg-green-50 p-6 rounded-lg transition-all duration-300 hover:shadow-lg hover:bg-green-100 transform hover:-translate-y-1","data-aos":"fade-up","data-aos-delay":a*200,children:[u.jsx("div",{className:"flex items-center mb-3",children:u.jsx("h3",{className:"font-bold text-sm lg:text-xl text-green-800",children:i.title})}),u.jsx("p",{className:"text-xs lg:text-lg text-gray-600",children:i.desc})]},a))})})]})})}),u.jsx("section",{className:"py-16 px-5 md:px-10 bg-green-50 relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Best Seller"}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl","data-aos":"zoom-in",children:[u.jsxs("div",{className:"md:w-1/2 p-6 sm:p-8",children:[u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-4","data-aos":"fade-right",children:"6 Days Six Different Variety of Diet Platter"}),u.jsx("ul",{className:"space-y-3 mb-6",children:["Amla 5pcs. Steamed broccoli 150gm Corn+Carrot & Cucumber, Sprouts, Dates + Nuts.","Papaya, Pineapple, Steamed Zucchini 150g + Green Peas (Bell Pepper Onion +Tomato + Sweet corn), Salad Sprouts, Nuts + Seeds.","Dragon fruit Apple, Steamed cabbage & beans 150g + Black eyed bean + Beetroot + Carrot, Sprouts Dates Seeds."].map((i,a)=>u.jsxs("li",{className:"flex items-start transition-transform duration-300 hover:translate-x-2","data-aos":"fade-up","data-aos-delay":a*150,children:[u.jsx("span",{className:"text-green-500 mr-2",children:""}),u.jsx("span",{className:"text-sm lg:text-lg",children:i})]},a))}),u.jsx(Ye,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 md:px-4 md:py-2 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in",children:"View All Plans"})]}),u.jsx("div",{className:"md:w-1/2","data-aos":"fade-left","data-aos-delay":"200",children:u.jsxs("div",{className:"bg-green-100 p-8 text-center h-full flex flex-col justify-center",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:e3,alt:"Balanced Diet Platter",className:"w-full max-w-sm mx-auto rounded-lg mb-4 transform transition-transform duration-700 hover:scale-105"}),u.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular!"})]}),u.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"BALANCED DIET PLATTER"}),u.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-2",children:"3,499/- per month"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Free delivery"}),u.jsx("div",{className:"flex justify-center items-center text-yellow-400 mb-4",children:[...Array(5)].map((i,a)=>u.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},a))}),u.jsx(Ye,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in","data-aos-delay":"200",children:"Subscribe Now"})]})})]})]})})]})},n3="/assets/BasicPlanImage-BMqsYUJx.jpeg",i3="/assets/premiumplan-DguOflsV.jpg",s3="/assets/fruit-7-B0YHmhe4.jpg",r3="/assets/BalancedDiet-DpC7SgYG.png",a3="/assets/saladbowl-HCR6yqa1.jpg",o3="/assets/kidsplan-BmS3QCpZ.jpg",l3="/assets/freshjuice-DH0t0v_N.jpg",c3="/assets/butter-DYvvPtp9.jpg",u3="/assets/yogurt-B2y-BBUE.jpg",h3=()=>{const{addToCart:t,cartItems:e}=rp(),[n,i]=U.useState({}),a=Aa(),c=T=>{i(A=>({...A,[T]:!A[T]}))};U.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]);const h=[{id:1,name:"Basic plan",price:2499,image:n3,description:"Apple, Orange, Papaya, Pineapple",moreInfo:"Grapes, Guava, Water melon, Fig, Pears, chikku",type:"plan"},{id:2,name:"Premium plan",price:2999,image:i3,description:"Apple, Orange, Dragon fruits, Pineapple",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"},{id:3,name:"Diabetic plan",price:2499,image:s3,description:"Amla, Guava, Kiwi, Fig",moreInfo:"Grapes, Pineapple, Kiwi, Orange",type:"plan"},{id:4,name:"Balanced Diet platter",price:3499,image:r3,description:"2 Fruit, 2 Vegetables, Dry Fruit",moreInfo:"Nuts, Sprouts, Steamed Vegetables",type:"plan"},{id:5,name:"Salad Bowl",price:2499,image:a3,description:"Nutrients, Quality Proteins, Good fat",moreInfo:"Healthy, Probiotic, Whole carb, antioxidants",type:"plan"},{id:6,name:"Kids fruit bowl",price:1199,image:o3,description:"Corn, Cucumber, Nuts",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"}],m=[{id:7,name:"Fresh Juice",price:699,image:l3,type:"drink"},{id:8,name:"Butter milk",price:599,image:c3,type:"drink"},{id:9,name:"Greek Yogurt",price:40,image:u3,type:"drink",isDaily:!0}],g=e.some(T=>T.type==="plan"),x=T=>{if(T.type==="drink"&&!g){alert("Please subscribe to a plan before adding drinks!");return}let A={...T};T.isDaily&&(A={...T,price:T.price*26,days:26,note:`${T.price} per day  26 days`}),t(A),a("/cart")},_=T=>{if(T.type==="drink"&&!g){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/checkout")};return u.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[u.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),u.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Choose Your Subscription"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:h.map(T=>u.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[u.jsx("img",{src:T.image,alt:T.name,className:"w-full h-64 object-cover"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),u.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:["",T.price,"/- per month"]}),u.jsxs("p",{className:"text-gray-600 mb-3 text-sm",children:[T.description.length>20?T.description.slice(0,20)+"...":T.description,u.jsx("button",{onClick:()=>c(T.id),className:"ml-2 text-green-600 hover:text-green-800 font-semibold",children:n[T.id]?"Less":"More"})]}),n[T.id]&&u.jsx("p",{className:"text-gray-600 mb-4",children:T.moreInfo}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),u.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))}),u.jsxs("div",{className:"mb-16",children:[u.jsx("div",{className:"absolute -top-200 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-640 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-8","data-aos":"fade-up",children:"Add On Drinks"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:m.map(T=>u.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[u.jsx("img",{src:T.image,alt:T.name,className:"w-full h-64 object-cover"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),u.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-green-600 mb-4",children:["",T.price,"/- ",T.isDaily?"per day":"per month"]}),u.jsxs("div",{className:"flex lg:space-x-3 md:flex-col lg:flex-row gap-3",children:[u.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),u.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))})]})]})},d3="/assets/bulk1-CEBMS9Ua.jpeg",f3="/assets/bulk2-Dqc0Jvw1.jpeg",m3="/assets/bulk3-Dj3Rrqm9.jpeg",p3="/assets/classic-DvKZgF9f.jpg",g3="/assets/grand-eXKvRwlG.jpg",y3="/assets/royal-DTIH-kix.jpg",v3=()=>{Aa();const[t,e]=U.useState({name:"",email:"",phone:"",message:""}),[n,i]=U.useState({name:"",email:"",phone:"",message:""}),[a,c]=U.useState(0),h=[d3,f3,m3];U.useEffect(()=>{const T=setInterval(()=>{c(A=>(A+1)%h.length)},4e3);return()=>clearInterval(T)},[]);const m=T=>{const{name:A,value:I}=T.target;e({...t,[A]:I}),n[A]&&i({...n,[A]:""})},g=()=>{let T=!0;const A={...n};return t.name.trim()||(A.name="Name is required",T=!1),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(A.email="Email is invalid",T=!1):(A.email="Email is required",T=!1),t.phone.trim()||(A.phone="Phone number is required",T=!1),t.message.trim()||(A.message="Message is required",T=!1),i(A),T},x=async T=>{if(T.preventDefault(),g())try{await Ph(kn(xt,"corporateQuotes"),{...t,createdAt:ot.now()}),alert("Thank you! Your request has been submitted. Our team will contact you soon."),e({name:"",email:"",phone:"",message:""})}catch(A){console.error(A),alert("Something went wrong. Please try again.")}},_=()=>{const T="918807239379",I=encodeURIComponent("I'm interested in corporate orders for Fruit Bunch"),P=`https://wa.me/${T}?text=${I}`;window.open(P,"_blank")};return u.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[u.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute top-[750px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-[1400px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute top-[2100px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-[2100px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsxs("section",{className:"flex flex-col lg:flex-row items-center mb-20 gap-10",children:[u.jsx("div",{className:"lg:w-1/2",children:u.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow transform transition-all duration-500 hover:shadow-xl w-full max-w-xl aspect-[4/4]",children:[h.map((T,A)=>u.jsx("img",{src:T,alt:"Corporate Orders",className:`absolute inset-0 w-full h-full object-cover rounded-2xl transition-opacity duration-1000 ease-in-out ${a===A?"opacity-100":"opacity-0"}`},A)),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-2xl"})]})}),u.jsxs("div",{className:"lg:w-1/2",children:[u.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:["Elevate Workplace Wellness with"," ",u.jsx("span",{className:"text-green-600",children:"Fresh Fruit Delivery"})]}),u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-start",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Combat afternoon slumps with natural energy boosts"})]}),u.jsxs("div",{className:"flex items-center justify-start",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Reduce sick days with immune-boosting nutrition"})]}),u.jsxs("div",{className:"flex items-center justify-start",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Increase productivity with healthier, happier teams"})]})]}),u.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-2xl border-l-4 border-green-500",children:[u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-green-800 mb-2",children:"Ready to transform your workplace?"}),u.jsx("p",{className:"text-lg lg:text-xl font-medium text-gray-700",children:"Call us: +918807239379"})]}),u.jsxs("button",{onClick:_,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md transform hover:-translate-y-1 flex items-center justify-center",children:[u.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})}),"Message us on WhatsApp"]})]})]}),u.jsxs("section",{className:"mb-20",children:[u.jsxs("div",{className:"text-center mb-14",children:[u.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-4",children:"Marriage & Event Fruit Packages"}),u.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto",children:"Bulk fruit arrangements crafted for weddings, receptions, and special gatherings"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[u.jsxs("div",{className:"relative overflow-hidden h-64",children:[u.jsx("img",{src:p3,alt:"Basic Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),u.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white py-1 px-3 rounded-full text-sm font-semibold",children:"Popular Choice"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Classic Celebration"}),u.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Ideal for small gatherings, engagement parties, and family functions"}),u.jsxs("ul",{className:"space-y-2 mb-6",children:[u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"34 seasonal fruit varieties"})]}),u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Bulk packaging for easy serving"})]}),u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Same-day delivery available"})]})]}),u.jsx("button",{onClick:()=>{const T=document.getElementById("contact");T&&T.scrollIntoView({behavior:"smooth"})},className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"Get Quote"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[u.jsx("div",{className:"relative overflow-hidden h-64",children:u.jsx("img",{src:g3,alt:"Premium Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Grand Wedding Feast"}),u.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Perfect for medium to large weddings and receptions"}),u.jsxs("ul",{className:"space-y-2 mb-6",children:[u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"7+ premium fruit varieties"})]}),u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Beautifully decorated fruit platters"})]}),u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Organic & premium quality options"})]})]}),u.jsx("button",{onClick:()=>{const T=document.getElementById("contact");T&&T.scrollIntoView({behavior:"smooth"})},className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300",children:"Get Quote"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[u.jsx("div",{className:"relative overflow-hidden h-64",children:u.jsx("img",{src:y3,alt:"Diet Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Royal Celebration"}),u.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Luxury fruit spreads tailored for grand weddings & VIP functions"}),u.jsxs("ul",{className:"space-y-2 mb-6",children:[u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Customized exotic fruit selection"})]}),u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Live fruit carving & display setups"})]}),u.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[u.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"On-site serving staff available"})]})]}),u.jsx("button",{onClick:()=>{const T=document.getElementById("contact");T&&T.scrollIntoView({behavior:"smooth"})},className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"Get Quote"})]})]})]})]}),u.jsx("section",{className:"mb-20 bg-gradient-to-r from-green-50 to-emerald-50 py-14 px-4 rounded-3xl",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Companies Choose Us"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"92%"}),u.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Employee satisfaction"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"350+"}),u.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Corporate clients"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"10h"}),u.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Delivery time"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),u.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Organic guarantee"})]})]})]})}),u.jsx("section",{className:"bg-white rounded-3xl p-8 shadow-lg",id:"contact",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Get Your Event Quote"}),u.jsx("p",{className:"text-xl text-gray-600",children:"Share details about your wedding, reception, or bulk event order and well prepare a tailored package for you"})]}),u.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:t.name,onChange:m,className:`w-full px-5 py-4 border ${n.name?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.name&&u.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.name})]}),u.jsxs("div",{children:[u.jsx("input",{type:"email",name:"email",placeholder:"Email",value:t.email,onChange:m,className:`w-full px-5 py-4 border ${n.email?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.email&&u.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.email})]})]}),u.jsxs("div",{children:[u.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:t.phone,onChange:m,className:`w-full px-5 py-4 border ${n.phone?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.phone&&u.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.phone})]}),u.jsxs("div",{children:[u.jsx("textarea",{name:"message",placeholder:"Tell us about your function size and fruit preferences...",rows:"5",value:t.message,onChange:m,className:`w-full px-5 py-4 border ${n.message?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.message&&u.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.message})]}),u.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md",children:"Request Custom Proposal"})]})]})})]})},x3="/assets/about-3-DaCk93dU.jpg",_3="/assets/aboutbackimgg-BkiEa4ds.jpg",b3=()=>u.jsxs("div",{className:"container mx-auto px-10 py-12",children:[u.jsxs("section",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 mb-20",children:[u.jsxs("div",{className:"lg:w-1/2 order-2 lg:order-1",children:[u.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["Nourishing Lives Through ",u.jsx("span",{className:"text-green-600",children:"Wholesome Eating"})]}),u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"At Fruit Bunch, we specialize in crafting healthy, ready-to-eat meals packed with essential nutrients to fuel your body and mind."}),u.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Our offerings include:"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[u.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("span",{className:"text-gray-700",children:"Fruit Bowls"})]}),u.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("span",{className:"text-gray-700",children:"Diet Platters"})]}),u.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("span",{className:"text-gray-700",children:"Salad Bowls"})]}),u.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[u.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:u.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("span",{className:"text-gray-700",children:"Fresh Juices"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border-l-4 border-green-500",children:[u.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Our Goal is Simple"}),u.jsx("p",{className:"text-lg text-gray-700",children:"To make healthy eating"}),u.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:"Easy, Affordable and Delicious!"})]})]}),u.jsx("div",{className:"lg:w-1/2 order-1 lg:order-2",children:u.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl w-full max-w-xl aspect-[4/4]",children:[u.jsx("img",{src:x3,alt:"About Fruit Bunch",className:"w-full h-full object-cover rounded-2xl transition-transform duration-700 hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})]}),u.jsx("section",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-3xl p-10 shadow-lg mb-20",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),u.jsx("div",{className:"text-2xl text-green-700 font-semibold mb-8",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"}),u.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[u.jsx("p",{children:"At Fruit Bunch, we believe in the transformative power of healthy eating. Our mission is to provide nutrient-rich, well-balanced meals that fuel your body and mind for optimal performance."}),u.jsx("p",{children:"We meticulously source the freshest ingredients and craft them into wholesome platters, salads, and drinks that cater to a healthy and active lifestyle. Each item on our menu is designed to deliver maximum nutritional value without compromising on taste."}),u.jsx("p",{children:"Whether you're looking for a balanced diet, nutritious salad bowl, or refreshing add-ons, our carefully curated menu ensures you get the perfect combination of taste, health, and convenience."})]})]})}),u.jsxs("section",{className:"mb-20",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-14",children:"What Drives Us"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[u.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:u.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0A1.5 1.5 0 013 15.546V5a2 2 0 012-2h14a2 2 0 012 2v10.546z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v4l2 2"})]})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quality & Freshness"}),u.jsx("p",{className:"text-gray-600",children:"We source only the freshest, highest-quality ingredients for all our products, ensuring maximum nutritional value and taste."})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[u.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Community Health"}),u.jsx("p",{className:"text-gray-600",children:"We're committed to improving community health by making nutritious eating accessible, affordable, and enjoyable for everyone."})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[u.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sustainability"}),u.jsx("p",{className:"text-gray-600",children:"We prioritize environmentally responsible practices, from sourcing to packaging, to minimize our ecological footprint."})]})]})]}),u.jsxs("section",{className:"mb-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Visit Us"}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Come experience the freshness at our location. We'd love to welcome you!"})]}),u.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3899.0586626904005!2d79.0956933!3d12.244307300000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bacc17e8a517c7f%3A0xc7eb43ae80e2cef2!2sFRUIT%20BUNCH!5e0!3m2!1sen!2sin!4v1758553288639!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",title:"Fruit Bunch Location",className:"rounded-2xl"})}),u.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Store Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsxs("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-700",children:"Address"}),u.jsx("p",{className:"text-gray-600",children:"No:59, sarathambal nagar, Tiruvannamalai, Tamil Nadu 606601"})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-700",children:"Opening Hours"}),u.jsx("p",{className:"text-gray-600",children:"Mon-Sat: 7:30 AM - 6:00 PM"})]})]})]})]})]}),u.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl mb-16",children:[u.jsx("img",{src:_3,alt:"Fresh fruits background",className:"w-full h-96 object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:u.jsxs("div",{className:"text-center p-6 max-w-3xl",children:[u.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Fresh. Healthy. Delivered."}),u.jsx("p",{className:"text-xl text-white mb-8 opacity-90",children:"Experience the difference that fresh, nutrient-packed meals can make in your life."}),u.jsx(Ye,{to:"/subscription",className:"bg-white text-green-700 font-semibold py-3 px-8 rounded-xl hover:bg-green-50 transition-colors duration-300 shadow-lg",children:"Explore Our Menu"})]})})]}),u.jsx("section",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Freshness Delivered To Your Door"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Enjoy seasonal fruits, health tips, and exclusive offers  straight from our farm to your family."}),u.jsx(Ye,{to:"/subscription",className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300 inline-block",children:"Start Your Subscription"})]})})]}),w3=()=>{const t=Aa(),n=ki().state?.from?.pathname||"/",[i,a]=U.useState({identifier:"",password:""}),[c,h]=U.useState(!1),[m,g]=U.useState(!1),[x,_]=U.useState(""),T=P=>{a({...i,[P.target.name]:P.target.value})},A=async P=>{P.preventDefault();try{h(!0),_("");let B=i.identifier;if(!i.identifier.includes("@")){const O=Mn(xt,"phoneToUid",i.identifier),j=await Xs(O);if(!j.exists())throw new Error("auth/phone-not-registered");const{uid:M}=j.data(),G=Mn(xt,"users",M),F=await Xs(G);if(!F.exists())throw new Error("auth/user-profile-missing");B=F.data().email}const K=(await h4(yu,B,i.password)).user,H=Mn(xt,"users",K.uid),$=await Xs(H),X=Mn(xt,"admins",K.uid),oe=(await Xs(X)).exists();if($.exists()){const O=$.data();localStorage.setItem("isAdmin",JSON.stringify(oe)),localStorage.setItem("user",JSON.stringify({uid:K.uid,email:O.email,name:O.name,phone:O.phone}))}else console.warn("No user profile found in Firestore!");h(!1),t(n,{replace:!0})}catch(B){console.error("Login error:",B);let V="Something went wrong. Please try again.";if(B.code)switch(B.code){case"auth/invalid-email":V="The email address is invalid.";break;case"auth/user-not-found":case"auth/phone-not-registered":V="No account found with this email or phone number.";break;case"auth/wrong-password":V="Incorrect password. Please try again.";break;case"auth/invalid-credential":V="Invalid login credentials. Please check and try again.";break;case"auth/too-many-requests":V="Too many failed attempts. Please wait a few minutes and try again.";break;case"auth/user-disabled":V="This account has been disabled. Contact support.";break;default:V="Unable to sign in. Please check your credentials.";break}else B.message==="auth/user-profile-missing"&&(V="User profile not found. Please contact support.");_(V),h(!1)}},I=()=>{g(!0),setTimeout(()=>{g(!1)},3e3)};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),u.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome back"}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",u.jsx(Ye,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"create a new account"})]})]}),x&&u.jsx("p",{className:"text-red-500 text-sm text-center",children:x}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[u.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"identifier",className:"sr-only",children:"Email address or Phone Number"}),u.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address or Phone Number",value:i.identifier,onChange:T})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:i.password,onChange:T}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:I,children:m?u.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"}):u.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150"}),u.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),u.jsx("div",{className:"text-sm",children:u.jsx(Ye,{to:"/forgot-password",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Forgot your password?"})})]}),u.jsx("div",{children:u.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:c,children:[c?u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,c?"Signing in...":"Sign in"]})})]})]})]})},T3=()=>{const t=Aa(),[e,n]=U.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[i,a]=U.useState(!1),[c,h]=U.useState(""),[m,g]=U.useState(!1),[x,_]=U.useState(!1),T=B=>{n({...e,[B.target.name]:B.target.value})},A=async B=>{if(B.preventDefault(),e.password!==e.confirmPassword){h("Passwords do not match!");return}try{a(!0),h("");let V=e.phone.replace(/\D/g,"");if(V.startsWith("91")&&V.length>10&&(V=V.slice(-10)),V.length!==10){h("Please enter a valid 10-digit phone number."),a(!1);return}const H=(await u4(yu,e.email,e.password)).user;await f4(H,{displayName:e.name}),await tT(Mn(xt,"users",H.uid),{uid:H.uid,name:e.name,email:e.email,phone:V,createdAt:Jf()}),await tT(Mn(xt,"phoneToUid",V),{uid:H.uid}),console.log("User created & saved:",H.uid),a(!1),t("/login")}catch(V){console.error("Signup error:",V.message),h(V.message),a(!1)}},I=()=>{g(!0),setTimeout(()=>{g(!1)},3e3)},P=()=>{_(!0),setTimeout(()=>{_(!1)},3e3)};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute -bottom-20 right-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),u.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),u.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Create your account"}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",u.jsx(Ye,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"sign in to your existing account"})]})]}),c&&u.jsx("p",{className:"text-red-500 text-sm mb-2",children:c}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[u.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),u.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Full Name",value:e.name,onChange:T}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:e.email,onChange:T}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),u.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Phone Number",value:e.phone,onChange:T}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:e.password,onChange:T}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:I,children:m?u.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):u.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Confirm Password",value:e.confirmPassword,onChange:T}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:P,children:x?u.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):u.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150",required:!0}),u.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",u.jsx(Ye,{to:"/termsandconditions",className:"text-green-600 hover:text-green-500 transition-colors duration-300",children:"Terms and Conditions"})]})]}),u.jsx("div",{children:u.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:i,children:[i?u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,i?"Creating account...":"Create Account"]})})]})]})]})},E3=()=>{const{cartItems:t,updateQuantity:e,removeFromCart:n,cartTotal:i,clearCart:a}=rp(),[c,h]=U.useState(!1),m=(_,T)=>{T<1||e(_,T)},g=_=>{n(_)},x=()=>{h(!0),setTimeout(()=>{h(!1)},1e3)};return t.length===0?u.jsx("div",{className:"container mx-auto px-4 py-12",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("div",{className:"text-6xl mb-6",children:""}),u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),u.jsx(Ye,{to:"/subscription",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Continue Shopping"})]})}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Your Cart"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:["Cart Items (",t.length,")"]}),u.jsx("div",{className:"space-y-6",children:t.map(_=>u.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-6",children:[u.jsx("img",{src:_.image,alt:_.name,className:"w-20 h-20 object-cover rounded-lg"}),u.jsxs("div",{className:"ml-4 flex-grow",children:[u.jsx("h3",{className:"font-medium text-gray-800 text-lg",children:_.name}),u.jsxs("p",{className:"text-green-600 font-bold",children:["",_.price]})]}),u.jsxs("div",{className:"flex items-center ml-4",children:[u.jsx("button",{onClick:()=>m(_.id,_.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l-md",children:"-"}),u.jsx("span",{className:"w-10 h-8 flex items-center justify-center bg-gray-50",children:_.quantity}),u.jsx("button",{onClick:()=>m(_.id,_.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-r-md",children:"+"})]}),u.jsx("div",{className:"ml-6 hidden md:block",children:u.jsxs("p",{className:"font-bold text-green-600",children:["",_.price*_.quantity]})}),u.jsx("button",{onClick:()=>g(_.id),className:"ml-6 text-red-500 hover:text-red-700 hidden md:block",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},_.id))}),u.jsxs("div",{className:"flex justify-between mt-8",children:[u.jsxs(Ye,{to:"/subscription",className:"flex items-center text-green-600 hover:text-green-800 font-medium",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),u.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-700 font-medium",children:"Clear Cart"})]})]})}),u.jsx("div",{children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),u.jsx("div",{className:"space-y-4",children:t.map(_=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{className:"text-gray-600",children:[_.name,"  ",_.quantity]}),u.jsxs("span",{className:"font-medium",children:["",_.price*_.quantity]})]},_.id))}),u.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["",i]})]}),u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("span",{children:"Delivery Fee"}),u.jsx("span",{className:"text-green-600",children:"Free"})]}),u.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["",i]})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx(Ye,{to:"/checkout",onClick:x,disabled:c,className:`w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center ${c?"opacity-75 cursor-not-allowed":""}`,children:c?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})})]})})]})]})};function RA(t,e){const n=U.useRef(e);U.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const S3=1;function A3(t){return Object.freeze({__version:S3,map:t})}function N3(t,e){return Object.freeze({...t,...e})}const Iv=U.createContext(null);function Dv(){const t=U.use(Iv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function C3(t){function e(n,i){const{instance:a,context:c}=t(n).current;U.useImperativeHandle(i,()=>a);const{children:h}=n;return h==null?null:Py.createElement(Iv,{value:c},h)}return U.forwardRef(e)}function R3(t){function e(n,i){const[a,c]=U.useState(!1),{instance:h}=t(n,c).current;U.useImperativeHandle(i,()=>h),U.useEffect(function(){a&&h.update()},[h,a,n.children]);const m=h._contentNode;return m?AP.createPortal(n.children,m):null}return U.forwardRef(e)}function j3(t){function e(n,i){const{instance:a}=t(n).current;return U.useImperativeHandle(i,()=>a),null}return U.forwardRef(e)}function jA(t,e){const n=U.useRef(void 0);U.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Lv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function P3(t,e){return function(i,a){const c=Dv(),h=t(Lv(i,c),c);return RA(c.map,i.attribution),jA(h.current,i.eventHandlers),e(h.current,c,i,a),h}}var Th={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var I3=Th.exports,nT;function D3(){return nT||(nT=1,(function(t,e){(function(n,i){i(e)})(I3,(function(n){var i="1.9.4";function a(o){var d,y,w,S;for(y=1,w=arguments.length;y<w;y++){S=arguments[y];for(d in S)o[d]=S[d]}return o}var c=Object.create||(function(){function o(){}return function(d){return o.prototype=d,new o}})();function h(o,d){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var w=y.call(arguments,2);return function(){return o.apply(d,w.length?w.concat(y.call(arguments)):arguments)}}var m=0;function g(o){return"_leaflet_id"in o||(o._leaflet_id=++m),o._leaflet_id}function x(o,d,y){var w,S,R,Z;return Z=function(){w=!1,S&&(R.apply(y,S),S=!1)},R=function(){w?S=arguments:(o.apply(y,arguments),setTimeout(Z,d),w=!0)},R}function _(o,d,y){var w=d[1],S=d[0],R=w-S;return o===w&&y?o:((o-S)%R+R)%R+S}function T(){return!1}function A(o,d){if(d===!1)return o;var y=Math.pow(10,d===void 0?6:d);return Math.round(o*y)/y}function I(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function P(o){return I(o).split(/\s+/)}function B(o,d){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var y in d)o.options[y]=d[y];return o.options}function V(o,d,y){var w=[];for(var S in o)w.push(encodeURIComponent(y?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!d||d.indexOf("?")===-1?"?":"&")+w.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function H(o,d){return o.replace(K,function(y,w){var S=d[w];if(S===void 0)throw new Error("No value provided for variable "+y);return typeof S=="function"&&(S=S(d)),S})}var $=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function X(o,d){for(var y=0;y<o.length;y++)if(o[y]===d)return y;return-1}var ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var O=0;function j(o){var d=+new Date,y=Math.max(0,16-(d-O));return O=d+y,window.setTimeout(o,y)}var M=window.requestAnimationFrame||oe("RequestAnimationFrame")||j,G=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function F(o,d,y){if(y&&M===j)o.call(d);else return M.call(window,h(o,d))}function Y(o){o&&G.call(window,o)}var q={__proto__:null,extend:a,create:c,bind:h,get lastId(){return m},stamp:g,throttle:x,wrapNum:_,falseFn:T,formatNum:A,trim:I,splitWords:P,setOptions:B,getParamString:V,template:H,isArray:$,indexOf:X,emptyImageUrl:ee,requestFn:M,cancelFn:G,requestAnimFrame:F,cancelAnimFrame:Y};function ke(){}ke.extend=function(o){var d=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=d.__super__=this.prototype,w=c(y);w.constructor=d,d.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(d[S]=this[S]);return o.statics&&a(d,o.statics),o.includes&&(Be(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=y.options?c(y.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,Z=w._initHooks.length;R<Z;R++)w._initHooks[R].call(this)}},d},ke.include=function(o){var d=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=d,this.mergeOptions(o.options)),this},ke.mergeOptions=function(o){return a(this.prototype.options,o),this},ke.addInitHook=function(o){var d=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function Be(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=$(o)?o:[o];for(var d=0;d<o.length;d++)o[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(o,d,y){if(typeof o=="object")for(var w in o)this._on(w,o[w],d);else{o=P(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],d,y)}return this},off:function(o,d,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],d);else{o=P(o);for(var S=arguments.length===1,R=0,Z=o.length;R<Z;R++)S?this._off(o[R]):this._off(o[R],d,y)}return this},_on:function(o,d,y,w){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(o,d,y)===!1){y===this&&(y=void 0);var S={fn:d,ctx:y};w&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,d,y){var w,S,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,R=w.length;S<R;S++)w[S].fn=T;delete this._events[o];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var Z=this._listens(o,d,y);if(Z!==!1){var te=w[Z];this._firingCount&&(te.fn=T,this._events[o]=w=w.slice()),w.splice(Z,1)}}},fire:function(o,d,y){if(!this.listens(o,y))return this;var w=a({},d,{type:o,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,Z=S.length;R<Z;R++){var te=S[R],de=te.fn;te.once&&this.off(o,de,te.ctx),de.call(te.ctx||this,w)}this._firingCount--}}return y&&this._propagateEvent(w),this},listens:function(o,d,y,w){typeof o!="string"&&console.warn('"string" type argument expected');var S=d;typeof d!="function"&&(w=!!d,S=void 0,y=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,S,y)!==!1)return!0;if(w){for(var Z in this._eventParents)if(this._eventParents[Z].listens(o,d,y,w))return!0}return!1},_listens:function(o,d,y){if(!this._events)return!1;var w=this._events[o]||[];if(!d)return!!w.length;y===this&&(y=void 0);for(var S=0,R=w.length;S<R;S++)if(w[S].fn===d&&w[S].ctx===y)return S;return!1},once:function(o,d,y){if(typeof o=="object")for(var w in o)this._on(w,o[w],d,!0);else{o=P(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],d,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[g(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[g(o)],this},_propagateEvent:function(o){for(var d in this._eventParents)this._eventParents[d].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var ye=ke.extend(ae);function re(o,d,y){this.x=y?Math.round(o):o,this.y=y?Math.round(d):d}var Ae=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(o){return this.clone()._add(z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new re(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new re(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(o){o=z(o);var d=o.x-this.x,y=o.y-this.y;return Math.sqrt(d*d+y*y)},equals:function(o){return o=z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function z(o,d,y){return o instanceof re?o:$(o)?new re(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new re(o.x,o.y):new re(o,d,y)}function ce(o,d){if(o)for(var y=d?[o,d]:o,w=0,S=y.length;w<S;w++)this.extend(y[w])}ce.prototype={extend:function(o){var d,y;if(!o)return this;if(o instanceof re||typeof o[0]=="number"||"x"in o)d=y=z(o);else if(o=_e(o),d=o.min,y=o.max,!d||!y)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=y.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var d,y;return typeof o[0]=="number"||o instanceof re?o=z(o):o=_e(o),o instanceof ce?(d=o.min,y=o.max):d=y=o,d.x>=this.min.x&&y.x<=this.max.x&&d.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=_e(o);var d=this.min,y=this.max,w=o.min,S=o.max,R=S.x>=d.x&&w.x<=y.x,Z=S.y>=d.y&&w.y<=y.y;return R&&Z},overlaps:function(o){o=_e(o);var d=this.min,y=this.max,w=o.min,S=o.max,R=S.x>d.x&&w.x<y.x,Z=S.y>d.y&&w.y<y.y;return R&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var d=this.min,y=this.max,w=Math.abs(d.x-y.x)*o,S=Math.abs(d.y-y.y)*o;return _e(z(d.x-w,d.y-S),z(y.x+w,y.y+S))},equals:function(o){return o?(o=_e(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function _e(o,d){return!o||o instanceof ce?o:new ce(o,d)}function we(o,d){if(o)for(var y=d?[o,d]:o,w=0,S=y.length;w<S;w++)this.extend(y[w])}we.prototype={extend:function(o){var d=this._southWest,y=this._northEast,w,S;if(o instanceof Re)w=o,S=o;else if(o instanceof we){if(w=o._southWest,S=o._northEast,!w||!S)return this}else return o?this.extend(Te(o)||Se(o)):this;return!d&&!y?(this._southWest=new Re(w.lat,w.lng),this._northEast=new Re(S.lat,S.lng)):(d.lat=Math.min(w.lat,d.lat),d.lng=Math.min(w.lng,d.lng),y.lat=Math.max(S.lat,y.lat),y.lng=Math.max(S.lng,y.lng)),this},pad:function(o){var d=this._southWest,y=this._northEast,w=Math.abs(d.lat-y.lat)*o,S=Math.abs(d.lng-y.lng)*o;return new we(new Re(d.lat-w,d.lng-S),new Re(y.lat+w,y.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=Te(o):o=Se(o);var d=this._southWest,y=this._northEast,w,S;return o instanceof we?(w=o.getSouthWest(),S=o.getNorthEast()):w=S=o,w.lat>=d.lat&&S.lat<=y.lat&&w.lng>=d.lng&&S.lng<=y.lng},intersects:function(o){o=Se(o);var d=this._southWest,y=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>=d.lat&&w.lat<=y.lat,Z=S.lng>=d.lng&&w.lng<=y.lng;return R&&Z},overlaps:function(o){o=Se(o);var d=this._southWest,y=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>d.lat&&w.lat<y.lat,Z=S.lng>d.lng&&w.lng<y.lng;return R&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,d){return o?(o=Se(o),this._southWest.equals(o.getSouthWest(),d)&&this._northEast.equals(o.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Se(o,d){return o instanceof we?o:new we(o,d)}function Re(o,d,y){if(isNaN(o)||isNaN(d))throw new Error("Invalid LatLng object: ("+o+", "+d+")");this.lat=+o,this.lng=+d,y!==void 0&&(this.alt=+y)}Re.prototype={equals:function(o,d){if(!o)return!1;o=Te(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(d===void 0?1e-9:d)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return qe.distance(this,Te(o))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(o){var d=180*o/40075017,y=d/Math.cos(Math.PI/180*this.lat);return Se([this.lat-d,this.lng-y],[this.lat+d,this.lng+y])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Te(o,d,y){return o instanceof Re?o:$(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):d===void 0?null:new Re(o,d,y)}var bt={latLngToPoint:function(o,d){var y=this.projection.project(o),w=this.scale(d);return this.transformation._transform(y,w)},pointToLatLng:function(o,d){var y=this.scale(d),w=this.transformation.untransform(o,y);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var d=this.projection.bounds,y=this.scale(o),w=this.transformation.transform(d.min,y),S=this.transformation.transform(d.max,y);return new ce(w,S)},infinite:!1,wrapLatLng:function(o){var d=this.wrapLng?_(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?_(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Re(y,d,w)},wrapLatLngBounds:function(o){var d=o.getCenter(),y=this.wrapLatLng(d),w=d.lat-y.lat,S=d.lng-y.lng;if(w===0&&S===0)return o;var R=o.getSouthWest(),Z=o.getNorthEast(),te=new Re(R.lat-w,R.lng-S),de=new Re(Z.lat-w,Z.lng-S);return new we(te,de)}},qe=a({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(o,d){var y=Math.PI/180,w=o.lat*y,S=d.lat*y,R=Math.sin((d.lat-o.lat)*y/2),Z=Math.sin((d.lng-o.lng)*y/2),te=R*R+Math.cos(w)*Math.cos(S)*Z*Z,de=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*de}}),fn=6378137,Is={R:fn,MAX_LATITUDE:85.0511287798,project:function(o){var d=Math.PI/180,y=this.MAX_LATITUDE,w=Math.max(Math.min(y,o.lat),-y),S=Math.sin(w*d);return new re(this.R*o.lng*d,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var d=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*d,o.x*d/this.R)},bounds:(function(){var o=fn*Math.PI;return new ce([-o,-o],[o,o])})()};function ar(o,d,y,w){if($(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=d,this._c=y,this._d=w}ar.prototype={transform:function(o,d){return this._transform(o.clone(),d)},_transform:function(o,d){return d=d||1,o.x=d*(this._a*o.x+this._b),o.y=d*(this._c*o.y+this._d),o},untransform:function(o,d){return d=d||1,new re((o.x/d-this._b)/this._a,(o.y/d-this._d)/this._c)}};function ss(o,d,y,w){return new ar(o,d,y,w)}var Ds=a({},qe,{code:"EPSG:3857",projection:Is,transformation:(function(){var o=.5/(Math.PI*Is.R);return ss(o,.5,-o,.5)})()}),Ra=a({},Ds,{code:"EPSG:900913"});function Gl(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ja(o,d){var y="",w,S,R,Z,te,de;for(w=0,R=o.length;w<R;w++){for(te=o[w],S=0,Z=te.length;S<Z;S++)de=te[S],y+=(S?"L":"M")+de.x+" "+de.y;y+=d?De.svg?"z":"x":""}return y||"M0 0"}var wn=document.documentElement.style,Or="ActiveXObject"in window,Jt=Or&&!document.addEventListener,en="msLaunchUri"in navigator&&!("documentMode"in document),Oi=Tn("webkit"),Zl=Tn("android"),Pa=Tn("android 2")||Tn("android 3"),Tu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vr=Zl&&Tn("Google")&&Tu<537&&!("AudioNode"in window),rs=!!window.opera,mn=!en&&Tn("chrome"),ni=Tn("gecko")&&!Oi&&!rs&&!Or,On=!mn&&Tn("safari"),Wl=Tn("phantom"),Go="OTransition"in wn,Kl=navigator.platform.indexOf("Win")===0,Vi=Or&&"transition"in wn,as="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pa,vi="MozPerspective"in wn,xi=!window.L_DISABLE_3D&&(Vi||as||vi)&&!Go&&!Wl,_i=typeof orientation<"u"||Tn("mobile"),Ia=_i&&Oi,Zo=_i&&as,Ls=!window.PointerEvent&&window.MSPointerEvent,Ur=!!(window.PointerEvent||Ls),Mt="ontouchstart"in window||!!window.TouchEvent,$l=!window.L_NO_TOUCH&&(Mt||Ur),or=_i&&rs,lr=_i&&ni,Wo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ko=(function(){var o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,d),window.removeEventListener("testPassiveEventSupport",T,d)}catch{}return o})(),Ms=(function(){return!!document.createElement("canvas").getContext})(),$o=!!(document.createElementNS&&Gl("svg").createSVGRect),os=!!$o&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),zt=!$o&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var d=o.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),pn=navigator.platform.indexOf("Mac")===0,ks=navigator.platform.indexOf("Linux")===0;function Tn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var De={ie:Or,ielt9:Jt,edge:en,webkit:Oi,android:Zl,android23:Pa,androidStock:Vr,opera:rs,chrome:mn,gecko:ni,safari:On,phantom:Wl,opera12:Go,win:Kl,ie3d:Vi,webkit3d:as,gecko3d:vi,any3d:xi,mobile:_i,mobileWebkit:Ia,mobileWebkit3d:Zo,msPointer:Ls,pointer:Ur,touch:$l,touchNative:Mt,mobileOpera:or,mobileGecko:lr,retina:Wo,passiveEvents:Ko,canvas:Ms,svg:$o,vml:zt,inlineSvg:os,mac:pn,linux:ks},Yl=De.msPointer?"MSPointerDown":"pointerdown",bi=De.msPointer?"MSPointerMove":"pointermove",Os=De.msPointer?"MSPointerUp":"pointerup",Br=De.msPointer?"MSPointerCancel":"pointercancel",wi={touchstart:Yl,touchmove:bi,touchend:Os,touchcancel:Br},Ui={touchstart:Da,touchmove:si,touchend:si,touchcancel:si},ii={},Vs=!1;function Ft(o,d,y){return d==="touchstart"&&Fr(),Ui[d]?(y=Ui[d].bind(this,y),o.addEventListener(wi[d],y,!1),y):(console.warn("wrong event specified:",d),T)}function Ql(o,d,y){if(!wi[d]){console.warn("wrong event specified:",d);return}o.removeEventListener(wi[d],y,!1)}function zr(o){ii[o.pointerId]=o}function ls(o){ii[o.pointerId]&&(ii[o.pointerId]=o)}function Bi(o){delete ii[o.pointerId]}function Fr(){Vs||(document.addEventListener(Yl,zr,!0),document.addEventListener(bi,ls,!0),document.addEventListener(Os,Bi,!0),document.addEventListener(Br,Bi,!0),Vs=!0)}function si(o,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var y in ii)d.touches.push(ii[y]);d.changedTouches=[d],o(d)}}function Da(o,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Lt(d),si(o,d)}function Eu(o){var d={},y,w;for(w in o)y=o[w],d[w]=y&&y.bind?y.bind(o):y;return o=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Hr=200;function qr(o,d){o.addEventListener("dblclick",d);var y=0,w;function S(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var Z=Ma(R);if(!(Z.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!Z.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var te=Date.now();te-y<=Hr?(w++,w===2&&d(Eu(R))):w=1,y=te}}}return o.addEventListener("click",S),{dblclick:d,simDblclick:S}}function Ti(o,d){o.removeEventListener("dblclick",d.dblclick),o.removeEventListener("click",d.simDblclick)}var Us=cr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cs=cr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),us=cs==="webkitTransition"||cs==="OTransition"?cs+"End":"transitionend";function Gr(o){return typeof o=="string"?document.getElementById(o):o}function hs(o,d){var y=o.style[d]||o.currentStyle&&o.currentStyle[d];if((!y||y==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);y=w?w[d]:null}return y==="auto"?null:y}function lt(o,d,y){var w=document.createElement(o);return w.className=d||"",y&&y.appendChild(w),w}function dt(o){var d=o.parentNode;d&&d.removeChild(o)}function St(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ri(o){var d=o.parentNode;d&&d.lastChild!==o&&d.appendChild(o)}function Ei(o){var d=o.parentNode;d&&d.firstChild!==o&&d.insertBefore(o,d.firstChild)}function ds(o,d){if(o.classList!==void 0)return o.classList.contains(d);var y=Ht(o);return y.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(y)}function je(o,d){if(o.classList!==void 0)for(var y=P(d),w=0,S=y.length;w<S;w++)o.classList.add(y[w]);else if(!ds(o,d)){var R=Ht(o);Bs(o,(R?R+" ":"")+d)}}function _t(o,d){o.classList!==void 0?o.classList.remove(d):Bs(o,I((" "+Ht(o)+" ").replace(" "+d+" "," ")))}function Bs(o,d){o.className.baseVal===void 0?o.className=d:o.className.baseVal=d}function Ht(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function En(o,d){"opacity"in o.style?o.style.opacity=d:"filter"in o.style&&Yo(o,d)}function Yo(o,d){var y=!1,w="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(w)}catch{if(d===1)return}d=Math.round(d*100),y?(y.Enabled=d!==100,y.Opacity=d):o.style.filter+=" progid:"+w+"(opacity="+d+")"}function cr(o){for(var d=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in d)return o[y];return!1}function Gn(o,d,y){var w=d||new re(0,0);o.style[Us]=(De.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(y?" scale("+y+")":"")}function Dt(o,d){o._leaflet_pos=d,De.any3d?Gn(o,d):(o.style.left=d.x+"px",o.style.top=d.y+"px")}function fs(o){return o._leaflet_pos||new re(0,0)}var Sn,ai,Zr;if("onselectstart"in document)Sn=function(){ze(window,"selectstart",Lt)},ai=function(){ft(window,"selectstart",Lt)};else{var zs=cr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sn=function(){if(zs){var o=document.documentElement.style;Zr=o[zs],o[zs]="none"}},ai=function(){zs&&(document.documentElement.style[zs]=Zr,Zr=void 0)}}function ur(){ze(window,"dragstart",Lt)}function La(){ft(window,"dragstart",Lt)}var Wr,oi;function Kr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(hr(),Wr=o,oi=o.style.outlineStyle,o.style.outlineStyle="none",ze(window,"keydown",hr))}function hr(){Wr&&(Wr.style.outlineStyle=oi,Wr=void 0,oi=void 0,ft(window,"keydown",hr))}function Fs(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function gn(o){var d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}var Xl={__proto__:null,TRANSFORM:Us,TRANSITION:cs,TRANSITION_END:us,get:Gr,getStyle:hs,create:lt,remove:dt,empty:St,toFront:ri,toBack:Ei,hasClass:ds,addClass:je,removeClass:_t,setClass:Bs,getClass:Ht,setOpacity:En,testProp:cr,setTransform:Gn,setPosition:Dt,getPosition:fs,get disableTextSelection(){return Sn},get enableTextSelection(){return ai},disableImageDrag:ur,enableImageDrag:La,preventOutline:Kr,restoreOutline:hr,getSizedParentNode:Fs,getScale:gn};function ze(o,d,y,w){if(d&&typeof d=="object")for(var S in d)ms(o,S,d[S],y);else{d=P(d);for(var R=0,Z=d.length;R<Z;R++)ms(o,d[R],y,w)}return this}var An="_leaflet_events";function ft(o,d,y,w){if(arguments.length===1)Nn(o),delete o[An];else if(d&&typeof d=="object")for(var S in d)Zn(o,S,d[S],y);else if(d=P(d),arguments.length===2)Nn(o,function(te){return X(d,te)!==-1});else for(var R=0,Z=d.length;R<Z;R++)Zn(o,d[R],y,w);return this}function Nn(o,d){for(var y in o[An]){var w=y.split(/\d/)[0];(!d||d(w))&&Zn(o,w,null,null,y)}}var zi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ms(o,d,y,w){var S=d+g(y)+(w?"_"+g(w):"");if(o[An]&&o[An][S])return this;var R=function(te){return y.call(w||o,te||window.event)},Z=R;!De.touchNative&&De.pointer&&d.indexOf("touch")===0?R=Ft(o,d,R):De.touch&&d==="dblclick"?R=qr(o,R):"addEventListener"in o?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?o.addEventListener(zi[d]||d,R,De.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(R=function(te){te=te||window.event,Hs(o,te)&&Z(te)},o.addEventListener(zi[d],R,!1)):o.addEventListener(d,Z,!1):o.attachEvent("on"+d,R),o[An]=o[An]||{},o[An][S]=R}function Zn(o,d,y,w,S){S=S||d+g(y)+(w?"_"+g(w):"");var R=o[An]&&o[An][S];if(!R)return this;!De.touchNative&&De.pointer&&d.indexOf("touch")===0?Ql(o,d,R):De.touch&&d==="dblclick"?Ti(o,R):"removeEventListener"in o?o.removeEventListener(zi[d]||d,R,!1):o.detachEvent("on"+d,R),o[An][S]=null}function mt(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function dr(o){return ms(o,"wheel",mt),this}function fr(o){return ze(o,"mousedown touchstart dblclick contextmenu",mt),o._leaflet_disable_click=!0,this}function Lt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function li(o){return Lt(o),mt(o),this}function Ma(o){if(o.composedPath)return o.composedPath();for(var d=[],y=o.target;y;)d.push(y),y=y.parentNode;return d}function Kt(o,d){if(!d)return new re(o.clientX,o.clientY);var y=gn(d),w=y.boundingClientRect;return new re((o.clientX-w.left)/y.x-d.clientLeft,(o.clientY-w.top)/y.y-d.clientTop)}var Cn=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mr(o){return De.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Cn:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Hs(o,d){var y=d.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var $r={__proto__:null,on:ze,off:ft,stopPropagation:mt,disableScrollPropagation:dr,disableClickPropagation:fr,preventDefault:Lt,stop:li,getPropagationPath:Ma,getMousePosition:Kt,getWheelDelta:mr,isExternalTarget:Hs,addListener:ze,removeListener:ft},Yr=ye.extend({run:function(o,d,y,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=fs(o),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(o){var d=+new Date-this._startTime,y=this._duration*1e3;d<y?this._runFrame(this._easeOut(d/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,d){var y=this._startPos.add(this._offset.multiplyBy(o));d&&y._round(),Dt(this._el,y),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Je=ye.extend({options:{crs:Ds,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,d){d=B(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Te(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cs&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,us,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,d,y){if(d=d===void 0?this._zoom:this._limitZoom(d),o=this._limitCenter(Te(o),d,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=a({animate:y.animate},y.zoom),y.pan=a({animate:y.animate,duration:y.duration},y.pan));var w=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,d,y.zoom):this._tryAnimatedPan(o,y.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,d,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,d){return this._loaded?this.setView(this.getCenter(),o,{zoom:d}):(this._zoom=o,this)},zoomIn:function(o,d){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,d)},zoomOut:function(o,d){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,d)},setZoomAround:function(o,d,y){var w=this.getZoomScale(d),S=this.getSize().divideBy(2),R=o instanceof re?o:this.latLngToContainerPoint(o),Z=R.subtract(S).multiplyBy(1-1/w),te=this.containerPointToLatLng(S.add(Z));return this.setView(te,d,{zoom:y})},_getBoundsCenterZoom:function(o,d){d=d||{},o=o.getBounds?o.getBounds():Se(o);var y=z(d.paddingTopLeft||d.padding||[0,0]),w=z(d.paddingBottomRight||d.padding||[0,0]),S=this.getBoundsZoom(o,!1,y.add(w));if(S=typeof d.maxZoom=="number"?Math.min(d.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var R=w.subtract(y).divideBy(2),Z=this.project(o.getSouthWest(),S),te=this.project(o.getNorthEast(),S),de=this.unproject(Z.add(te).divideBy(2).add(R),S);return{center:de,zoom:S}},fitBounds:function(o,d){if(o=Se(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,d);return this.setView(y.center,y.zoom,d)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,d){return this.setView(o,this._zoom,{pan:d})},panBy:function(o,d){if(o=z(o).round(),d=d||{},!o.x&&!o.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){je(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,d.duration||.25,d.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,d,y){if(y=y||{},y.animate===!1||!De.any3d)return this.setView(o,d,y);this._stop();var w=this.project(this.getCenter()),S=this.project(o),R=this.getSize(),Z=this._zoom;o=Te(o),d=d===void 0?Z:d;var te=Math.max(R.x,R.y),de=te*this.getZoomScale(Z,d),be=S.distanceTo(w)||1,Ne=1.42,Ie=Ne*Ne;function Me(Ot){var xs=Ot?-1:1,Ws=Ot?de:te,xr=de*de-te*te+xs*Ie*Ie*be*be,Ks=2*Ws*Ie*be,dl=xr/Ks,hc=Math.sqrt(dl*dl+1)-dl,fl=hc<1e-9?-18:Math.log(hc);return fl}function $e(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function jt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function qt(Ot){return $e(Ot)/jt(Ot)}var jn=Me(0);function Ai(Ot){return te*(jt(jn)/jt(jn+Ne*Ot))}function Pd(Ot){return te*(jt(jn)*qt(jn+Ne*Ot)-$e(jn))/Ie}function Id(Ot){return 1-Math.pow(1-Ot,1.5)}var hl=Date.now(),Xa=(Me(1)-jn)/Ne,Dd=y.duration?1e3*y.duration:1e3*Xa*.8;function Ja(){var Ot=(Date.now()-hl)/Dd,xs=Id(Ot)*Xa;Ot<=1?(this._flyToFrame=F(Ja,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(Pd(xs)/be)),Z),this.getScaleZoom(te/Ai(xs),Z),{flyTo:!0})):this._move(o,d)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),Ja.call(this),this},flyToBounds:function(o,d){var y=this._getBoundsCenterZoom(o,d);return this.flyTo(y.center,y.zoom,d)},setMaxBounds:function(o){return o=Se(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var d=this.options.minZoom;return this.options.minZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var d=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,d){this._enforcingBounds=!0;var y=this.getCenter(),w=this._limitCenter(y,this._zoom,Se(o));return y.equals(w)||this.panTo(w,d),this._enforcingBounds=!1,this},panInside:function(o,d){d=d||{};var y=z(d.paddingTopLeft||d.padding||[0,0]),w=z(d.paddingBottomRight||d.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(o),Z=this.getPixelBounds(),te=_e([Z.min.add(y),Z.max.subtract(w)]),de=te.getSize();if(!te.contains(R)){this._enforcingBounds=!0;var be=R.subtract(te.getCenter()),Ne=te.extend(R).getSize().subtract(de);S.x+=be.x<0?-Ne.x:Ne.x,S.y+=be.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(S),d),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),w=d.divideBy(2).round(),S=y.divideBy(2).round(),R=w.subtract(S);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=h(this._handleGeolocationResponse,this),y=h(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,y,o):navigator.geolocation.getCurrentPosition(d,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var d=o.code,y=o.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var d=o.coords.latitude,y=o.coords.longitude,w=new Re(d,y),S=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var Z=this.getBoundsZoom(S);this.setView(w,R.maxZoom?Math.min(Z,R.maxZoom):Z)}var te={latlng:w,bounds:S,timestamp:o.timestamp};for(var de in o.coords)typeof o.coords[de]=="number"&&(te[de]=o.coords[de]);this.fire("locationfound",te)}},addHandler:function(o,d){if(!d)return this;var y=this[o]=new d(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)dt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,d){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=lt("div",y,d||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),d=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new we(d,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,d,y){o=Se(o),y=z(y||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),Z=o.getNorthWest(),te=o.getSouthEast(),de=this.getSize().subtract(y),be=_e(this.project(te,w),this.project(Z,w)).getSize(),Ne=De.any3d?this.options.zoomSnap:1,Ie=de.x/be.x,Me=de.y/be.y,$e=d?Math.max(Ie,Me):Math.min(Ie,Me);return w=this.getScaleZoom($e,w),Ne&&(w=Math.round(w/(Ne/100))*(Ne/100),w=d?Math.ceil(w/Ne)*Ne:Math.floor(w/Ne)*Ne),Math.max(S,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,d){var y=this._getTopLeftPoint(o,d);return new ce(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,d){var y=this.options.crs;return d=d===void 0?this._zoom:d,y.scale(o)/y.scale(d)},getScaleZoom:function(o,d){var y=this.options.crs;d=d===void 0?this._zoom:d;var w=y.zoom(o*y.scale(d));return isNaN(w)?1/0:w},project:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Te(o),d)},unproject:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(z(o),d)},layerPointToLatLng:function(o){var d=z(o).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(o){var d=this.project(Te(o))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Te(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Se(o))},distance:function(o,d){return this.options.crs.distance(Te(o),Te(d))},containerPointToLayerPoint:function(o){return z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var d=this.containerPointToLayerPoint(z(o));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(o)))},mouseEventToContainerPoint:function(o){return Kt(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var d=this._container=Gr(o);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(d,"scroll",this._onScroll,this),this._containerId=g(d)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,je(o,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=hs(o,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dt(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(je(o.markerPane,"leaflet-zoom-hide"),je(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,d,y){Dt(this._mapPane,new re(0,0));var w=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var S=this._zoom!==d;this._moveStart(S,y)._move(o,d)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,d){return o&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(o,d,y,w){d===void 0&&(d=this._zoom);var S=this._zoom!==d;return this._zoom=d,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?y&&y.pinch&&this.fire("zoom",y):((S||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Dt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[g(this._container)]=this;var d=o?ft:ze;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,d){for(var y=[],w,S=d==="mouseout"||d==="mouseover",R=o.target||o.srcElement,Z=!1;R;){if(w=this._targets[g(R)],w&&(d==="click"||d==="preclick")&&this._draggableMoved(w)){Z=!0;break}if(w&&w.listens(d,!0)&&(S&&!Hs(R,o)||(y.push(w),S))||R===this._container)break;R=R.parentNode}return!y.length&&!Z&&!S&&this.listens(d,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var d=o.target||o.srcElement;if(!(!this._loaded||d._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(d))){var y=o.type;y==="mousedown"&&Kr(d),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,d,y){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,y)}var S=this._findEventTargets(o,d);if(y){for(var R=[],Z=0;Z<y.length;Z++)y[Z].listens(d,!0)&&R.push(y[Z]);S=R.concat(S)}if(S.length){d==="contextmenu"&&Lt(o);var te=S[0],de={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var be=te.getLatLng&&(!te._radius||te._radius<=10);de.containerPoint=be?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(o),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=be?te.getLatLng():this.layerPointToLatLng(de.layerPoint)}for(Z=0;Z<S.length;Z++)if(S[Z].fire(d,de,!0),de.originalEvent._stopped||S[Z].options.bubblingMouseEvents===!1&&X(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,d=this._handlers.length;o<d;o++)this._handlers[o].disable()},whenReady:function(o,d){return this._loaded?o.call(d||this,{target:this}):this.on("load",o,d),this},_getMapPanePos:function(){return fs(this._mapPane)||new re(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,d){var y=o&&d!==void 0?this._getNewPixelOrigin(o,d):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,d){var y=this.getSize()._divideBy(2);return this.project(o,d)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,d,y){var w=this._getNewPixelOrigin(y,d);return this.project(o,d)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,d,y){var w=this._getNewPixelOrigin(y,d);return _e([this.project(o.getSouthWest(),d)._subtract(w),this.project(o.getNorthWest(),d)._subtract(w),this.project(o.getSouthEast(),d)._subtract(w),this.project(o.getNorthEast(),d)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,d,y){if(!y)return o;var w=this.project(o,d),S=this.getSize().divideBy(2),R=new ce(w.subtract(S),w.add(S)),Z=this._getBoundsOffset(R,y,d);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?o:this.unproject(w.add(Z),d)},_limitOffset:function(o,d){if(!d)return o;var y=this.getPixelBounds(),w=new ce(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(w,d))},_getBoundsOffset:function(o,d,y){var w=_e(this.project(d.getNorthEast(),y),this.project(d.getSouthWest(),y)),S=w.min.subtract(o.min),R=w.max.subtract(o.max),Z=this._rebound(S.x,-R.x),te=this._rebound(S.y,-R.y);return new re(Z,te)},_rebound:function(o,d){return o+d>0?Math.round(o-d)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(d))},_limitZoom:function(o){var d=this.getMinZoom(),y=this.getMaxZoom(),w=De.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(d,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,d){var y=this._getCenterOffset(o)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,d),!0)},_createAnimProxy:function(){var o=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(d){var y=Us,w=this._proxy.style[y];Gn(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),w===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),d=this.getZoom();Gn(this._proxy,this.project(o,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,d,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(d),S=this._getCenterOffset(o)._divideBy(1-1/w);return y.animate!==!0&&!this.getSize().contains(S)?!1:(F(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,d,!0)},this),!0)},_animateZoom:function(o,d,y,w){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=d,je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:d,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ps(o,d){return new Je(o,d)}var yn=ke.extend({options:{position:"topright"},initialize:function(o){B(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var d=this._map;return d&&d.removeControl(this),this.options.position=o,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var d=this._container=this.onAdd(o),y=this.getPosition(),w=o._controlCorners[y];return je(d,"leaflet-control"),y.indexOf("bottom")!==-1?w.insertBefore(d,w.firstChild):w.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Fi=function(o){return new yn(o)};Je.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},d="leaflet-",y=this._controlContainer=lt("div",d+"control-container",this._container);function w(S,R){var Z=d+S+" "+d+R;o[S+R]=lt("div",Z,y)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)dt(this._controlCorners[o]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Jl=yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,d,y,w){return y<w?-1:w<y?1:0}},initialize:function(o,d,y){B(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in d)this._addLayer(d[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return yn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,d){return this._addLayer(o,d),this._map?this._update():this},addOverlay:function(o,d){return this._addLayer(o,d,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var d=this._getLayer(g(o));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",d=this._container=lt("div",o),y=this.options.collapsed;d.setAttribute("aria-haspopup",!0),fr(d),dr(d);var w=this._section=lt("section",o+"-list");y&&(this._map.on("click",this.collapse,this),ze(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=lt("a",o+"-toggle",d);S.href="#",S.title="Layers",S.setAttribute("role","button"),ze(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Lt(R),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=lt("div",o+"-base",w),this._separator=lt("div",o+"-separator",w),this._overlaysList=lt("div",o+"-overlays",w),d.appendChild(w)},_getLayer:function(o){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&g(this._layers[d].layer)===o)return this._layers[d]},_addLayer:function(o,d,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:d,overlay:y}),this.options.sortLayers&&this._layers.sort(h(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;St(this._baseLayersList),St(this._overlaysList),this._layerControlInputs=[];var o,d,y,w,S=0;for(y=0;y<this._layers.length;y++)w=this._layers[y],this._addItem(w),d=d||w.overlay,o=o||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=d&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var d=this._getLayer(g(o.target)),y=d.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,d)},_createRadioElement:function(o,d){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(d?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=y,w.firstChild},_addItem:function(o){var d=document.createElement("label"),y=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=y):w=this._createRadioElement("leaflet-base-layers_"+g(this),y),this._layerControlInputs.push(w),w.layerId=g(o.layer),ze(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var R=document.createElement("span");d.appendChild(R),R.appendChild(w),R.appendChild(S);var Z=o.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,d,y,w=[],S=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)d=o[R],y=this._getLayer(d.layerId).layer,d.checked?w.push(y):d.checked||S.push(y);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,d,y,w=this._map.getZoom(),S=o.length-1;S>=0;S--)d=o[S],y=this._getLayer(d.layerId).layer,d.disabled=y.options.minZoom!==void 0&&w<y.options.minZoom||y.options.maxZoom!==void 0&&w>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ze(o,"click",Lt),this.expand();var d=this;setTimeout(function(){ft(o,"click",Lt),d._preventClick=!1})}}),ec=function(o,d,y){return new Jl(o,d,y)},qs=yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var d="leaflet-control-zoom",y=lt("div",d+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,d+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,d+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,d,y,w,S){var R=lt("a",y,w);return R.innerHTML=o,R.href="#",R.title=d,R.setAttribute("role","button"),R.setAttribute("aria-label",d),fr(R),ze(R,"click",li),ze(R,"click",S,this),ze(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,d="leaflet-disabled";_t(this._zoomInButton,d),_t(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(je(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(je(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qs,this.addControl(this.zoomControl))});var ka=function(o){return new qs(o)},Qo=yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var d="leaflet-control-scale",y=lt("div",d),w=this.options;return this._addScales(w,d+"-line",y),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,d,y){o.metric&&(this._mScale=lt("div",d,y)),o.imperial&&(this._iScale=lt("div",d,y))},_update:function(){var o=this._map,d=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,d]),o.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var d=this._getRoundNum(o),y=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,y,d/o)},_updateImperial:function(o){var d=o*3.2808399,y,w,S;d>5280?(y=d/5280,w=this._getRoundNum(y),this._updateScale(this._iScale,w+" mi",w/y)):(S=this._getRoundNum(d),this._updateScale(this._iScale,S+" ft",S/d))},_updateScale:function(o,d,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=d},_getRoundNum:function(o){var d=Math.pow(10,(Math.floor(o)+"").length-1),y=o/d;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,d*y}}),Xo=function(o){return new Qo(o)},Jo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Oa=yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?Jo+" ":"")+"Leaflet</a>"},initialize:function(o){B(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),fr(this._container);for(var d in o._layers)o._layers[d].getAttribution&&this.addAttribution(o._layers[d].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var d in this._attributions)this._attributions[d]&&o.push(d);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook(function(){this.options.attributionControl&&new Oa().addTo(this)});var Va=function(o){return new Oa(o)};yn.Layers=Jl,yn.Zoom=qs,yn.Scale=Qo,yn.Attribution=Oa,Fi.layers=ec,Fi.zoom=ka,Fi.scale=Xo,Fi.attribution=Va;var Wn=ke.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wn.addTo=function(o,d){return o.addHandler(d,this),this};var tc={Events:ae},gs=De.touch?"touchstart mousedown":"mousedown",Hi=ye.extend({options:{clickTolerance:3},initialize:function(o,d,y,w){B(this,w),this._element=o,this._dragStartTarget=d||o,this._preventOutline=y},enable:function(){this._enabled||(ze(this._dragStartTarget,gs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hi._dragging===this&&this.finishDrag(!0),ft(this._dragStartTarget,gs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ds(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Hi._dragging===this&&this.finishDrag();return}if(!(Hi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Hi._dragging=this,this._preventOutline&&Kr(this._element),ur(),Sn(),!this._moving)){this.fire("down");var d=o.touches?o.touches[0]:o,y=Fs(this._element);this._startPoint=new re(d.clientX,d.clientY),this._startPos=fs(this._element),this._parentScale=gn(y);var w=o.type==="mousedown";ze(document,w?"mousemove":"touchmove",this._onMove,this),ze(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var d=o.touches&&o.touches.length===1?o.touches[0]:o,y=new re(d.clientX,d.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Lt(o),this._moved||(this.fire("dragstart"),this._moved=!0,je(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Dt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ft(document,"mousemove touchmove",this._onMove,this),ft(document,"mouseup touchend touchcancel",this._onUp,this),La(),ai();var d=this._moved&&this._moving;this._moving=!1,Hi._dragging=!1,d&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function el(o,d,y){var w,S=[1,4,2,8],R,Z,te,de,be,Ne,Ie,Me;for(R=0,Ne=o.length;R<Ne;R++)o[R]._code=ue(o[R],d);for(te=0;te<4;te++){for(Ie=S[te],w=[],R=0,Ne=o.length,Z=Ne-1;R<Ne;Z=R++)de=o[R],be=o[Z],de._code&Ie?be._code&Ie||(Me=ne(be,de,Ie,d,y),Me._code=ue(Me,d),w.push(Me)):(be._code&Ie&&(Me=ne(be,de,Ie,d,y),Me._code=ue(Me,d),w.push(Me)),w.push(de));o=w}return o}function Qr(o,d){var y,w,S,R,Z,te,de,be,Ne;if(!o||o.length===0)throw new Error("latlngs not passed");it(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ie=Te([0,0]),Me=Se(o),$e=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());$e<1700&&(Ie=Ua(o));var jt=o.length,qt=[];for(y=0;y<jt;y++){var jn=Te(o[y]);qt.push(d.project(Te([jn.lat-Ie.lat,jn.lng-Ie.lng])))}for(te=de=be=0,y=0,w=jt-1;y<jt;w=y++)S=qt[y],R=qt[w],Z=S.y*R.x-R.y*S.x,de+=(S.x+R.x)*Z,be+=(S.y+R.y)*Z,te+=Z*3;te===0?Ne=qt[0]:Ne=[de/te,be/te];var Ai=d.unproject(z(Ne));return Te([Ai.lat+Ie.lat,Ai.lng+Ie.lng])}function Ua(o){for(var d=0,y=0,w=0,S=0;S<o.length;S++){var R=Te(o[S]);d+=R.lat,y+=R.lng,w++}return Te([d/w,y/w])}var Ba={__proto__:null,clipPolygon:el,polygonCenter:Qr,centroid:Ua};function Rn(o,d){if(!d||!o.length)return o.slice();var y=d*d;return o=E(o,y),o=pr(o,y),o}function za(o,d,y){return Math.sqrt(Fe(o,d,y,!0))}function nc(o,d,y){return Fe(o,d,y)}function pr(o,d){var y=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(y);S[0]=S[y-1]=1,p(o,S,d,0,y-1);var R,Z=[];for(R=0;R<y;R++)S[R]&&Z.push(o[R]);return Z}function p(o,d,y,w,S){var R=0,Z,te,de;for(te=w+1;te<=S-1;te++)de=Fe(o[te],o[w],o[S],!0),de>R&&(Z=te,R=de);R>y&&(d[Z]=1,p(o,d,y,w,Z),p(o,d,y,Z,S))}function E(o,d){for(var y=[o[0]],w=1,S=0,R=o.length;w<R;w++)Ee(o[w],o[S])>d&&(y.push(o[w]),S=w);return S<R-1&&y.push(o[R-1]),y}var N;function k(o,d,y,w,S){var R=w?N:ue(o,y),Z=ue(d,y),te,de,be;for(N=Z;;){if(!(R|Z))return[o,d];if(R&Z)return!1;te=R||Z,de=ne(o,d,te,y,S),be=ue(de,y),te===R?(o=de,R=be):(d=de,Z=be)}}function ne(o,d,y,w,S){var R=d.x-o.x,Z=d.y-o.y,te=w.min,de=w.max,be,Ne;return y&8?(be=o.x+R*(de.y-o.y)/Z,Ne=de.y):y&4?(be=o.x+R*(te.y-o.y)/Z,Ne=te.y):y&2?(be=de.x,Ne=o.y+Z*(de.x-o.x)/R):y&1&&(be=te.x,Ne=o.y+Z*(te.x-o.x)/R),new re(be,Ne,S)}function ue(o,d){var y=0;return o.x<d.min.x?y|=1:o.x>d.max.x&&(y|=2),o.y<d.min.y?y|=4:o.y>d.max.y&&(y|=8),y}function Ee(o,d){var y=d.x-o.x,w=d.y-o.y;return y*y+w*w}function Fe(o,d,y,w){var S=d.x,R=d.y,Z=y.x-S,te=y.y-R,de=Z*Z+te*te,be;return de>0&&(be=((o.x-S)*Z+(o.y-R)*te)/de,be>1?(S=y.x,R=y.y):be>0&&(S+=Z*be,R+=te*be)),Z=o.x-S,te=o.y-R,w?Z*Z+te*te:new re(S,R)}function it(o){return!$(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function yt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),it(o)}function kt(o,d){var y,w,S,R,Z,te,de,be;if(!o||o.length===0)throw new Error("latlngs not passed");it(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ne=Te([0,0]),Ie=Se(o),Me=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Me<1700&&(Ne=Ua(o));var $e=o.length,jt=[];for(y=0;y<$e;y++){var qt=Te(o[y]);jt.push(d.project(Te([qt.lat-Ne.lat,qt.lng-Ne.lng])))}for(y=0,w=0;y<$e-1;y++)w+=jt[y].distanceTo(jt[y+1])/2;if(w===0)be=jt[0];else for(y=0,R=0;y<$e-1;y++)if(Z=jt[y],te=jt[y+1],S=Z.distanceTo(te),R+=S,R>w){de=(R-w)/S,be=[te.x-de*(te.x-Z.x),te.y-de*(te.y-Z.y)];break}var jn=d.unproject(z(be));return Te([jn.lat+Ne.lat,jn.lng+Ne.lng])}var ci={__proto__:null,simplify:Rn,pointToSegmentDistance:za,closestPointOnSegment:nc,clipSegment:k,_getEdgeIntersection:ne,_getBitCode:ue,_sqClosestPointOnSegment:Fe,isFlat:it,_flat:yt,polylineCenter:kt},Si={project:function(o){return new re(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new ce([-180,-90],[180,90])},ui={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var d=Math.PI/180,y=this.R,w=o.lat*d,S=this.R_MINOR/y,R=Math.sqrt(1-S*S),Z=R*Math.sin(w),te=Math.tan(Math.PI/4-w/2)/Math.pow((1-Z)/(1+Z),R/2);return w=-y*Math.log(Math.max(te,1e-10)),new re(o.lng*d*y,w)},unproject:function(o){for(var d=180/Math.PI,y=this.R,w=this.R_MINOR/y,S=Math.sqrt(1-w*w),R=Math.exp(-o.y/y),Z=Math.PI/2-2*Math.atan(R),te=0,de=.1,be;te<15&&Math.abs(de)>1e-7;te++)be=S*Math.sin(Z),be=Math.pow((1-be)/(1+be),S/2),de=Math.PI/2-2*Math.atan(R*be)-Z,Z+=de;return new Re(Z*d,o.x*d/y)}},qi={__proto__:null,LonLat:Si,Mercator:ui,SphericalMercator:Is},Gi=a({},qe,{code:"EPSG:3395",projection:ui,transformation:(function(){var o=.5/(Math.PI*ui.R);return ss(o,.5,-o,.5)})()}),Fa=a({},qe,{code:"EPSG:4326",projection:Si,transformation:ss(1/180,1,-1/180,.5)}),pp=a({},bt,{projection:Si,transformation:ss(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,d){var y=d.lng-o.lng,w=d.lat-o.lat;return Math.sqrt(y*y+w*w)},infinite:!0});bt.Earth=qe,bt.EPSG3395=Gi,bt.EPSG3857=Ds,bt.EPSG900913=Ra,bt.EPSG4326=Fa,bt.Simple=pp;var Zi=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[g(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[g(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var d=o.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var y=this.getEvents();d.on(y,this),this.once("remove",function(){d.off(y,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var d=g(o);return this._layers[d]?this:(this._layers[d]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var d=g(o);return this._layers[d]?(this._loaded&&o.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return g(o)in this._layers},eachLayer:function(o,d){for(var y in this._layers)o.call(d,this._layers[y]);return this},_addLayers:function(o){o=o?$(o)?o:[o]:[];for(var d=0,y=o.length;d<y;d++)this.addLayer(o[d])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[g(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var d=g(o);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,d=-1/0,y=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),d=S.maxZoom===void 0?d:Math.max(d,S.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xr=Zi.extend({initialize:function(o,d){B(this,d),this._layers={};var y,w;if(o)for(y=0,w=o.length;y<w;y++)this.addLayer(o[y])},addLayer:function(o){var d=this.getLayerId(o);return this._layers[d]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var d=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(o){var d=typeof o=="number"?o:this.getLayerId(o);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d=Array.prototype.slice.call(arguments,1),y,w;for(y in this._layers)w=this._layers[y],w[o]&&w[o].apply(w,d);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,d){for(var y in this._layers)o.call(d,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return g(o)}}),Ed=function(o,d){return new Xr(o,d)},hi=Xr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Xr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Xr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new we;for(var d in this._layers){var y=this._layers[d];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),tl=function(o,d){return new hi(o,d)},Ha=ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){B(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,d){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(y,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,d){var y=this.options,w=y[d+"Size"];typeof w=="number"&&(w=[w,w]);var S=z(w),R=z(d==="shadow"&&y.shadowAnchor||y.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+d+" "+(y.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,d){return d=d||document.createElement("img"),d.src=o,d},_getIconUrl:function(o){return De.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function ic(o){return new Ha(o)}var qa=Ha.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof qa.imagePath!="string"&&(qa.imagePath=this._detectIconPath()),(this.options.imagePath||qa.imagePath)+Ha.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var d=function(y,w,S){var R=w.exec(y);return R&&R[S]};return o=d(o,/^url\((['"])?(.+)\1\)$/,2),o&&d(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=lt("div","leaflet-default-icon-path",document.body),d=hs(o,"background-image")||hs(o,"backgroundImage");if(document.body.removeChild(o),d=this._stripUrl(d),d)return d;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Su=Wn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Hi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),je(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var d=this._marker,y=d._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=fs(d._icon),Z=y.getPixelBounds(),te=y.getPixelOrigin(),de=_e(Z.min._subtract(te).add(S),Z.max._subtract(te).subtract(S));if(!de.contains(R)){var be=z((Math.max(de.max.x,R.x)-de.max.x)/(Z.max.x-de.max.x)-(Math.min(de.min.x,R.x)-de.min.x)/(Z.min.x-de.min.x),(Math.max(de.max.y,R.y)-de.max.y)/(Z.max.y-de.max.y)-(Math.min(de.min.y,R.y)-de.min.y)/(Z.min.y-de.min.y)).multiplyBy(w);y.panBy(be,{animate:!1}),this._draggable._newPos._add(be),this._draggable._startPos._add(be),Dt(d._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=F(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,o)))},_onDrag:function(o){var d=this._marker,y=d._shadow,w=fs(d._icon),S=d._map.layerPointToLatLng(w);y&&Dt(y,w),d._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,d.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ga=Zi.extend({options:{icon:new qa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,d){B(this,d),this._latlng=Te(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var d=this._latlng;return this._latlng=Te(o),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),w=!1;y!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),je(y,d),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(y,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(je(S,d),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(this._icon,"focus",this._panOnFocus,this),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Dt(this._icon,o),this._shadow&&Dt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Su)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Su(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&En(this._icon,o),this._shadow&&En(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var d=this.options.icon.options,y=d.iconSize?z(d.iconSize):z(0,0),w=d.iconAnchor?z(d.iconAnchor):z(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:y.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Au(o,d){return new Ga(o,d)}var Gs=Zi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return B(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),nl=Gs.extend({options:{fill:!0,radius:10},initialize:function(o,d){B(this,d),this._latlng=Te(o),this._radius=this.options.radius},setLatLng:function(o){var d=this._latlng;return this._latlng=Te(o),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var d=o&&o.radius||this._radius;return Gs.prototype.setStyle.call(this,o),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,d=this._radiusY||o,y=this._clickTolerance(),w=[o+y,d+y];this._pxBounds=new ce(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sd(o,d){return new nl(o,d)}var Nu=nl.extend({initialize:function(o,d,y){if(typeof d=="number"&&(d=a({},y,{radius:d})),B(this,d),this._latlng=Te(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new we(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Gs.prototype.setStyle,_project:function(){var o=this._latlng.lng,d=this._latlng.lat,y=this._map,w=y.options.crs;if(w.distance===qe.distance){var S=Math.PI/180,R=this._mRadius/qe.R/S,Z=y.project([d+R,o]),te=y.project([d-R,o]),de=Z.add(te).divideBy(2),be=y.unproject(de).lat,Ne=Math.acos((Math.cos(R*S)-Math.sin(d*S)*Math.sin(be*S))/(Math.cos(d*S)*Math.cos(be*S)))/S;(isNaN(Ne)||Ne===0)&&(Ne=R/Math.cos(Math.PI/180*d)),this._point=de.subtract(y.getPixelOrigin()),this._radius=isNaN(Ne)?0:de.x-y.project([be,o-Ne]).x,this._radiusY=de.y-Z.y}else{var Ie=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(Ie).x}this._updateBounds()}});function gp(o,d,y){return new Nu(o,d,y)}var Zs=Gs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,d){B(this,d),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var d=1/0,y=null,w=Fe,S,R,Z=0,te=this._parts.length;Z<te;Z++)for(var de=this._parts[Z],be=1,Ne=de.length;be<Ne;be++){S=de[be-1],R=de[be];var Ie=w(o,S,R,!0);Ie<d&&(d=Ie,y=w(o,S,R))}return y&&(y.distance=Math.sqrt(d)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,d){return d=d||this._defaultShape(),o=Te(o),d.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new we,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return it(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var d=[],y=it(o),w=0,S=o.length;w<S;w++)y?(d[w]=Te(o[w]),this._bounds.extend(d[w])):d[w]=this._convertLatLngs(o[w]);return d},_project:function(){var o=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),d=new re(o,o);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(o,d,y){var w=o[0]instanceof Re,S=o.length,R,Z;if(w){for(Z=[],R=0;R<S;R++)Z[R]=this._map.latLngToLayerPoint(o[R]),y.extend(Z[R]);d.push(Z)}else for(R=0;R<S;R++)this._projectLatlngs(o[R],d,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,y,w,S,R,Z,te,de;for(y=0,S=0,R=this._rings.length;y<R;y++)for(de=this._rings[y],w=0,Z=de.length;w<Z-1;w++)te=k(de[w],de[w+1],o,w,!0),te&&(d[S]=d[S]||[],d[S].push(te[0]),(te[1]!==de[w+1]||w===Z-2)&&(d[S].push(te[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,d=this.options.smoothFactor,y=0,w=o.length;y<w;y++)o[y]=Rn(o[y],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,d){var y,w,S,R,Z,te,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,R=this._parts.length;y<R;y++)for(te=this._parts[y],w=0,Z=te.length,S=Z-1;w<Z;S=w++)if(!(!d&&w===0)&&za(o,te[S],te[w])<=de)return!0;return!1}});function yp(o,d){return new Zs(o,d)}Zs._flat=yt;var Za=Zs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var d=Zs.prototype._convertLatLngs.call(this,o),y=d.length;return y>=2&&d[0]instanceof Re&&d[0].equals(d[y-1])&&d.pop(),d},_setLatLngs:function(o){Zs.prototype._setLatLngs.call(this,o),it(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return it(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,d=this.options.weight,y=new re(d,d);if(o=new ce(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,R;w<S;w++)R=el(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d=!1,y,w,S,R,Z,te,de,be;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,de=this._parts.length;R<de;R++)for(y=this._parts[R],Z=0,be=y.length,te=be-1;Z<be;te=Z++)w=y[Z],S=y[te],w.y>o.y!=S.y>o.y&&o.x<(S.x-w.x)*(o.y-w.y)/(S.y-w.y)+w.x&&(d=!d);return d||Zs.prototype._containsPoint.call(this,o,!0)}});function di(o,d){return new Za(o,d)}var fi=hi.extend({initialize:function(o,d){B(this,d),this._layers={},o&&this.addData(o)},addData:function(o){var d=$(o)?o:o.features,y,w,S;if(d){for(y=0,w=d.length;y<w;y++)S=d[y],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var Z=il(o,R);return Z?(Z.feature=Wa(o),Z.defaultOptions=Z.options,this.resetStyle(Z),R.onEachFeature&&R.onEachFeature(o,Z),this.addLayer(Z)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(d){this._setLayerStyle(d,o)},this)},_setLayerStyle:function(o,d){o.setStyle&&(typeof d=="function"&&(d=d(o.feature)),o.setStyle(d))}});function il(o,d){var y=o.type==="Feature"?o.geometry:o,w=y?y.coordinates:null,S=[],R=d&&d.pointToLayer,Z=d&&d.coordsToLatLng||sc,te,de,be,Ne;if(!w&&!y)return null;switch(y.type){case"Point":return te=Z(w),Cu(R,o,te,d);case"MultiPoint":for(be=0,Ne=w.length;be<Ne;be++)te=Z(w[be]),S.push(Cu(R,o,te,d));return new hi(S);case"LineString":case"MultiLineString":return de=sl(w,y.type==="LineString"?0:1,Z),new Zs(de,d);case"Polygon":case"MultiPolygon":return de=sl(w,y.type==="Polygon"?1:2,Z),new Za(de,d);case"GeometryCollection":for(be=0,Ne=y.geometries.length;be<Ne;be++){var Ie=il({geometry:y.geometries[be],type:"Feature",properties:o.properties},d);Ie&&S.push(Ie)}return new hi(S);case"FeatureCollection":for(be=0,Ne=y.features.length;be<Ne;be++){var Me=il(y.features[be],d);Me&&S.push(Me)}return new hi(S);default:throw new Error("Invalid GeoJSON object.")}}function Cu(o,d,y,w){return o?o(d,y):new Ga(y,w&&w.markersInheritOptions&&w)}function sc(o){return new Re(o[1],o[0],o[2])}function sl(o,d,y){for(var w=[],S=0,R=o.length,Z;S<R;S++)Z=d?sl(o[S],d-1,y):(y||sc)(o[S]),w.push(Z);return w}function rl(o,d){return o=Te(o),o.alt!==void 0?[A(o.lng,d),A(o.lat,d),A(o.alt,d)]:[A(o.lng,d),A(o.lat,d)]}function rc(o,d,y,w){for(var S=[],R=0,Z=o.length;R<Z;R++)S.push(d?rc(o[R],it(o[R])?0:d-1,y,w):rl(o[R],w));return!d&&y&&S.length>0&&S.push(S[0].slice()),S}function Wi(o,d){return o.feature?a({},o.feature,{geometry:d}):Wa(d)}function Wa(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Jr={toGeoJSON:function(o){return Wi(this,{type:"Point",coordinates:rl(this.getLatLng(),o)})}};Ga.include(Jr),Nu.include(Jr),nl.include(Jr),Zs.include({toGeoJSON:function(o){var d=!it(this._latlngs),y=rc(this._latlngs,d?1:0,!1,o);return Wi(this,{type:(d?"Multi":"")+"LineString",coordinates:y})}}),Za.include({toGeoJSON:function(o){var d=!it(this._latlngs),y=d&&!it(this._latlngs[0]),w=rc(this._latlngs,y?2:d?1:0,!0,o);return d||(w=[w]),Wi(this,{type:(y?"Multi":"")+"Polygon",coordinates:w})}}),Xr.include({toMultiPoint:function(o){var d=[];return this.eachLayer(function(y){d.push(y.toGeoJSON(o).geometry.coordinates)}),Wi(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(o){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(o);var y=d==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(o);if(y)w.push(R.geometry);else{var Z=Wa(R);Z.type==="FeatureCollection"?w.push.apply(w,Z.features):w.push(Z)}}}),y?Wi(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function ac(o,d){return new fi(o,d)}var Ad=ac,ys=Zi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,d,y){this._url=o,this._bounds=Se(d),B(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ri(this._image),this},bringToBack:function(){return this._map&&Ei(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Se(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",d=this._image=o?this._url:lt("img");if(je(d,"leaflet-image-layer"),this._zoomAnimated&&je(d,"leaflet-zoom-animated"),this.options.className&&je(d,this.options.className),d.onselectstart=T,d.onmousemove=T,d.onload=h(this.fire,this,"load"),d.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(o){var d=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Gn(this._image,y,d)},_reset:function(){var o=this._image,d=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=d.getSize();Dt(o,d.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){En(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ka=function(o,d,y){return new ys(o,d,y)},oc=ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",d=this._image=o?this._url:lt("video");if(je(d,"leaflet-image-layer"),this._zoomAnimated&&je(d,"leaflet-zoom-animated"),this.options.className&&je(d,this.options.className),d.onselectstart=T,d.onmousemove=T,d.onloadeddata=h(this.fire,this,"load"),o){for(var y=d.getElementsByTagName("source"),w=[],S=0;S<y.length;S++)w.push(y[S].src);this._url=y.length>0?w:[d.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var Z=lt("source");Z.src=this._url[R],d.appendChild(Z)}}});function Nd(o,d,y){return new oc(o,d,y)}var gr=ys.extend({_initImage:function(){var o=this._image=this._url;je(o,"leaflet-image-layer"),this._zoomAnimated&&je(o,"leaflet-zoom-animated"),this.options.className&&je(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function Cd(o,d,y){return new gr(o,d,y)}var Ki=Zi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,d){o&&(o instanceof Re||$(o))?(this._latlng=Te(o),B(this,d)):(B(this,o),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&En(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&En(this._container,1),this.bringToFront(),this.options.interactive&&(je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(En(this._container,0),this._removeTimeout=setTimeout(h(dt,void 0,this._container),200)):dt(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Te(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ri(this._container),this},bringToBack:function(){return this._map&&Ei(this._container),this},_prepareOpen:function(o){var d=this._source;if(!d._map)return!1;if(d instanceof hi){d=null;var y=this._source._layers;for(var w in y)if(y[w]._map){d=y[w];break}if(!d)return!1;this._source=d}if(!o)if(d.getCenter)o=d.getCenter();else if(d.getLatLng)o=d.getLatLng();else if(d.getBounds)o=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")o.innerHTML=d;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),d=z(this.options.offset),y=this._getAnchor();this._zoomAnimated?Dt(this._container,o.add(y)):d=d.add(o).add(y);var w=this._containerBottom=-d.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(o,d,y,w){var S=d;return S instanceof o||(S=new o(w).setContent(d)),y&&S.setLatLng(y),S}}),Zi.include({_initOverlay:function(o,d,y,w){var S=y;return S instanceof o?(B(S,w),S._source=this):(S=d&&!w?d:new o(w,this),S.setContent(y)),S}});var al=Ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Ki.prototype.openOn.call(this,o)},onAdd:function(o){Ki.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gs||this._source.on("preclick",mt))},onRemove:function(o){Ki.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gs||this._source.off("preclick",mt))},getEvents:function(){var o=Ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",d=this._container=lt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=lt("div",o+"-content-wrapper",d);if(this._contentNode=lt("div",o+"-content",y),fr(d),dr(this._contentNode),ze(d,"contextmenu",mt),this._tipContainer=lt("div",o+"-tip-container",d),this._tip=lt("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=lt("a",o+"-close-button",d);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ze(w,"click",function(S){Lt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,d=o.style;d.width="",d.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),d.width=y+1+"px",d.whiteSpace="",d.height="";var w=o.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&w>S?(d.height=S+"px",je(o,R)):_t(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();Dt(this._container,d.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,d=parseInt(hs(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+d,w=this._containerWidth,S=new re(this._containerLeft,-y-this._containerBottom);S._add(fs(this._container));var R=o.layerPointToContainerPoint(S),Z=z(this.options.autoPanPadding),te=z(this.options.autoPanPaddingTopLeft||Z),de=z(this.options.autoPanPaddingBottomRight||Z),be=o.getSize(),Ne=0,Ie=0;R.x+w+de.x>be.x&&(Ne=R.x+w-be.x+de.x),R.x-Ne-te.x<0&&(Ne=R.x-te.x),R.y+y+de.y>be.y&&(Ie=R.y+y-be.y+de.y),R.y-Ie-te.y<0&&(Ie=R.y-te.y),(Ne||Ie)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ne,Ie]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vp=function(o,d){return new al(o,d)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(o,d,y){return this._initOverlay(al,o,d,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Zi.include({bindPopup:function(o,d){return this._popup=this._initOverlay(al,this._popup,o,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof hi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){li(o);var d=o.layer||o.target;if(this._popup._source===d&&!(d instanceof Gs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=d,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var lc=Ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Ki.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Ki.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Ki.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",d=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var d,y,w=this._map,S=this._container,R=w.latLngToContainerPoint(w.getCenter()),Z=w.layerPointToContainerPoint(o),te=this.options.direction,de=S.offsetWidth,be=S.offsetHeight,Ne=z(this.options.offset),Ie=this._getAnchor();te==="top"?(d=de/2,y=be):te==="bottom"?(d=de/2,y=0):te==="center"?(d=de/2,y=be/2):te==="right"?(d=0,y=be/2):te==="left"?(d=de,y=be/2):Z.x<R.x?(te="right",d=0,y=be/2):(te="left",d=de+(Ne.x+Ie.x)*2,y=be/2),o=o.subtract(z(d,y,!0)).add(Ne).add(Ie),_t(S,"leaflet-tooltip-right"),_t(S,"leaflet-tooltip-left"),_t(S,"leaflet-tooltip-top"),_t(S,"leaflet-tooltip-bottom"),je(S,"leaflet-tooltip-"+te),Dt(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&En(this._container,o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(d)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xp=function(o,d){return new lc(o,d)};Je.include({openTooltip:function(o,d,y){return this._initOverlay(lc,o,d,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Zi.include({bindTooltip:function(o,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lc,this._tooltip,o,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var d=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[d](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof hi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&(ze(d,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ze(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var d=o.latlng,y,w;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(y),d=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(d)}});var Ru=Ha.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var d=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(St(d),d.appendChild(y.html)):d.innerHTML=y.html!==!1?y.html:"",y.bgPos){var w=z(y.bgPos);d.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Rd(o){return new Ru(o)}Ha.Default=qa;var ea=Zi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){B(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),dt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ei(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof re?o:new re(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var d=this.getPane().children,y=-o(-1/0,1/0),w=0,S=d.length,R;w<S;w++)R=d[w].style.zIndex,d[w]!==this._container&&R&&(y=o(y,+R));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){En(this._container,this.options.opacity);var o=+new Date,d=!1,y=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var R=Math.min(1,(o-S.loaded)/200);En(S.el,R),R<1?d=!0:(S.active?y=!0:this._onOpaqueTile(S),S.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),d&&(Y(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,d=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=d-Math.abs(o-y),this._onUpdateLevel(y)):(dt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var w=this._levels[o],S=this._map;return w||(w=this._levels[o]={},w.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=d,w.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,S.getCenter(),S.getZoom()),T(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,d,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)d=this._tiles[o],d.retain=d.current;for(o in this._tiles)if(d=this._tiles[o],d.current&&!d.active){var w=d.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var d in this._tiles)this._tiles[d].coords.z===o&&this._removeTile(d)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)dt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,d,y,w){var S=Math.floor(o/2),R=Math.floor(d/2),Z=y-1,te=new re(+S,+R);te.z=+Z;var de=this._tileCoordsToKey(te),be=this._tiles[de];return be&&be.active?(be.retain=!0,!0):(be&&be.loaded&&(be.retain=!0),Z>w?this._retainParent(S,R,Z,w):!1)},_retainChildren:function(o,d,y,w){for(var S=2*o;S<2*o+2;S++)for(var R=2*d;R<2*d+2;R++){var Z=new re(S,R);Z.z=y+1;var te=this._tileCoordsToKey(Z),de=this._tiles[te];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);y+1<w&&this._retainChildren(S,R,y+1,w)}},_resetView:function(o){var d=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var d=this.options;return d.minNativeZoom!==void 0&&o<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<o?d.maxNativeZoom:o},_setView:function(o,d,y,w){var S=Math.round(d);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,d)},_setZoomTransforms:function(o,d){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,d)},_setZoomTransform:function(o,d,y){var w=this._map.getZoomScale(y,o.zoom),S=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(d,y)).round();De.any3d?Gn(o.el,S,w):Dt(o.el,S)},_resetGrid:function(){var o=this._map,d=o.options.crs,y=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,d.wrapLng[0]],w).x/y.x),Math.ceil(o.project([0,d.wrapLng[1]],w).x/y.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([d.wrapLat[0],0],w).y/y.x),Math.ceil(o.project([d.wrapLat[1],0],w).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var d=this._map,y=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),w=d.getZoomScale(y,this._tileZoom),S=d.project(o,this._tileZoom).floor(),R=d.getSize().divideBy(w*2);return new ce(S.subtract(R),S.add(R))},_update:function(o){var d=this._map;if(d){var y=this._clampZoom(d.getZoom());if(o===void 0&&(o=d.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(w),R=S.getCenter(),Z=[],te=this.options.keepBuffer,de=new ce(S.getBottomLeft().subtract([te,-te]),S.getTopRight().add([te,-te]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var be in this._tiles){var Ne=this._tiles[be].coords;(Ne.z!==this._tileZoom||!de.contains(new re(Ne.x,Ne.y)))&&(this._tiles[be].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var Ie=S.min.y;Ie<=S.max.y;Ie++)for(var Me=S.min.x;Me<=S.max.x;Me++){var $e=new re(Me,Ie);if($e.z=this._tileZoom,!!this._isValidTile($e)){var jt=this._tiles[this._tileCoordsToKey($e)];jt?jt.current=!0:Z.push($e)}}if(Z.sort(function(jn,Ai){return jn.distanceTo(R)-Ai.distanceTo(R)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qt=document.createDocumentFragment();for(Me=0;Me<Z.length;Me++)this._addTile(Z[Me],qt);this._level.el.appendChild(qt)}}}},_isValidTile:function(o){var d=this._map.options.crs;if(!d.infinite){var y=this._globalTileRange;if(!d.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!d.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Se(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var d=this._map,y=this.getTileSize(),w=o.scaleBy(y),S=w.add(y),R=d.unproject(w,o.z),Z=d.unproject(S,o.z);return[R,Z]},_tileCoordsToBounds:function(o){var d=this._tileCoordsToNwSe(o),y=new we(d[0],d[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var d=o.split(":"),y=new re(+d[0],+d[1]);return y.z=+d[2],y},_removeTile:function(o){var d=this._tiles[o];d&&(dt(d.el),delete this._tiles[o],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){je(o,"leaflet-tile");var d=this.getTileSize();o.style.width=d.x+"px",o.style.height=d.y+"px",o.onselectstart=T,o.onmousemove=T,De.ielt9&&this.options.opacity<1&&En(o,this.options.opacity)},_addTile:function(o,d){var y=this._getTilePos(o),w=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),h(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&F(h(this._tileReady,this,o,null,S)),Dt(S,y),this._tiles[w]={el:S,coords:o,current:!0},d.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,d,y){d&&this.fire("tileerror",{error:d,tile:y,coords:o});var w=this._tileCoordsToKey(o);y=this._tiles[w],y&&(y.loaded=+new Date,this._map._fadeAnimated?(En(y.el,0),Y(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),d||(je(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var d=new re(this._wrapX?_(o.x,this._wrapX):o.x,this._wrapY?_(o.y,this._wrapY):o.y);return d.z=o.z,d},_pxBoundsToTileRange:function(o){var d=this.getTileSize();return new ce(o.min.unscaleBy(d).floor(),o.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function $i(o){return new ea(o)}var ta=ea.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,d){this._url=o,d=B(this,d),d.detectRetina&&De.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,d){return this._url===o&&d===void 0&&(d=!0),this._url=o,d||this.redraw(),this},createTile:function(o,d){var y=document.createElement("img");return ze(y,"load",h(this._tileOnLoad,this,d,y)),ze(y,"error",h(this._tileOnError,this,d,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var d={r:De.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(d.y=y),d["-y"]=y}return H(this._url,a(d,this.options))},_tileOnLoad:function(o,d){De.ielt9?setTimeout(h(o,this,null,d),0):o(null,d)},_tileOnError:function(o,d,y){var w=this.options.errorTileUrl;w&&d.getAttribute("src")!==w&&(d.src=w),o(y,d)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,d=this.options.maxZoom,y=this.options.zoomReverse,w=this.options.zoomOffset;return y&&(o=d-o),o+w},_getSubdomain:function(o){var d=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var o,d;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(d=this._tiles[o].el,d.onload=T,d.onerror=T,!d.complete)){d.src=ee;var y=this._tiles[o].coords;dt(d),delete this._tiles[o],this.fire("tileabort",{tile:d,coords:y})}},_removeTile:function(o){var d=this._tiles[o];if(d)return d.el.setAttribute("src",ee),ea.prototype._removeTile.call(this,o)},_tileReady:function(o,d,y){if(!(!this._map||y&&y.getAttribute("src")===ee))return ea.prototype._tileReady.call(this,o,d,y)}});function mi(o,d){return new ta(o,d)}var pi=ta.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,d){this._url=o;var y=a({},this.defaultWmsParams);for(var w in d)w in this.options||(y[w]=d[w]);d=B(this,d);var S=d.detectRetina&&De.retina?2:1,R=this.getTileSize();y.width=R.x*S,y.height=R.y*S,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,ta.prototype.onAdd.call(this,o)},getTileUrl:function(o){var d=this._tileCoordsToNwSe(o),y=this._crs,w=_e(y.project(d[0]),y.project(d[1])),S=w.min,R=w.max,Z=(this._wmsVersion>=1.3&&this._crs===Fa?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),te=ta.prototype.getTileUrl.call(this,o);return te+V(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(o,d){return a(this.wmsParams,o),d||this.redraw(),this}});function $a(o,d){return new pi(o,d)}ta.WMS=pi,mi.wms=$a;var Yi=Zi.extend({options:{padding:.1},initialize:function(o){B(this,o),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,d){var y=this._map.getZoomScale(d,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,d),R=w.multiplyBy(-y).add(S).subtract(this._map._getNewPixelOrigin(o,d));De.any3d?Gn(this._container,R,y):Dt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,d=this._map.getSize(),y=this._map.containerPointToLayerPoint(d.multiplyBy(-o)).round();this._bounds=new ce(y,y.add(d.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ol=Yi.extend({options:{tolerance:0},getEvents:function(){var o=Yi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ze(o,"mousemove",this._onMouseMove,this),ze(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,dt(this._container),ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var d in this._layers)o=this._layers[d],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yi.prototype._update.call(this);var o=this._bounds,d=this._container,y=o.getSize(),w=De.retina?2:1;Dt(d,o.min),d.width=w*y.x,d.height=w*y.y,d.style.width=y.x+"px",d.style.height=y.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Yi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[g(o)]=o;var d=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var d=o._order,y=d.next,w=d.prev;y?y.prev=w:this._drawLast=w,w?w.next=y:this._drawFirst=y,delete o._order,delete this._layers[g(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var d=o.options.dashArray.split(/[, ]+/),y=[],w,S;for(S=0;S<d.length;S++){if(w=Number(d[S]),isNaN(w))return;y.push(w)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var d=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(o._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(o._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var d=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,d=this._redrawBounds;if(this._ctx.save(),d){var y=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!d||o._pxBounds&&o._pxBounds.intersects(d))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,d){if(this._drawing){var y,w,S,R,Z=o._parts,te=Z.length,de=this._ctx;if(te){for(de.beginPath(),y=0;y<te;y++){for(w=0,S=Z[y].length;w<S;w++)R=Z[y][w],de[w?"lineTo":"moveTo"](R.x,R.y);d&&de.closePath()}this._fillStroke(de,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var d=o._point,y=this._ctx,w=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||w)/w;S!==1&&(y.save(),y.scale(1,S)),y.beginPath(),y.arc(d.x,d.y/S,w,0,Math.PI*2,!1),S!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,d){var y=d.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(d.options&&d.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var d=this._map.mouseEventToLayerPoint(o),y,w,S=this._drawFirst;S;S=S.next)y=S.layer,y.options.interactive&&y._containsPoint(d)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(w=y);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,d)}},_handleMouseOut:function(o){var d=this._hoveredLayer;d&&(_t(this._container,"leaflet-interactive"),this._fireEvent([d],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,d){if(!this._mouseHoverThrottled){for(var y,w,S=this._drawFirst;S;S=S.next)y=S.layer,y.options.interactive&&y._containsPoint(d)&&(w=y);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(je(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,d,y){this._map._fireDOMEvent(d,y||d.type,o)},_bringToFront:function(o){var d=o._order;if(d){var y=d.next,w=d.prev;if(y)y.prev=w;else return;w?w.next=y:y&&(this._drawFirst=y),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(o)}},_bringToBack:function(o){var d=o._order;if(d){var y=d.next,w=d.prev;if(w)w.next=y;else return;y?y.prev=w:w&&(this._drawLast=w),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(o)}}});function ll(o){return De.canvas?new ol(o):null}var na=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ya={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var d=o._container=na("shape");je(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",o._path=na("path"),d.appendChild(o._path),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){var d=o._container;this._container.appendChild(d),o.options.interactive&&o.addInteractiveTarget(d)},_removePath:function(o){var d=o._container;dt(d),o.removeInteractiveTarget(d),delete this._layers[g(o)]},_updateStyle:function(o){var d=o._stroke,y=o._fill,w=o.options,S=o._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(d||(d=o._stroke=na("stroke")),S.appendChild(d),d.weight=w.weight+"px",d.color=w.color,d.opacity=w.opacity,w.dashArray?d.dashStyle=$(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=w.lineCap.replace("butt","flat"),d.joinstyle=w.lineJoin):d&&(S.removeChild(d),o._stroke=null),w.fill?(y||(y=o._fill=na("fill")),S.appendChild(y),y.color=w.fillColor||w.color,y.opacity=w.fillOpacity):y&&(S.removeChild(y),o._fill=null)},_updateCircle:function(o){var d=o._point.round(),y=Math.round(o._radius),w=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+d.x+","+d.y+" "+y+","+w+" 0,"+65535*360)},_setPath:function(o,d){o._path.v=d},_bringToFront:function(o){ri(o._container)},_bringToBack:function(o){Ei(o._container)}},cl=De.vml?na:Gl,yr=Yi.extend({_initContainer:function(){this._container=cl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yi.prototype._update.call(this);var o=this._bounds,d=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,y.setAttribute("width",d.x),y.setAttribute("height",d.y)),Dt(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(o){var d=o._path=cl("path");o.options.className&&je(d,o.options.className),o.options.interactive&&je(d,"leaflet-interactive"),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){dt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[g(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var d=o._path,y=o.options;d&&(y.stroke?(d.setAttribute("stroke",y.color),d.setAttribute("stroke-opacity",y.opacity),d.setAttribute("stroke-width",y.weight),d.setAttribute("stroke-linecap",y.lineCap),d.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?d.setAttribute("stroke-dasharray",y.dashArray):d.removeAttribute("stroke-dasharray"),y.dashOffset?d.setAttribute("stroke-dashoffset",y.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),y.fill?(d.setAttribute("fill",y.fillColor||y.color),d.setAttribute("fill-opacity",y.fillOpacity),d.setAttribute("fill-rule",y.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(o,d){this._setPath(o,ja(o._parts,d))},_updateCircle:function(o){var d=o._point,y=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||y,S="a"+y+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(d.x-y)+","+d.y+S+y*2+",0 "+S+-y*2+",0 ";this._setPath(o,R)},_setPath:function(o,d){o._path.setAttribute("d",d)},_bringToFront:function(o){ri(o._path)},_bringToBack:function(o){Ei(o._path)}});De.vml&&yr.include(Ya);function ia(o){return De.svg||De.vml?new yr(o):null}Je.include({getRenderer:function(o){var d=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var d=this._paneRenderers[o];return d===void 0&&(d=this._createRenderer({pane:o}),this._paneRenderers[o]=d),d},_createRenderer:function(o){return this.options.preferCanvas&&ll(o)||ia(o)}});var jd=Za.extend({initialize:function(o,d){Za.prototype.initialize.call(this,this._boundsToLatLngs(o),d)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Se(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function gi(o,d){return new jd(o,d)}yr.create=cl,yr.pointsToPath=ja,fi.geometryToLayer=il,fi.coordsToLatLng=sc,fi.coordsToLatLngs=sl,fi.latLngToCoords=rl,fi.latLngsToCoords=rc,fi.getFeature=Wi,fi.asFeature=Wa,Je.mergeOptions({boxZoom:!0});var cc=Wn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sn(),ur(),this._startPoint=this._map.mouseEventToContainerPoint(o),ze(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var d=new ce(this._point,this._startPoint),y=d.getSize();Dt(this._box,d.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(dt(this._box),_t(this._container,"leaflet-crosshair")),ai(),La(),ft(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var d=new we(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",cc),Je.mergeOptions({doubleClickZoom:!0});var vs=Wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var d=this._map,y=d.getZoom(),w=d.options.zoomDelta,S=o.originalEvent.shiftKey?y-w:y+w;d.options.doubleClickZoom==="center"?d.setZoom(S):d.setZoomAround(o.containerPoint,S)}});Je.addInitHook("addHandler","doubleClickZoom",vs),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ju=Wn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Hi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Se(this._map.options.maxBounds);this._offsetLimit=_e(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var d=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(d),this._prunePositions(d)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,d){return o-(o-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;o.x<d.min.x&&(o.x=this._viscousLimit(o.x,d.min.x)),o.y<d.min.y&&(o.y=this._viscousLimit(o.y,d.min.y)),o.x>d.max.x&&(o.x=this._viscousLimit(o.x,d.max.x)),o.y>d.max.y&&(o.y=this._viscousLimit(o.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,d=Math.round(o/2),y=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-d+y)%o+d-y,R=(w+d+y)%o-d-y,Z=Math.abs(S+y)<Math.abs(R+y)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(o){var d=this._map,y=d.options,w=!y.inertia||o.noInertia||this._times.length<2;if(d.fire("dragend",o),w)d.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,Z=y.easeLinearity,te=S.multiplyBy(Z/R),de=te.distanceTo([0,0]),be=Math.min(y.inertiaMaxSpeed,de),Ne=te.multiplyBy(be/de),Ie=be/(y.inertiaDeceleration*Z),Me=Ne.multiplyBy(-Ie/2).round();!Me.x&&!Me.y?d.fire("moveend"):(Me=d._limitOffset(Me,d.options.maxBounds),F(function(){d.panBy(Me,{duration:Ie,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Je.addInitHook("addHandler","dragging",ju),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ul=Wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ze(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,d=document.documentElement,y=o.scrollTop||d.scrollTop,w=o.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(w,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var d=this._panKeys={},y=this.keyCodes,w,S;for(w=0,S=y.left.length;w<S;w++)d[y.left[w]]=[-1*o,0];for(w=0,S=y.right.length;w<S;w++)d[y.right[w]]=[o,0];for(w=0,S=y.down.length;w<S;w++)d[y.down[w]]=[0,o];for(w=0,S=y.up.length;w<S;w++)d[y.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var d=this._zoomKeys={},y=this.keyCodes,w,S;for(w=0,S=y.zoomIn.length;w<S;w++)d[y.zoomIn[w]]=o;for(w=0,S=y.zoomOut.length;w<S;w++)d[y.zoomOut[w]]=-o},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var d=o.keyCode,y=this._map,w;if(d in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(w=this._panKeys[d],o.shiftKey&&(w=z(w).multiplyBy(3)),y.options.maxBounds&&(w=y._limitOffset(z(w),y.options.maxBounds)),y.options.worldCopyJump){var S=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(w)));y.panTo(S)}else y.panBy(w)}else if(d in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;li(o)}}});Je.addInitHook("addHandler","keyboard",ul),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vr=Wn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var d=mr(o),y=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),w),li(o)},_performZoom:function(){var o=this._map,d=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=y?Math.ceil(S/y)*y:S,Z=o._limitZoom(d+(this._delta>0?R:-R))-d;this._delta=0,this._startTime=null,Z&&(o.options.scrollWheelZoom==="center"?o.setZoom(d+Z):o.setZoomAround(this._lastMousePos,d+Z))}});Je.addInitHook("addHandler","scrollWheelZoom",vr);var Pu=600;Je.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var uc=Wn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var d=o.touches[0];this._startPos=this._newPos=new re(d.clientX,d.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Lt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),Pu),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ft(document,"touchend",Lt),ft(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)},_onMove:function(o){var d=o.touches[0];this._newPos=new re(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,d){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});y._simulated=!0,d.target.dispatchEvent(y)}});Je.addInitHook("addHandler","tapHold",uc),Je.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var sa=Wn.extend({addHooks:function(){je(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var d=this._map;if(!(!o.touches||o.touches.length!==2||d._animatingZoom||this._zooming)){var y=d.mouseEventToContainerPoint(o.touches[0]),w=d.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(y.add(w)._divideBy(2))),this._startDist=y.distanceTo(w),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Lt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var d=this._map,y=d.mouseEventToContainerPoint(o.touches[0]),w=d.mouseEventToContainerPoint(o.touches[1]),S=y.distanceTo(w)/this._startDist;if(this._zoom=d.getScaleZoom(S,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&S<1||this._zoom>d.getMaxZoom()&&S>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=y._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var Z=h(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(Z,this,!0),Lt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Je.addInitHook("addHandler","touchZoom",sa),Je.BoxZoom=cc,Je.DoubleClickZoom=vs,Je.Drag=ju,Je.Keyboard=ul,Je.ScrollWheelZoom=vr,Je.TapHold=uc,Je.TouchZoom=sa,n.Bounds=ce,n.Browser=De,n.CRS=bt,n.Canvas=ol,n.Circle=Nu,n.CircleMarker=nl,n.Class=ke,n.Control=yn,n.DivIcon=Ru,n.DivOverlay=Ki,n.DomEvent=$r,n.DomUtil=Xl,n.Draggable=Hi,n.Evented=ye,n.FeatureGroup=hi,n.GeoJSON=fi,n.GridLayer=ea,n.Handler=Wn,n.Icon=Ha,n.ImageOverlay=ys,n.LatLng=Re,n.LatLngBounds=we,n.Layer=Zi,n.LayerGroup=Xr,n.LineUtil=ci,n.Map=Je,n.Marker=Ga,n.Mixin=tc,n.Path=Gs,n.Point=re,n.PolyUtil=Ba,n.Polygon=Za,n.Polyline=Zs,n.Popup=al,n.PosAnimation=Yr,n.Projection=qi,n.Rectangle=jd,n.Renderer=Yi,n.SVG=yr,n.SVGOverlay=gr,n.TileLayer=ta,n.Tooltip=lc,n.Transformation=ar,n.Util=q,n.VideoOverlay=oc,n.bind=h,n.bounds=_e,n.canvas=ll,n.circle=gp,n.circleMarker=Sd,n.control=Fi,n.divIcon=Rd,n.extend=a,n.featureGroup=tl,n.geoJSON=ac,n.geoJson=Ad,n.gridLayer=$i,n.icon=ic,n.imageOverlay=Ka,n.latLng=Te,n.latLngBounds=Se,n.layerGroup=Ed,n.map=ps,n.marker=Au,n.point=z,n.polygon=di,n.polyline=yp,n.popup=vp,n.rectangle=gi,n.setOptions=B,n.stamp=g,n.svg=ia,n.svgOverlay=Cd,n.tileLayer=mi,n.tooltip=xp,n.transformation=ss,n.version=i,n.videoOverlay=Nd;var Qa=window.L;n.noConflict=function(){return window.L=Qa,this},window.L=n}))})(Th,Th.exports)),Th.exports}var pd=D3();const Ps=DE(pd);function Mv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function kv(t,e){return e==null?function(i,a){const c=U.useRef(void 0);return c.current||(c.current=t(i,a)),c}:function(i,a){const c=U.useRef(void 0);c.current||(c.current=t(i,a));const h=U.useRef(i),{instance:m}=c.current;return U.useEffect(function(){h.current!==i&&(e(m,i,h.current),h.current=i)},[m,i,e]),c}}function L3(t,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function PA(t){return function(n){const i=Dv(),a=t(Lv(n,i),i);return RA(i.map,n.attribution),jA(a.current,n.eventHandlers),L3(a.current,i),a}}function M3(t,e){const n=kv(t,e),i=PA(n);return C3(i)}function k3(t,e){const n=kv(t),i=P3(n,e);return R3(i)}function O3(t,e){const n=kv(t,e),i=PA(n);return j3(i)}function V3(t,e,n){const{opacity:i,zIndex:a}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function U3(){return Dv().map}function B3(t){const e=U3();return U.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function z3({bounds:t,boundsOptions:e,center:n,children:i,className:a,id:c,placeholder:h,style:m,whenReady:g,zoom:x,..._},T){const[A]=U.useState({className:a,id:c,style:m}),[I,P]=U.useState(null),B=U.useRef(void 0);U.useImperativeHandle(T,()=>I?.map??null,[I]);const V=U.useCallback(H=>{if(H!==null&&!B.current){const $=new pd.Map(H,_);B.current=$,n!=null&&x!=null?$.setView(n,x):t!=null&&$.fitBounds(t,e),g!=null&&$.whenReady(g),P(A3($))}},[]);U.useEffect(()=>()=>{I?.map.remove()},[I]);const K=I?Py.createElement(Iv,{value:I},i):h??null;return Py.createElement("div",{...A,ref:V},K)}const Ov=U.forwardRef(z3),Vv=M3(function({position:e,...n},i){const a=new pd.Marker(e,n);return Mv(a,N3(i,{overlayContainer:a}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Uv=k3(function(e,n){const i=new pd.Popup(e,n.overlayContainer);return Mv(i,n)},function(e,n,{position:i},a){U.useEffect(function(){const{instance:h}=e;function m(x){x.popup===h&&(h.update(),a(!0))}function g(x){x.popup===h&&a(!1)}return n.map.on({popupopen:m,popupclose:g}),n.overlayContainer==null?(i!=null&&h.setLatLng(i),h.openOn(n.map)):n.overlayContainer.bindPopup(h),function(){n.map.off({popupopen:m,popupclose:g}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(h)}},[e,n,a,i])}),Bv=O3(function({url:e,...n},i){const a=new pd.TileLayer(e,Lv(n,i));return Mv(a,i)},function(e,n,i){V3(e,n,i);const{url:a}=n;a!=null&&a!==i.url&&e.setUrl(a)});function IA(t,e){return function(){return t.apply(e,arguments)}}const{toString:F3}=Object.prototype,{getPrototypeOf:zv}=Object,{iterator:ap,toStringTag:DA}=Symbol,op=(t=>e=>{const n=F3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rr=t=>(t=t.toLowerCase(),e=>op(e)===t),lp=t=>e=>typeof e===t,{isArray:vu}=Array,su=lp("undefined");function gd(t){return t!==null&&!su(t)&&t.constructor!==null&&!su(t.constructor)&&Li(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LA=rr("ArrayBuffer");function H3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LA(t.buffer),e}const q3=lp("string"),Li=lp("function"),MA=lp("number"),yd=t=>t!==null&&typeof t=="object",G3=t=>t===!0||t===!1,em=t=>{if(op(t)!=="object")return!1;const e=zv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(DA in t)&&!(ap in t)},Z3=t=>{if(!yd(t)||gd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},W3=rr("Date"),K3=rr("File"),$3=rr("Blob"),Y3=rr("FileList"),Q3=t=>yd(t)&&Li(t.pipe),X3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Li(t.append)&&((e=op(t))==="formdata"||e==="object"&&Li(t.toString)&&t.toString()==="[object FormData]"))},J3=rr("URLSearchParams"),[e6,t6,n6,i6]=["ReadableStream","Request","Response","Headers"].map(rr),s6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),vu(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{if(gd(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),h=c.length;let m;for(i=0;i<h;i++)m=c[i],e.call(null,t[m],m,t)}}function kA(t,e){if(gd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const Al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OA=t=>!su(t)&&t!==Al;function a0(){const{caseless:t,skipUndefined:e}=OA(this)&&this||{},n={},i=(a,c)=>{const h=t&&kA(n,c)||c;em(n[h])&&em(a)?n[h]=a0(n[h],a):em(a)?n[h]=a0({},a):vu(a)?n[h]=a.slice():(!e||!su(a))&&(n[h]=a)};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&vd(arguments[a],i);return n}const r6=(t,e,n,{allOwnKeys:i}={})=>(vd(e,(a,c)=>{n&&Li(a)?t[c]=IA(a,n):t[c]=a},{allOwnKeys:i}),t),a6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),o6=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},l6=(t,e,n,i)=>{let a,c,h;const m={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)h=a[c],(!i||i(h,t,e))&&!m[h]&&(e[h]=t[h],m[h]=!0);t=n!==!1&&zv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},c6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},u6=t=>{if(!t)return null;if(vu(t))return t;let e=t.length;if(!MA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},h6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zv(Uint8Array)),d6=(t,e)=>{const i=(t&&t[ap]).call(t);let a;for(;(a=i.next())&&!a.done;){const c=a.value;e.call(t,c[0],c[1])}},f6=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},m6=rr("HTMLFormElement"),p6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),iT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),g6=rr("RegExp"),VA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};vd(n,(a,c)=>{let h;(h=e(a,c,t))!==!1&&(i[c]=h||a)}),Object.defineProperties(t,i)},y6=t=>{VA(t,(e,n)=>{if(Li(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Li(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v6=(t,e)=>{const n={},i=a=>{a.forEach(c=>{n[c]=!0})};return vu(t)?i(t):i(String(t).split(e)),n},x6=()=>{},_6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function b6(t){return!!(t&&Li(t.append)&&t[DA]==="FormData"&&t[ap])}const w6=t=>{const e=new Array(10),n=(i,a)=>{if(yd(i)){if(e.indexOf(i)>=0)return;if(gd(i))return i;if(!("toJSON"in i)){e[a]=i;const c=vu(i)?[]:{};return vd(i,(h,m)=>{const g=n(h,a+1);!su(g)&&(c[m]=g)}),e[a]=void 0,c}}return i};return n(t,0)},T6=rr("AsyncFunction"),E6=t=>t&&(yd(t)||Li(t))&&Li(t.then)&&Li(t.catch),UA=((t,e)=>t?setImmediate:e?((n,i)=>(Al.addEventListener("message",({source:a,data:c})=>{a===Al&&c===n&&i.length&&i.shift()()},!1),a=>{i.push(a),Al.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Li(Al.postMessage)),S6=typeof queueMicrotask<"u"?queueMicrotask.bind(Al):typeof process<"u"&&process.nextTick||UA,A6=t=>t!=null&&Li(t[ap]),fe={isArray:vu,isArrayBuffer:LA,isBuffer:gd,isFormData:X3,isArrayBufferView:H3,isString:q3,isNumber:MA,isBoolean:G3,isObject:yd,isPlainObject:em,isEmptyObject:Z3,isReadableStream:e6,isRequest:t6,isResponse:n6,isHeaders:i6,isUndefined:su,isDate:W3,isFile:K3,isBlob:$3,isRegExp:g6,isFunction:Li,isStream:Q3,isURLSearchParams:J3,isTypedArray:h6,isFileList:Y3,forEach:vd,merge:a0,extend:r6,trim:s6,stripBOM:a6,inherits:o6,toFlatObject:l6,kindOf:op,kindOfTest:rr,endsWith:c6,toArray:u6,forEachEntry:d6,matchAll:f6,isHTMLForm:m6,hasOwnProperty:iT,hasOwnProp:iT,reduceDescriptors:VA,freezeMethods:y6,toObjectSet:v6,toCamelCase:p6,noop:x6,toFiniteNumber:_6,findKey:kA,global:Al,isContextDefined:OA,isSpecCompliantForm:b6,toJSONObject:w6,isAsyncFn:T6,isThenable:E6,setImmediate:UA,asap:S6,isIterable:A6};function et(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}fe.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const BA=et.prototype,zA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zA[t]={value:t}});Object.defineProperties(et,zA);Object.defineProperty(BA,"isAxiosError",{value:!0});et.from=(t,e,n,i,a,c)=>{const h=Object.create(BA);fe.toFlatObject(t,h,function(_){return _!==Error.prototype},x=>x!=="isAxiosError");const m=t&&t.message?t.message:"Error",g=e==null&&t?t.code:e;return et.call(h,m,g,n,i,a),t&&h.cause==null&&Object.defineProperty(h,"cause",{value:t,configurable:!0}),h.name=t&&t.name||"Error",c&&Object.assign(h,c),h};const N6=null;function o0(t){return fe.isPlainObject(t)||fe.isArray(t)}function FA(t){return fe.endsWith(t,"[]")?t.slice(0,-2):t}function sT(t,e,n){return t?t.concat(e).map(function(a,c){return a=FA(a),!n&&c?"["+a+"]":a}).join(n?".":""):e}function C6(t){return fe.isArray(t)&&!t.some(o0)}const R6=fe.toFlatObject(fe,{},null,function(e){return/^is[A-Z]/.test(e)});function cp(t,e,n){if(!fe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,V){return!fe.isUndefined(V[B])});const i=n.metaTokens,a=n.visitor||_,c=n.dots,h=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(e);if(!fe.isFunction(a))throw new TypeError("visitor must be a function");function x(P){if(P===null)return"";if(fe.isDate(P))return P.toISOString();if(fe.isBoolean(P))return P.toString();if(!g&&fe.isBlob(P))throw new et("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(P)||fe.isTypedArray(P)?g&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,B,V){let K=P;if(P&&!V&&typeof P=="object"){if(fe.endsWith(B,"{}"))B=i?B:B.slice(0,-2),P=JSON.stringify(P);else if(fe.isArray(P)&&C6(P)||(fe.isFileList(P)||fe.endsWith(B,"[]"))&&(K=fe.toArray(P)))return B=FA(B),K.forEach(function($,X){!(fe.isUndefined($)||$===null)&&e.append(h===!0?sT([B],X,c):h===null?B:B+"[]",x($))}),!1}return o0(P)?!0:(e.append(sT(V,B,c),x(P)),!1)}const T=[],A=Object.assign(R6,{defaultVisitor:_,convertValue:x,isVisitable:o0});function I(P,B){if(!fe.isUndefined(P)){if(T.indexOf(P)!==-1)throw Error("Circular reference detected in "+B.join("."));T.push(P),fe.forEach(P,function(K,H){(!(fe.isUndefined(K)||K===null)&&a.call(e,K,fe.isString(H)?H.trim():H,B,A))===!0&&I(K,B?B.concat(H):[H])}),T.pop()}}if(!fe.isObject(t))throw new TypeError("data must be an object");return I(t),e}function rT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Fv(t,e){this._pairs=[],t&&cp(t,this,e)}const HA=Fv.prototype;HA.append=function(e,n){this._pairs.push([e,n])};HA.toString=function(e){const n=e?function(i){return e.call(this,i,rT)}:rT;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function j6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qA(t,e,n){if(!e)return t;const i=n&&n.encode||j6;fe.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(e,n):c=fe.isURLSearchParams(e)?e.toString():new Fv(e,n).toString(i),c){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class aT{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const GA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},P6=typeof URLSearchParams<"u"?URLSearchParams:Fv,I6=typeof FormData<"u"?FormData:null,D6=typeof Blob<"u"?Blob:null,L6={isBrowser:!0,classes:{URLSearchParams:P6,FormData:I6,Blob:D6},protocols:["http","https","file","blob","url","data"]},Hv=typeof window<"u"&&typeof document<"u",l0=typeof navigator=="object"&&navigator||void 0,M6=Hv&&(!l0||["ReactNative","NativeScript","NS"].indexOf(l0.product)<0),k6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O6=Hv&&window.location.href||"http://localhost",V6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hv,hasStandardBrowserEnv:M6,hasStandardBrowserWebWorkerEnv:k6,navigator:l0,origin:O6},Symbol.toStringTag,{value:"Module"})),Jn={...V6,...L6};function U6(t,e){return cp(t,new Jn.classes.URLSearchParams,{visitor:function(n,i,a,c){return Jn.isNode&&fe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function B6(t){return fe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z6(t){const e={},n=Object.keys(t);let i;const a=n.length;let c;for(i=0;i<a;i++)c=n[i],e[c]=t[c];return e}function ZA(t){function e(n,i,a,c){let h=n[c++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=c>=n.length;return h=!h&&fe.isArray(a)?a.length:h,g?(fe.hasOwnProp(a,h)?a[h]=[a[h],i]:a[h]=i,!m):((!a[h]||!fe.isObject(a[h]))&&(a[h]=[]),e(n,i,a[h],c)&&fe.isArray(a[h])&&(a[h]=z6(a[h])),!m)}if(fe.isFormData(t)&&fe.isFunction(t.entries)){const n={};return fe.forEachEntry(t,(i,a)=>{e(B6(i),a,n,0)}),n}return null}function F6(t,e,n){if(fe.isString(t))try{return(e||JSON.parse)(t),fe.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const xd={transitional:GA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,c=fe.isObject(e);if(c&&fe.isHTMLForm(e)&&(e=new FormData(e)),fe.isFormData(e))return a?JSON.stringify(ZA(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return U6(e,this.formSerializer).toString();if((m=fe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return cp(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),F6(e)):e}],transformResponse:[function(e){const n=this.transitional||xd.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(i&&!this.responseType||a)){const h=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?et.from(m,et.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jn.classes.FormData,Blob:Jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],t=>{xd.headers[t]={}});const H6=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q6=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(h){a=h.indexOf(":"),n=h.substring(0,a).trim().toLowerCase(),i=h.substring(a+1).trim(),!(!n||e[n]&&H6[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},oT=Symbol("internals");function mh(t){return t&&String(t).trim().toLowerCase()}function tm(t){return t===!1||t==null?t:fe.isArray(t)?t.map(tm):String(t)}function G6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Z6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dy(t,e,n,i,a){if(fe.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!fe.isString(e)){if(fe.isString(i))return e.indexOf(i)!==-1;if(fe.isRegExp(i))return i.test(e)}}function W6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function K6(t,e){const n=fe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,c,h){return this[i].call(this,e,a,c,h)},configurable:!0})})}let Mi=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function c(m,g,x){const _=mh(g);if(!_)throw new Error("header name must be a non-empty string");const T=fe.findKey(a,_);(!T||a[T]===void 0||x===!0||x===void 0&&a[T]!==!1)&&(a[T||g]=tm(m))}const h=(m,g)=>fe.forEach(m,(x,_)=>c(x,_,g));if(fe.isPlainObject(e)||e instanceof this.constructor)h(e,n);else if(fe.isString(e)&&(e=e.trim())&&!Z6(e))h(q6(e),n);else if(fe.isObject(e)&&fe.isIterable(e)){let m={},g,x;for(const _ of e){if(!fe.isArray(_))throw TypeError("Object iterator must return a key-value pair");m[x=_[0]]=(g=m[x])?fe.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}h(m,n)}else e!=null&&c(n,e,i);return this}get(e,n){if(e=mh(e),e){const i=fe.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return G6(a);if(fe.isFunction(n))return n.call(this,a,i);if(fe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=mh(e),e){const i=fe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||dy(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function c(h){if(h=mh(h),h){const m=fe.findKey(i,h);m&&(!n||dy(i,i[m],m,n))&&(delete i[m],a=!0)}}return fe.isArray(e)?e.forEach(c):c(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const c=n[i];(!e||dy(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const n=this,i={};return fe.forEach(this,(a,c)=>{const h=fe.findKey(i,c);if(h){n[h]=tm(a),delete n[c];return}const m=e?W6(c):String(c).trim();m!==c&&delete n[c],n[m]=tm(a),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return fe.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&fe.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[oT]=this[oT]={accessors:{}}).accessors,a=this.prototype;function c(h){const m=mh(h);i[m]||(K6(a,h),i[m]=!0)}return fe.isArray(e)?e.forEach(c):c(e),this}};Mi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Mi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});fe.freezeMethods(Mi);function fy(t,e){const n=this||xd,i=e||n,a=Mi.from(i.headers);let c=i.data;return fe.forEach(t,function(m){c=m.call(n,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function WA(t){return!!(t&&t.__CANCEL__)}function xu(t,e,n){et.call(this,t??"canceled",et.ERR_CANCELED,e,n),this.name="CanceledError"}fe.inherits(xu,et,{__CANCEL__:!0});function KA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y6(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,c=0,h;return e=e!==void 0?e:1e3,function(g){const x=Date.now(),_=i[c];h||(h=x),n[a]=g,i[a]=x;let T=c,A=0;for(;T!==a;)A+=n[T++],T=T%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),x-h<e)return;const I=_&&x-_;return I?Math.round(A*1e3/I):void 0}}function Q6(t,e){let n=0,i=1e3/e,a,c;const h=(x,_=Date.now())=>{n=_,a=null,c&&(clearTimeout(c),c=null),t(...x)};return[(...x)=>{const _=Date.now(),T=_-n;T>=i?h(x,_):(a=x,c||(c=setTimeout(()=>{c=null,h(a)},i-T)))},()=>a&&h(a)]}const Nm=(t,e,n=3)=>{let i=0;const a=Y6(50,250);return Q6(c=>{const h=c.loaded,m=c.lengthComputable?c.total:void 0,g=h-i,x=a(g),_=h<=m;i=h;const T={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:x||void 0,estimated:x&&m&&_?(m-h)/x:void 0,event:c,lengthComputable:m!=null,[e?"download":"upload"]:!0};t(T)},n)},lT=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},cT=t=>(...e)=>fe.asap(()=>t(...e)),X6=Jn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Jn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Jn.origin),Jn.navigator&&/(msie|trident)/i.test(Jn.navigator.userAgent)):()=>!0,J6=Jn.hasStandardBrowserEnv?{write(t,e,n,i,a,c){const h=[t+"="+encodeURIComponent(e)];fe.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),fe.isString(i)&&h.push("path="+i),fe.isString(a)&&h.push("domain="+a),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function e5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function t5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $A(t,e,n){let i=!e5(e);return t&&(i||n==!1)?t5(t,e):e}const uT=t=>t instanceof Mi?{...t}:t;function Ul(t,e){e=e||{};const n={};function i(x,_,T,A){return fe.isPlainObject(x)&&fe.isPlainObject(_)?fe.merge.call({caseless:A},x,_):fe.isPlainObject(_)?fe.merge({},_):fe.isArray(_)?_.slice():_}function a(x,_,T,A){if(fe.isUndefined(_)){if(!fe.isUndefined(x))return i(void 0,x,T,A)}else return i(x,_,T,A)}function c(x,_){if(!fe.isUndefined(_))return i(void 0,_)}function h(x,_){if(fe.isUndefined(_)){if(!fe.isUndefined(x))return i(void 0,x)}else return i(void 0,_)}function m(x,_,T){if(T in e)return i(x,_);if(T in t)return i(void 0,x)}const g={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(x,_,T)=>a(uT(x),uT(_),T,!0)};return fe.forEach(Object.keys({...t,...e}),function(_){const T=g[_]||a,A=T(t[_],e[_],_);fe.isUndefined(A)&&T!==m||(n[_]=A)}),n}const YA=t=>{const e=Ul({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:h,auth:m}=e;if(e.headers=h=Mi.from(h),e.url=qA($A(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),fe.isFormData(n)){if(Jn.hasStandardBrowserEnv||Jn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(fe.isFunction(n.getHeaders)){const g=n.getHeaders(),x=["content-type","content-length"];Object.entries(g).forEach(([_,T])=>{x.includes(_.toLowerCase())&&h.set(_,T)})}}if(Jn.hasStandardBrowserEnv&&(i&&fe.isFunction(i)&&(i=i(e)),i||i!==!1&&X6(e.url))){const g=a&&c&&J6.read(c);g&&h.set(a,g)}return e},n5=typeof XMLHttpRequest<"u",i5=n5&&function(t){return new Promise(function(n,i){const a=YA(t);let c=a.data;const h=Mi.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:x}=a,_,T,A,I,P;function B(){I&&I(),P&&P(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let V=new XMLHttpRequest;V.open(a.method.toUpperCase(),a.url,!0),V.timeout=a.timeout;function K(){if(!V)return;const $=Mi.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),ee={data:!m||m==="text"||m==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:$,config:t,request:V};KA(function(O){n(O),B()},function(O){i(O),B()},ee),V=null}"onloadend"in V?V.onloadend=K:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(K)},V.onabort=function(){V&&(i(new et("Request aborted",et.ECONNABORTED,t,V)),V=null)},V.onerror=function(X){const ee=X&&X.message?X.message:"Network Error",oe=new et(ee,et.ERR_NETWORK,t,V);oe.event=X||null,i(oe),V=null},V.ontimeout=function(){let X=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ee=a.transitional||GA;a.timeoutErrorMessage&&(X=a.timeoutErrorMessage),i(new et(X,ee.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,t,V)),V=null},c===void 0&&h.setContentType(null),"setRequestHeader"in V&&fe.forEach(h.toJSON(),function(X,ee){V.setRequestHeader(ee,X)}),fe.isUndefined(a.withCredentials)||(V.withCredentials=!!a.withCredentials),m&&m!=="json"&&(V.responseType=a.responseType),x&&([A,P]=Nm(x,!0),V.addEventListener("progress",A)),g&&V.upload&&([T,I]=Nm(g),V.upload.addEventListener("progress",T),V.upload.addEventListener("loadend",I)),(a.cancelToken||a.signal)&&(_=$=>{V&&(i(!$||$.type?new xu(null,t,V):$),V.abort(),V=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const H=$6(a.url);if(H&&Jn.protocols.indexOf(H)===-1){i(new et("Unsupported protocol "+H+":",et.ERR_BAD_REQUEST,t));return}V.send(c||null)})},s5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const c=function(x){if(!a){a=!0,m();const _=x instanceof Error?x:this.reason;i.abort(_ instanceof et?_:new xu(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,c(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const m=()=>{t&&(h&&clearTimeout(h),h=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(c):x.removeEventListener("abort",c)}),t=null)};t.forEach(x=>x.addEventListener("abort",c));const{signal:g}=i;return g.unsubscribe=()=>fe.asap(m),g}},r5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},a5=async function*(t,e){for await(const n of o5(t))yield*r5(n,e)},o5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},hT=(t,e,n,i)=>{const a=a5(t,e);let c=0,h,m=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:x,value:_}=await a.next();if(x){m(),g.close();return}let T=_.byteLength;if(n){let A=c+=T;n(A)}g.enqueue(new Uint8Array(_))}catch(x){throw m(x),x}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},dT=64*1024,{isFunction:Mf}=fe,l5=(({Request:t,Response:e})=>({Request:t,Response:e}))(fe.global),{ReadableStream:fT,TextEncoder:mT}=fe.global,pT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},c5=t=>{t=fe.merge.call({skipUndefined:!0},l5,t);const{fetch:e,Request:n,Response:i}=t,a=e?Mf(e):typeof fetch=="function",c=Mf(n),h=Mf(i);if(!a)return!1;const m=a&&Mf(fT),g=a&&(typeof mT=="function"?(P=>B=>P.encode(B))(new mT):async P=>new Uint8Array(await new n(P).arrayBuffer())),x=c&&m&&pT(()=>{let P=!1;const B=new n(Jn.origin,{body:new fT,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!B}),_=h&&m&&pT(()=>fe.isReadableStream(new i("").body)),T={stream:_&&(P=>P.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!T[P]&&(T[P]=(B,V)=>{let K=B&&B[P];if(K)return K.call(B);throw new et(`Response type '${P}' is not supported`,et.ERR_NOT_SUPPORT,V)})});const A=async P=>{if(P==null)return 0;if(fe.isBlob(P))return P.size;if(fe.isSpecCompliantForm(P))return(await new n(Jn.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(P)||fe.isArrayBuffer(P))return P.byteLength;if(fe.isURLSearchParams(P)&&(P=P+""),fe.isString(P))return(await g(P)).byteLength},I=async(P,B)=>{const V=fe.toFiniteNumber(P.getContentLength());return V??A(B)};return async P=>{let{url:B,method:V,data:K,signal:H,cancelToken:$,timeout:X,onDownloadProgress:ee,onUploadProgress:oe,responseType:O,headers:j,withCredentials:M="same-origin",fetchOptions:G}=YA(P),F=e||fetch;O=O?(O+"").toLowerCase():"text";let Y=s5([H,$&&$.toAbortSignal()],X),q=null;const ke=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let Be;try{if(oe&&x&&V!=="get"&&V!=="head"&&(Be=await I(j,K))!==0){let ce=new n(B,{method:"POST",body:K,duplex:"half"}),_e;if(fe.isFormData(K)&&(_e=ce.headers.get("content-type"))&&j.setContentType(_e),ce.body){const[we,Se]=lT(Be,Nm(cT(oe)));K=hT(ce.body,dT,we,Se)}}fe.isString(M)||(M=M?"include":"omit");const ae=c&&"credentials"in n.prototype,ye={...G,signal:Y,method:V.toUpperCase(),headers:j.normalize().toJSON(),body:K,duplex:"half",credentials:ae?M:void 0};q=c&&new n(B,ye);let re=await(c?F(q,G):F(B,ye));const Ae=_&&(O==="stream"||O==="response");if(_&&(ee||Ae&&ke)){const ce={};["status","statusText","headers"].forEach(Re=>{ce[Re]=re[Re]});const _e=fe.toFiniteNumber(re.headers.get("content-length")),[we,Se]=ee&&lT(_e,Nm(cT(ee),!0))||[];re=new i(hT(re.body,dT,we,()=>{Se&&Se(),ke&&ke()}),ce)}O=O||"text";let z=await T[fe.findKey(T,O)||"text"](re,P);return!Ae&&ke&&ke(),await new Promise((ce,_e)=>{KA(ce,_e,{data:z,headers:Mi.from(re.headers),status:re.status,statusText:re.statusText,config:P,request:q})})}catch(ae){throw ke&&ke(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,P,q),{cause:ae.cause||ae}):et.from(ae,ae&&ae.code,P,q)}}},u5=new Map,QA=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:a}=e,c=[i,a,n];let h=c.length,m=h,g,x,_=u5;for(;m--;)g=c[m],x=_.get(g),x===void 0&&_.set(g,x=m?new Map:c5(e)),_=x;return x};QA();const c0={http:N6,xhr:i5,fetch:{get:QA}};fe.forEach(c0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gT=t=>`- ${t}`,h5=t=>fe.isFunction(t)||t===null||t===!1,XA={getAdapter:(t,e)=>{t=fe.isArray(t)?t:[t];const{length:n}=t;let i,a;const c={};for(let h=0;h<n;h++){i=t[h];let m;if(a=i,!h5(i)&&(a=c0[(m=String(i)).toLowerCase()],a===void 0))throw new et(`Unknown adapter '${m}'`);if(a&&(fe.isFunction(a)||(a=a.get(e))))break;c[m||"#"+h]=a}if(!a){const h=Object.entries(c).map(([g,x])=>`adapter ${g} `+(x===!1?"is not supported by the environment":"is not available in the build"));let m=n?h.length>1?`since :
`+h.map(gT).join(`
`):" "+gT(h[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return a},adapters:c0};function my(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xu(null,t)}function yT(t){return my(t),t.headers=Mi.from(t.headers),t.data=fy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),XA.getAdapter(t.adapter||xd.adapter,t)(t).then(function(i){return my(t),i.data=fy.call(t,t.transformResponse,i),i.headers=Mi.from(i.headers),i},function(i){return WA(i)||(my(t),i&&i.response&&(i.response.data=fy.call(t,t.transformResponse,i.response),i.response.headers=Mi.from(i.response.headers))),Promise.reject(i)})}const JA="1.12.2",up={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{up[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const vT={};up.transitional=function(e,n,i){function a(c,h){return"[Axios v"+JA+"] Transitional option '"+c+"'"+h+(i?". "+i:"")}return(c,h,m)=>{if(e===!1)throw new et(a(h," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!vT[h]&&(vT[h]=!0,console.warn(a(h," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,h,m):!0}};up.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function d5(t,e,n){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const c=i[a],h=e[c];if(h){const m=t[c],g=m===void 0||h(m,c,t);if(g!==!0)throw new et("option "+c+" must be "+g,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+c,et.ERR_BAD_OPTION)}}const nm={assertOptions:d5,validators:up},Er=nm.validators;let jl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new aT,response:new aT}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ul(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:c}=n;i!==void 0&&nm.assertOptions(i,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),a!=null&&(fe.isFunction(a)?n.paramsSerializer={serialize:a}:nm.assertOptions(a,{encode:Er.function,serialize:Er.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nm.assertOptions(n,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=c&&fe.merge(c.common,c[n.method]);c&&fe.forEach(["delete","get","head","post","put","patch","common"],P=>{delete c[P]}),n.headers=Mi.concat(h,c);const m=[];let g=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(n)===!1||(g=g&&B.synchronous,m.unshift(B.fulfilled,B.rejected))});const x=[];this.interceptors.response.forEach(function(B){x.push(B.fulfilled,B.rejected)});let _,T=0,A;if(!g){const P=[yT.bind(this),void 0];for(P.unshift(...m),P.push(...x),A=P.length,_=Promise.resolve(n);T<A;)_=_.then(P[T++],P[T++]);return _}A=m.length;let I=n;for(;T<A;){const P=m[T++],B=m[T++];try{I=P(I)}catch(V){B.call(this,V);break}}try{_=yT.call(this,I)}catch(P){return Promise.reject(P)}for(T=0,A=x.length;T<A;)_=_.then(x[T++],x[T++]);return _}getUri(e){e=Ul(this.defaults,e);const n=$A(e.baseURL,e.url,e.allowAbsoluteUrls);return qA(n,e.params,e.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(e){jl.prototype[e]=function(n,i){return this.request(Ul(i||{},{method:e,url:n,data:(i||{}).data}))}});fe.forEach(["post","put","patch"],function(e){function n(i){return function(c,h,m){return this.request(Ul(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}jl.prototype[e]=n(),jl.prototype[e+"Form"]=n(!0)});let f5=class eN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const h=new Promise(m=>{i.subscribe(m),c=m}).then(a);return h.cancel=function(){i.unsubscribe(c)},h},e(function(c,h,m){i.reason||(i.reason=new xu(c,h,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eN(function(a){e=a}),cancel:e}}};function m5(t){return function(n){return t.apply(null,n)}}function p5(t){return fe.isObject(t)&&t.isAxiosError===!0}const u0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(u0).forEach(([t,e])=>{u0[e]=t});function tN(t){const e=new jl(t),n=IA(jl.prototype.request,e);return fe.extend(n,jl.prototype,e,{allOwnKeys:!0}),fe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return tN(Ul(t,a))},n}const Xt=tN(xd);Xt.Axios=jl;Xt.CanceledError=xu;Xt.CancelToken=f5;Xt.isCancel=WA;Xt.VERSION=JA;Xt.toFormData=cp;Xt.AxiosError=et;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=m5;Xt.isAxiosError=p5;Xt.mergeConfig=Ul;Xt.AxiosHeaders=Mi;Xt.formToJSON=t=>ZA(fe.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=XA.getAdapter;Xt.HttpStatusCode=u0;Xt.default=Xt;const{Axios:SB,AxiosError:AB,CanceledError:NB,isCancel:CB,CancelToken:RB,VERSION:jB,all:PB,Cancel:IB,isAxiosError:DB,spread:LB,toFormData:MB,AxiosHeaders:kB,HttpStatusCode:OB,formToJSON:VB,getAdapter:UB,mergeConfig:BB}=Xt;delete Ps.Icon.Default.prototype._getIconUrl;Ps.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const g5="https://appsail-50034009857.development.catalystappsail.in/create-order",y5="https://appsail-50034009857.development.catalystappsail.in/verify-payment",xT=async(t,e,n,i)=>{const a=kn(xt,"attendance");let c=n instanceof ot?n.toDate():n,h=i instanceof ot?i.toDate():i,m=[],g=new Date(c);for(g.setDate(g.getDate()+1),h=new Date(h);g<=h;){const x=g.toISOString().split("T")[0];m.push({date:x,status:"pending"}),g.setDate(g.getDate()+1)}await Ph(a,{orderId:t,userId:e,days:m,updatedAt:ot.now()})};function v5(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="order_";for(let n=0;n<14;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}const x5=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=rp(),i=Aa(),a=U.useRef(),c=yu.currentUser,[h,m]=U.useState(!1),[g,x]=U.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[_,T]=U.useState(null),[A,I]=U.useState(!1),[P,B]=U.useState("card"),[V,K]=U.useState([12.2253,79.0747]),[H,$]=U.useState(13),[X,ee]=U.useState("satellite"),[oe,O]=U.useState("7:30 AM"),j=new Ps.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),M=re=>{const{name:Ae,value:z}=re.target;x({...g,[Ae]:z})},G=async(re,Ae)=>{try{const ce=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${re}&lon=${Ae}&zoom=18&addressdetails=1`)).json();if(ce?.address){const _e=ce.address;return{address:`${_e.road||""} ${_e.house_number||""} ${_e.neighbourhood||""}`.trim(),city:_e.city||_e.town||_e.village||_e.county||"",state:_e.state||"",pincode:_e.postcode||"",country:_e.country||"India"}}}catch(z){throw console.error("Reverse geocoding error:",z),new Error("Could not fetch location details.")}},F=async(re,Ae)=>{try{const z=await G(re,Ae);x(ce=>({...ce,...z}))}catch(z){alert(z.message)}},Y=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser");return}I(!0),navigator.geolocation.getCurrentPosition(async re=>{const{latitude:Ae,longitude:z}=re.coords;T({lat:Ae,lng:z}),K([Ae,z]),$(16);try{await F(Ae,z)}catch{}finally{I(!1)}},re=>{console.error("Geolocation error:",re);let Ae="Location access failed.";switch(re.code){case re.PERMISSION_DENIED:Ae="Location access denied. Please allow location access and try again.";break;case re.POSITION_UNAVAILABLE:Ae="Location information unavailable.";break;case re.TIMEOUT:Ae="Location request timed out.";break}alert(Ae),I(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},q=async re=>{const{lat:Ae,lng:z}=re.latlng;T({lat:Ae,lng:z}),K([Ae,z]);try{await F(Ae,z)}catch{}},ke=()=>(B3({click:q}),null),Be=()=>{const re=new Date;return re.setDate(re.getDate()+26),re},ae=async re=>{if(re.preventDefault(),!_){alert("Please set a delivery location.");return}m(!0);try{const Ae=Mr(kn(xt,"orders"),iu("userId","==",c?.uid),iu("status","in",["Pending","Pending (COD)","Confirmed"]));if(!(await is(Ae)).empty&&!window.confirm("You already have an active order. Do you still want to place another one?")){m(!1);return}if(P==="cod"){const qe=v5(),fn=await Ph(kn(xt,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Pending (COD)",paymentMethod:"COD",paymentStatus:"Pending",deliveryStatus:"N/A",preferredTime:oe,razorpayOrderId:qe,expiryDate:Be(),createdAt:Jf(),shipping:{firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,pincode:g.pincode,country:g.country,location:_}});await xT(fn.id,c?.uid,new Date,Be()),n(),i("/orderconfirmation",{state:{orderId:qe,payment:"cod"}}),m(!1);return}const{data:ce}=await Xt.post(g5,{amount:e,currency:"INR"}),{orderId:_e,keyId:we,amount:Se}=ce;let Re="";t.length===1?Re=`Payment for ${t[0].name}`:Re=`Payment for ${t[0].name} + ${t.length-1} more item(s)`;const Te={key:we,amount:Se,currency:"INR",name:"Fruit Bunch",description:Re,order_id:_e,handler:async function(qe){try{if((await Xt.post(y5,{razorpayOrderId:qe.razorpay_order_id,razorpayPaymentId:qe.razorpay_payment_id,razorpaySignature:qe.razorpay_signature})).data.success){const Is=await Ph(kn(xt,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Confirmed",paymentMethod:P,razorpayOrderId:_e,paymentStatus:"Paid",deliveryStatus:"N/A",preferredTime:oe,expiryDate:Be(),createdAt:Jf(),shipping:{firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,pincode:g.pincode,country:g.country,location:_}});await Ph(kn(xt,"payments"),{userId:c?.uid,orderId:_e,paymentId:qe.razorpay_payment_id,signature:qe.razorpay_signature,createdAt:Jf()}),await xT(Is.id,c?.uid,new Date,Be()),n(),i("/orderconfirmation",{state:{orderId:_e,payment:P}})}else alert("Payment verification failed!")}catch(fn){console.error("Verify error:",fn),alert("Payment verification failed.")}finally{m(!1)}},prefill:{name:`${g.firstName} ${g.lastName}`,email:g.email,contact:g.phone},theme:{color:"#22c55e"}},bt=new window.Razorpay(Te);bt.on("payment.failed",function(qe){console.warn("Payment failed:",qe.error),alert("Payment was cancelled or failed. Order not placed."),m(!1)}),bt.open()}catch(Ae){console.error("Order error:",Ae),alert("Failed to place order."),m(!1)}};if(t.length===0)return u.jsx("div",{className:"container mx-auto px-4 py-12",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("div",{className:"text-6xl mb-6",children:""}),u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"There's nothing to checkout. Add some items to your cart first."}),u.jsx(Ye,{to:"/cart",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Back to Cart"})]})});const ye={satellite:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Satellite",subdomains:["mt0","mt1","mt2","mt3"]},hybrid:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Hybrid",subdomains:["mt0","mt1","mt2","mt3"]},street:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors"},detailed:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team"}};return u.jsxs("div",{id:"page-content",className:`container mx-auto px-4 py-8 transition-opacity duration-300 ${h?"opacity-50 pointer-events-none":"opacity-100 pointer-events-auto"}`,children:[u.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Checkout"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx("div",{children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),u.jsx("div",{className:"space-y-4",children:t.map(re=>u.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-4",children:[u.jsx("img",{src:re.image,alt:re.name,className:"w-16 h-16 object-cover rounded-lg"}),u.jsxs("div",{className:"ml-4 flex-grow",children:[u.jsx("h3",{className:"font-medium text-gray-800",children:re.name}),u.jsxs("p",{className:"text-green-600 font-bold",children:["",re.price,"  ",re.quantity]})]}),u.jsx("div",{className:"ml-4",children:u.jsxs("p",{className:"font-bold text-green-600",children:["",re.price*re.quantity]})})]},re.id))}),u.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["",e]})]}),u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("span",{children:"Delivery Fee"}),u.jsx("span",{className:"text-green-600",children:"Free"})]}),u.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["",e]})]})]})]})}),u.jsx("div",{children:u.jsxs("form",{onSubmit:ae,className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Shipping Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),u.jsx("input",{type:"text",name:"firstName",value:g.firstName,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),u.jsx("input",{type:"text",name:"lastName",value:g.lastName,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:g.email,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700",children:"Delivery Location"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{value:X,onChange:re=>ee(re.target.value),className:"text-xs md:text-sm border border-gray-300 rounded px-2 py-1",children:[u.jsx("option",{value:"satellite",children:"Satellite"}),u.jsx("option",{value:"street",children:"Street"})]}),u.jsx("button",{type:"button",onClick:Y,disabled:A,className:"text-xs md:text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:A?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use my location"]})})]})]}),u.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:u.jsxs(Ov,{center:V,zoom:H,style:{height:"300px",width:"100%"},ref:a,children:[u.jsx(Bv,{attribution:ye[X].attribution,url:ye[X].url,subdomains:ye[X].subdomains}),u.jsx(ke,{}),_&&u.jsx(Vv,{position:[_.lat,_.lng],icon:j,children:u.jsx(Uv,{children:u.jsxs("div",{className:"text-sm",children:[u.jsx("strong",{children:"Delivery Location"}),u.jsx("br",{}),g.address&&`${g.address}, `,g.city&&`${g.city}, `,g.state&&`${g.state} - `,g.pincode]})})})]})}),u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" Click on the map to set your delivery location manually"}),u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),u.jsx("input",{type:"text",name:"address",value:g.address,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,placeholder:"Street address"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),u.jsx("input",{type:"text",name:"city",value:g.city,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),u.jsx("input",{type:"text",name:"state",value:g.state,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),u.jsx("input",{type:"text",name:"pincode",value:g.pincode,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,pattern:"[0-9]{6}",title:"6-digit pincode"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),u.jsx("input",{type:"text",name:"country",value:g.country,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Preferred Delivery Time"}),u.jsx("div",{className:"mb-6",children:u.jsxs("select",{value:oe,onChange:re=>O(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[u.jsx("option",{value:"7:30 AM",children:"7:30 AM"}),u.jsx("option",{value:"11:30 AM",children:"11:30 AM"}),u.jsx("option",{value:"4:30 PM",children:"4:30 PM"})]})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"card",name:"paymentMethod",type:"radio",value:"card",checked:P==="card",onChange:()=>B("card"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),u.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit/Debit Card"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"upi",name:"paymentMethod",type:"radio",value:"upi",checked:P==="upi",onChange:()=>B("upi"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),u.jsx("label",{htmlFor:"upi",className:"ml-3 block text-sm font-medium text-gray-700",children:"UPI"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"cod",name:"paymentMethod",type:"radio",value:"cod",checked:P==="cod",onChange:()=>B("cod"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),u.jsx("label",{htmlFor:"cod",className:"ml-3 block text-sm font-medium text-gray-700",children:"Cash on Delivery"})]})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(Ye,{to:"/cart",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition text-center",children:"Back to Cart"}),u.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition",children:["Pay ",e]})]})]})})]})]})},_5=()=>{const[t,e]=U.useState(!1);U.useEffect(()=>{const a=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=()=>{const a="918807239379",h=encodeURIComponent("I want fruit bunch"),m=`https://wa.me/${a}?text=${h}`;window.open(m,"_blank")};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-green-600 transition-transform transform hover:scale-110",onClick:i,children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})})}),t&&u.jsx("div",{className:"fixed bottom-24 right-7 z-50 w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-gray-800 transition-all duration-300 opacity-80 hover:opacity-100",onClick:n,children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})})]})},b5=()=>{const[t,e]=U.useState(""),[n,i]=U.useState(!1),[a,c]=U.useState(!1),h=async m=>{m.preventDefault(),c(!0);try{await c4(yu,t),console.log("Password reset email sent to:",t),i(!0)}catch(g){console.error("Password reset error:",g.message),alert(g.message)}finally{c(!1)}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),u.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Reset your password"}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",u.jsx(Ye,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"return to sign in"})]})]}),n?u.jsxs("div",{className:"text-center py-6",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",u.jsx("span",{className:"font-medium text-green-600",children:t})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>i(!1),className:"text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Didn't receive the email? Click to resend"})}),u.jsx("div",{className:"mt-4",children:u.jsxs(Ye,{to:"/login",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to sign in"]})})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[u.jsx("div",{className:"rounded-md shadow-sm",children:u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:t,onChange:m=>e(m.target.value)}),u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),u.jsx("div",{children:u.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:a,children:[a?u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,a?"Sending...":"Send reset link"]})})]})]})]})]})},py=pA(),w5=()=>{const[t,e]=U.useState(null),[n,i]=U.useState(!0),[a,c]=U.useState([]),[h,m]=U.useState([]),[g,x]=U.useState([]),[_,T]=U.useState("profile"),A=Aa();U.useEffect(()=>{const K=localStorage.getItem("user");if(K){const H=JSON.parse(K);e(H),I(H.uid),P(H.uid)}},[]);const I=async K=>{try{const H=kn(py,"orders"),$=Mr(H,iu("userId","==",K)),X=await is($),ee=[];if(!X.empty){const oe=X.docs.map(O=>({id:O.id,...O.data()})).sort((O,j)=>j.createdAt.seconds-O.createdAt.seconds);for(const O of oe){const j=O.createdAt?.toDate?.()||new Date,M=O.expiryDate?.toDate?.()||new Date;if(new Date<=M){const G=Math.ceil((M-new Date)/864e5);ee.push({id:O.id,plan:O.items?.[0]?.name||"Standard",product:O.items?.[0]?.description||"Subscription",status:O.status,paymentStatus:O.paymentStatus,startDate:j.toISOString(),expiryDate:M.toISOString(),price:`${O.amount}`,daysLeft:G,createdAt:O.createdAt})}}}x(ee)}catch(H){console.error("Error fetching subscriptions:",H)}finally{i(!1)}},P=async K=>{try{const H=kn(py,"attendance"),$=Mr(H,iu("userId","==",K)),X=await is($),ee=new Date;ee.setHours(0,0,0,0);let oe=[];for(const j of X.docs){const M=j.data(),G=Mn(py,"orders",M.orderId),F=await Xs(G),Y=F.exists()?F.data():{},q=M.days.map(ke=>({id:j.id,date:ke.date,status:ke.status,plan:Y.items?.[0]?.name||"Unknown",description:Y.items?.[0]?.description||"Unknown",amount:Y.amount||0,orderId:M.orderId}));oe.push(...q)}const O=oe.filter(j=>{const M=new Date(j.date);return M.setHours(0,0,0,0),M<=ee});m(O.sort((j,M)=>new Date(j.date)-new Date(M.date)))}catch(H){console.error("Error fetching attendance history:",H)}},B=K=>{const $={delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"N/A"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Customer not available"},leave_user:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"Skipped by Customer"},leave_company:{color:"bg-indigo-100 text-indigo-800 border-indigo-200",label:"Company Holiday"}}[K]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:K};return u.jsx("span",{className:`inline-flex items-center capitalize px-1 md:px-2 py-1 rounded-full text-xs font-medium border ${$.color}`,children:$.label})},V=K=>h.filter(H=>H.orderId===K);return n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),u.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),u.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[u.jsx("div",{className:"md:col-span-1",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:`https://ui-avatars.com/api/?background=10b981&color=fff&size=128&name=${encodeURIComponent(t.name)}&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg"}),u.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-2 border-white rounded-full"})]}),u.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-900",children:t.name}),u.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),u.jsxs("nav",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>T("profile"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${_==="profile"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsx("span",{className:"font-medium",children:"Profile"})]}),u.jsxs("button",{onClick:()=>T("subscription"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${_==="subscription"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),u.jsxs("span",{children:["Subscription",g.length>1?`s (${g.length})`:""]})]})]})]})}),u.jsx("div",{className:"md:col-span-3",children:_==="subscription"?u.jsxs(u.Fragment,{children:[g.length>0?g.map((K,H)=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-md md:text-xl font-semibold text-white mb-2",children:["Subscription ",g.length>1?`#${H+1}`:""]}),u.jsx("p",{className:"text-green-100 text-xs md:text-sm",children:g.length>1?"Additional active plan":"Active plan with premium features"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"text-xs md:text-sm bg-white text-green-600 px-3 md:px-4 py-2 rounded-full font-semibold",children:K.paymentStatus}),u.jsx("div",{className:"text-xs md:text-sm bg-white text-green-600 px-3 md:px-4 py-2 rounded-full font-semibold",children:K.plan})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h4",{className:"font-semibold text-gray-900",children:"Product"}),u.jsx("p",{className:"text-gray-600 text-sm",children:K.product.length>10?`${K.product.slice(0,10)}..more`:K.product})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),u.jsx("h4",{className:"font-semibold text-gray-900",children:"Expiry Date"}),u.jsx("p",{className:"text-gray-600 text-sm",children:new Date(K.expiryDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("text",{x:"4",y:"18",fontSize:"22",fontWeight:"thin",fill:"currentColor",children:""})})}),u.jsx("h4",{className:"font-semibold text-gray-900",children:"Price"}),u.jsx("p",{className:"text-gray-600 text-sm",children:K.price})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx("svg",{className:"w-32 h-32 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4l3 3"})})}),u.jsx("h4",{className:"font-semibold text-gray-900",children:"Validity"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"26 days"})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Delivery History for this Subscription"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50",children:[u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:(()=>{const $=V(K.id);return $.length>0?$.map((X,ee)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm font-medium text-green-600",children:ee+1}),u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm text-gray-900",children:new Date(X.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}),u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm text-gray-900",children:B(X.status)})]},`${X.id}-${ee}`)):u.jsx("tr",{children:u.jsx("td",{colSpan:"3",className:"px-2 md:px-4 py-6 text-center text-gray-500 text-sm",children:"No delivery records found for this subscription"})})})()})]})})]}),u.jsx("div",{className:"flex gap-4 mt-6 text-sm md:text-base",children:u.jsxs("button",{onClick:()=>A("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-4 md:px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.length>1?"Add Another Subscription":"Renew Subscription"]})})]})]},K.id)):u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8 text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"No Active Subscriptions"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any active subscriptions. Please subscribe to enjoy our services."}),u.jsx("button",{onClick:()=>A("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Subscribe Now"})]}),g.length>0&&u.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:u.jsxs("div",{className:"p-6 border-b border-gray-100",children:[u.jsx("h3",{className:"text-md md:text-lg font-semibold text-gray-900 mb-4",children:"All Delivery History"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50",children:[u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-2 md:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:h.length>0?h.map((K,H)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm font-medium text-green-600",children:H+1}),u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm text-gray-900",children:K.plan}),u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm text-gray-900",children:new Date(K.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}),u.jsx("td",{className:"px-2 md:px-4 py-3 text-xs md:text-sm text-gray-900",children:B(K.status)})]},`${K.id}-${H}`)):u.jsx("tr",{children:u.jsx("td",{colSpan:"4",className:"px-2 md:px-4 py-6 text-center text-gray-500 text-sm",children:"No delivery records found"})})})]})})]})})]}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-100",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),u.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),u.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Subscriptions"}),u.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 flex items-center",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),g.length," Active"]})]})]})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm md:text-base",children:[u.jsxs("button",{onClick:()=>A("/forgot-password"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]}),u.jsxs("button",{onClick:()=>{const K=GS();g4(K).then(()=>{localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),A("/login")}).catch(H=>{console.error("Logout error:",H)})},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center ml-auto",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})})})]})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Authentication Required"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your profile"}),u.jsx("a",{href:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Go to Login"})]})})},qv=U.createContext({});function Gv(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zv=typeof window<"u",nN=Zv?U.useLayoutEffect:U.useEffect,hp=U.createContext(null);function Wv(t,e){t.indexOf(e)===-1&&t.push(e)}function Kv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ea=(t,e,n)=>n>e?e:n<t?t:n;let $v=()=>{};const Sa={},iN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sN(t){return typeof t=="object"&&t!==null}const rN=t=>/^0[^.\s]+$/u.test(t);function Yv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rs=t=>t,T5=(t,e)=>n=>e(t(n)),_d=(...t)=>t.reduce(T5),Kh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Qv{constructor(){this.subscriptions=[]}add(e){return Wv(this.subscriptions,e),()=>Kv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let c=0;c<a;c++){const h=this.subscriptions[c];h&&h(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ir=t=>t*1e3,Ns=t=>t/1e3;function aN(t,e){return e?t*(1e3/e):0}const oN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,E5=1e-7,S5=12;function A5(t,e,n,i,a){let c,h,m=0;do h=e+(n-e)/2,c=oN(h,i,a)-t,c>0?n=h:e=h;while(Math.abs(c)>E5&&++m<S5);return h}function bd(t,e,n,i){if(t===e&&n===i)return Rs;const a=c=>A5(c,0,1,t,n);return c=>c===0||c===1?c:oN(a(c),e,i)}const lN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cN=t=>e=>1-t(1-e),uN=bd(.33,1.53,.69,.99),Xv=cN(uN),hN=lN(Xv),dN=t=>(t*=2)<1?.5*Xv(t):.5*(2-Math.pow(2,-10*(t-1))),Jv=t=>1-Math.sin(Math.acos(t)),fN=cN(Jv),mN=lN(Jv),N5=bd(.42,0,1,1),C5=bd(0,0,.58,1),pN=bd(.42,0,.58,1),R5=t=>Array.isArray(t)&&typeof t[0]!="number",gN=t=>Array.isArray(t)&&typeof t[0]=="number",j5={linear:Rs,easeIn:N5,easeInOut:pN,easeOut:C5,circIn:Jv,circInOut:mN,circOut:fN,backIn:Xv,backInOut:hN,backOut:uN,anticipate:dN},P5=t=>typeof t=="string",_T=t=>{if(gN(t)){$v(t.length===4);const[e,n,i,a]=t;return bd(e,n,i,a)}else if(P5(t))return j5[t];return t},kf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function I5(t,e){let n=new Set,i=new Set,a=!1,c=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(_){h.has(_)&&(x.schedule(_),t()),_(m)}const x={schedule:(_,T=!1,A=!1)=>{const P=A&&a?n:i;return T&&h.add(_),P.has(_)||P.add(_),_},cancel:_=>{i.delete(_),h.delete(_)},process:_=>{if(m=_,a){c=!0;return}a=!0,[n,i]=[i,n],n.forEach(g),n.clear(),a=!1,c&&(c=!1,x.process(_))}};return x}const D5=40;function yN(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,h=kf.reduce(($,X)=>($[X]=I5(c),$),{}),{setup:m,read:g,resolveKeyframes:x,preUpdate:_,update:T,preRender:A,render:I,postRender:P}=h,B=()=>{const $=Sa.useManualTiming?a.timestamp:performance.now();n=!1,Sa.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min($-a.timestamp,D5),1)),a.timestamp=$,a.isProcessing=!0,m.process(a),g.process(a),x.process(a),_.process(a),T.process(a),A.process(a),I.process(a),P.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(B))},V=()=>{n=!0,i=!0,a.isProcessing||t(B)};return{schedule:kf.reduce(($,X)=>{const ee=h[X];return $[X]=(oe,O=!1,j=!1)=>(n||V(),ee.schedule(oe,O,j)),$},{}),cancel:$=>{for(let X=0;X<kf.length;X++)h[kf[X]].cancel($)},state:a,steps:h}}const{schedule:Ut,cancel:Uo,state:zn,steps:gy}=yN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0);let im;function L5(){im=void 0}const Di={now:()=>(im===void 0&&Di.set(zn.isProcessing||Sa.useManualTiming?zn.timestamp:performance.now()),im),set:t=>{im=t,queueMicrotask(L5)}},vN=t=>e=>typeof e=="string"&&e.startsWith(t),ex=vN("--"),M5=vN("var(--"),tx=t=>M5(t)?k5.test(t.split("/*")[0].trim()):!1,k5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_u={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$h={..._u,transform:t=>Ea(0,1,t)},Of={..._u,default:1},Ih=t=>Math.round(t*1e5)/1e5,nx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O5(t){return t==null}const V5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ix=(t,e)=>n=>!!(typeof n=="string"&&V5.test(n)&&n.startsWith(t)||e&&!O5(n)&&Object.prototype.hasOwnProperty.call(n,e)),xN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,c,h,m]=i.match(nx);return{[t]:parseFloat(a),[e]:parseFloat(c),[n]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},U5=t=>Ea(0,255,t),yy={..._u,transform:t=>Math.round(U5(t))},Nl={test:ix("rgb","red"),parse:xN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+yy.transform(t)+", "+yy.transform(e)+", "+yy.transform(n)+", "+Ih($h.transform(i))+")"};function B5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const h0={test:ix("#"),parse:B5,transform:Nl.transform},wd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wo=wd("deg"),Dr=wd("%"),Ke=wd("px"),z5=wd("vh"),F5=wd("vw"),bT={...Dr,parse:t=>Dr.parse(t)/100,transform:t=>Dr.transform(t*100)},Vc={test:ix("hsl","hue"),parse:xN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Dr.transform(Ih(e))+", "+Dr.transform(Ih(n))+", "+Ih($h.transform(i))+")"},un={test:t=>Nl.test(t)||h0.test(t)||Vc.test(t),parse:t=>Nl.test(t)?Nl.parse(t):Vc.test(t)?Vc.parse(t):h0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Nl.transform(t):Vc.transform(t),getAnimatableNone:t=>{const e=un.parse(t);return e.alpha=0,un.transform(e)}},H5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q5(t){return isNaN(t)&&typeof t=="string"&&(t.match(nx)?.length||0)+(t.match(H5)?.length||0)>0}const _N="number",bN="color",G5="var",Z5="var(",wT="${}",W5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let c=0;const m=e.replace(W5,g=>(un.test(g)?(i.color.push(c),a.push(bN),n.push(un.parse(g))):g.startsWith(Z5)?(i.var.push(c),a.push(G5),n.push(g)):(i.number.push(c),a.push(_N),n.push(parseFloat(g))),++c,wT)).split(wT);return{values:n,split:m,indexes:i,types:a}}function wN(t){return Yh(t).values}function TN(t){const{split:e,types:n}=Yh(t),i=e.length;return a=>{let c="";for(let h=0;h<i;h++)if(c+=e[h],a[h]!==void 0){const m=n[h];m===_N?c+=Ih(a[h]):m===bN?c+=un.transform(a[h]):c+=a[h]}return c}}const K5=t=>typeof t=="number"?0:un.test(t)?un.getAnimatableNone(t):t;function $5(t){const e=wN(t);return TN(t)(e.map(K5))}const Bo={test:q5,parse:wN,createTransformer:TN,getAnimatableNone:$5};function vy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,c=0,h=0;if(!e)a=c=h=n;else{const m=n<.5?n*(1+e):n+e-n*e,g=2*n-m;a=vy(g,m,t+1/3),c=vy(g,m,t),h=vy(g,m,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(h*255),alpha:i}}function Cm(t,e){return n=>n>0?e:t}const Zt=(t,e,n)=>t+(e-t)*n,xy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Q5=[h0,Nl,Vc],X5=t=>Q5.find(e=>e.test(t));function TT(t){const e=X5(t);if(!e)return!1;let n=e.parse(t);return e===Vc&&(n=Y5(n)),n}const ET=(t,e)=>{const n=TT(t),i=TT(e);if(!n||!i)return Cm(t,e);const a={...n};return c=>(a.red=xy(n.red,i.red,c),a.green=xy(n.green,i.green,c),a.blue=xy(n.blue,i.blue,c),a.alpha=Zt(n.alpha,i.alpha,c),Nl.transform(a))},d0=new Set(["none","hidden"]);function J5(t,e){return d0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function eV(t,e){return n=>Zt(t,e,n)}function sx(t){return typeof t=="number"?eV:typeof t=="string"?tx(t)?Cm:un.test(t)?ET:iV:Array.isArray(t)?EN:typeof t=="object"?un.test(t)?ET:tV:Cm}function EN(t,e){const n=[...t],i=n.length,a=t.map((c,h)=>sx(c)(c,e[h]));return c=>{for(let h=0;h<i;h++)n[h]=a[h](c);return n}}function tV(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=sx(t[a])(t[a],e[a]));return a=>{for(const c in i)n[c]=i[c](a);return n}}function nV(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],h=t.indexes[c][i[c]],m=t.values[h]??0;n[a]=m,i[c]++}return n}const iV=(t,e)=>{const n=Bo.createTransformer(e),i=Yh(t),a=Yh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?d0.has(t)&&!a.values.length||d0.has(e)&&!i.values.length?J5(t,e):_d(EN(nV(i,a),a.values),n):Cm(t,e)};function SN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):sx(t)(t,e)}const sV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ut.update(e,n),stop:()=>Uo(e),now:()=>zn.isProcessing?zn.timestamp:Di.now()}},AN=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let c=0;c<a;c++)i+=Math.round(t(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Rm=2e4;function rx(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Rm;)e+=n,i=t.next(e);return e>=Rm?1/0:e}function rV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(rx(i),Rm);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:Ns(a)}}const aV=5;function NN(t,e,n){const i=Math.max(e-aV,0);return aN(n-t(i),e-i)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_y=.001;function oV({duration:t=Qt.duration,bounce:e=Qt.bounce,velocity:n=Qt.velocity,mass:i=Qt.mass}){let a,c,h=1-e;h=Ea(Qt.minDamping,Qt.maxDamping,h),t=Ea(Qt.minDuration,Qt.maxDuration,Ns(t)),h<1?(a=x=>{const _=x*h,T=_*t,A=_-n,I=f0(x,h),P=Math.exp(-T);return _y-A/I*P},c=x=>{const T=x*h*t,A=T*n+n,I=Math.pow(h,2)*Math.pow(x,2)*t,P=Math.exp(-T),B=f0(Math.pow(x,2),h);return(-a(x)+_y>0?-1:1)*((A-I)*P)/B}):(a=x=>{const _=Math.exp(-x*t),T=(x-n)*t+1;return-_y+_*T},c=x=>{const _=Math.exp(-x*t),T=(n-x)*(t*t);return _*T});const m=5/t,g=cV(a,c,m);if(t=Ir(t),isNaN(g))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:t};{const x=Math.pow(g,2)*i;return{stiffness:x,damping:h*2*Math.sqrt(i*x),duration:t}}}const lV=12;function cV(t,e,n){let i=n;for(let a=1;a<lV;a++)i=i-t(i)/e(i);return i}function f0(t,e){return t*Math.sqrt(1-e*e)}const uV=["duration","bounce"],hV=["stiffness","damping","mass"];function ST(t,e){return e.some(n=>t[n]!==void 0)}function dV(t){let e={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...t};if(!ST(t,hV)&&ST(t,uV))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,c=2*Ea(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Qt.mass,stiffness:a,damping:c}}else{const n=oV(t);e={...e,...n,mass:Qt.mass},e.isResolvedFromDuration=!0}return e}function jm(t=Qt.visualDuration,e=Qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const c=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:x,mass:_,duration:T,velocity:A,isResolvedFromDuration:I}=dV({...n,velocity:-Ns(n.velocity||0)}),P=A||0,B=x/(2*Math.sqrt(g*_)),V=h-c,K=Ns(Math.sqrt(g/_)),H=Math.abs(V)<5;i||(i=H?Qt.restSpeed.granular:Qt.restSpeed.default),a||(a=H?Qt.restDelta.granular:Qt.restDelta.default);let $;if(B<1){const ee=f0(K,B);$=oe=>{const O=Math.exp(-B*K*oe);return h-O*((P+B*K*V)/ee*Math.sin(ee*oe)+V*Math.cos(ee*oe))}}else if(B===1)$=ee=>h-Math.exp(-K*ee)*(V+(P+K*V)*ee);else{const ee=K*Math.sqrt(B*B-1);$=oe=>{const O=Math.exp(-B*K*oe),j=Math.min(ee*oe,300);return h-O*((P+B*K*V)*Math.sinh(j)+ee*V*Math.cosh(j))/ee}}const X={calculatedDuration:I&&T||null,next:ee=>{const oe=$(ee);if(I)m.done=ee>=T;else{let O=ee===0?P:0;B<1&&(O=ee===0?Ir(P):NN($,ee,oe));const j=Math.abs(O)<=i,M=Math.abs(h-oe)<=a;m.done=j&&M}return m.value=m.done?h:oe,m},toString:()=>{const ee=Math.min(rx(X),Rm),oe=AN(O=>X.next(ee*O).value,ee,30);return ee+"ms "+oe},toTransition:()=>{}};return X}jm.applyToOptions=t=>{const e=rV(t,100,jm);return t.ease=e.ease,t.duration=Ir(e.duration),t.type="keyframes",t};function m0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:h,min:m,max:g,restDelta:x=.5,restSpeed:_}){const T=t[0],A={done:!1,value:T},I=j=>m!==void 0&&j<m||g!==void 0&&j>g,P=j=>m===void 0?g:g===void 0||Math.abs(m-j)<Math.abs(g-j)?m:g;let B=n*e;const V=T+B,K=h===void 0?V:h(V);K!==V&&(B=K-T);const H=j=>-B*Math.exp(-j/i),$=j=>K+H(j),X=j=>{const M=H(j),G=$(j);A.done=Math.abs(M)<=x,A.value=A.done?K:G};let ee,oe;const O=j=>{I(A.value)&&(ee=j,oe=jm({keyframes:[A.value,P(A.value)],velocity:NN($,j,A.value),damping:a,stiffness:c,restDelta:x,restSpeed:_}))};return O(0),{calculatedDuration:null,next:j=>{let M=!1;return!oe&&ee===void 0&&(M=!0,X(j),O(j)),ee!==void 0&&j>=ee?oe.next(j-ee):(!M&&X(j),A)}}}function fV(t,e,n){const i=[],a=n||Sa.mix||SN,c=t.length-1;for(let h=0;h<c;h++){let m=a(t[h],t[h+1]);if(e){const g=Array.isArray(e)?e[h]||Rs:e;m=_d(g,m)}i.push(m)}return i}function mV(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const c=t.length;if($v(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const h=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=fV(e,i,a),g=m.length,x=_=>{if(h&&_<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(_<t[T+1]);T++);const A=Kh(t[T],t[T+1],_);return m[T](A)};return n?_=>x(Ea(t[0],t[c-1],_)):x}function pV(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Kh(0,e,i);t.push(Zt(n,1,a))}}function gV(t){const e=[0];return pV(e,t.length-1),e}function yV(t,e){return t.map(n=>n*e)}function vV(t,e){return t.map(()=>e||pN).splice(0,t.length-1)}function Dh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=R5(i)?i.map(_T):_T(i),c={done:!1,value:e[0]},h=yV(n&&n.length===e.length?n:gV(e),t),m=mV(h,e,{ease:Array.isArray(a)?a:vV(e,a)});return{calculatedDuration:t,next:g=>(c.value=m(g),c.done=g>=t,c)}}const xV=t=>t!==null;function ax(t,{repeat:e,repeatType:n="loop"},i,a=1){const c=t.filter(xV),m=a<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!m||i===void 0?c[m]:i}const _V={decay:m0,inertia:m0,tween:Dh,keyframes:Dh,spring:jm};function CN(t){typeof t.type=="string"&&(t.type=_V[t.type])}class ox{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bV=t=>t/100;class lx extends ox{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CN(e);const{type:n=Dh,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:h=0}=e;let{keyframes:m}=e;const g=n||Dh;g!==Dh&&typeof m[0]!="number"&&(this.mixKeyframes=_d(bV,SN(m[0],m[1])),m=[0,100]);const x=g({...e,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-h})),x.calculatedDuration===null&&(x.calculatedDuration=rx(x));const{calculatedDuration:_}=x;this.calculatedDuration=_,this.resolvedDuration=_+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=x}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:x=0,keyframes:_,repeat:T,repeatType:A,repeatDelay:I,type:P,onUpdate:B,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const K=this.currentTime-x*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,X=i;if(T){const j=Math.min(this.currentTime,a)/m;let M=Math.floor(j),G=j%1;!G&&j>=1&&(G=1),G===1&&M--,M=Math.min(M,T+1),!!(M%2)&&(A==="reverse"?(G=1-G,I&&(G-=I/m)):A==="mirror"&&(X=h)),$=Ea(0,1,G)*m}const ee=H?{done:!1,value:_[0]}:X.next($);c&&(ee.value=c(ee.value));let{done:oe}=ee;!H&&g!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return O&&P!==m0&&(ee.value=ax(_,this.options,V,this.speed)),B&&B(ee.value),O&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return Ns(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ns(e)}get time(){return Ns(this.currentTime)}set time(e){e=Ir(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Di.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ns(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=sV,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function wV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Cl=t=>t*180/Math.PI,p0=t=>{const e=Cl(Math.atan2(t[1],t[0]));return g0(e)},TV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:p0,rotateZ:p0,skewX:t=>Cl(Math.atan(t[1])),skewY:t=>Cl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},g0=t=>(t=t%360,t<0&&(t+=360),t),AT=p0,NT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),CT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),EV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NT,scaleY:CT,scale:t=>(NT(t)+CT(t))/2,rotateX:t=>g0(Cl(Math.atan2(t[6],t[5]))),rotateY:t=>g0(Cl(Math.atan2(-t[2],t[0]))),rotateZ:AT,rotate:AT,skewX:t=>Cl(Math.atan(t[4])),skewY:t=>Cl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function y0(t){return t.includes("scale")?1:0}function v0(t,e){if(!t||t==="none")return y0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=EV,a=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=TV,a=m}if(!a)return y0(e);const c=i[e],h=a[1].split(",").map(AV);return typeof c=="function"?c(h):h[c]}const SV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return v0(n,e)};function AV(t){return parseFloat(t.trim())}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wu=new Set(bu),RT=t=>t===_u||t===Ke,NV=new Set(["x","y","z"]),CV=bu.filter(t=>!NV.has(t));function RV(t){const e=[];return CV.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Pl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>v0(e,"x"),y:(t,{transform:e})=>v0(e,"y")};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const Il=new Set;let x0=!1,_0=!1,b0=!1;function RN(){if(_0){const t=Array.from(Il).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=RV(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([c,h])=>{i.getValue(c)?.set(h)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_0=!1,x0=!1,Il.forEach(t=>t.complete(b0)),Il.clear()}function jN(){Il.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_0=!0)})}function jV(){b0=!0,jN(),RN(),b0=!1}class cx{constructor(e,n,i,a,c,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=c,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Il.add(this),x0||(x0=!0,Ut.read(jN),Ut.resolveKeyframes(RN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const c=a?.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const m=i.readValue(n,h);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=h),a&&c===void 0&&a.set(e[0])}wV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Il.delete(this)}cancel(){this.state==="scheduled"&&(Il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PV=t=>t.startsWith("--");function IV(t,e,n){PV(e)?t.style.setProperty(e,n):t.style[e]=n}const DV=Yv(()=>window.ScrollTimeline!==void 0),LV={};function MV(t,e){const n=Yv(t);return()=>LV[e]??n()}const PN=MV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,jT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eh([0,.65,.55,1]),circOut:Eh([.55,0,1,.45]),backIn:Eh([.31,.01,.66,-.59]),backOut:Eh([.33,1.53,.69,.99])};function IN(t,e){if(t)return typeof t=="function"?PN()?AN(t,e):"ease-out":gN(t)?Eh(t):Array.isArray(t)?t.map(n=>IN(n,e)||jT.easeOut):jT[t]}function kV(t,e,n,{delay:i=0,duration:a=300,repeat:c=0,repeatType:h="loop",ease:m="easeOut",times:g}={},x=void 0){const _={[e]:n};g&&(_.offset=g);const T=IN(m,a);Array.isArray(T)&&(_.easing=T);const A={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:h==="reverse"?"alternate":"normal"};return x&&(A.pseudoElement=x),t.animate(_,A)}function DN(t){return typeof t=="function"&&"applyToOptions"in t}function OV({type:t,...e}){return DN(t)&&PN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class VV extends ox{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:c,allowFlatten:h=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=h,this.options=e,$v(typeof e.type!="string");const x=OV(e);this.animation=kV(n,i,a,x,c),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const _=ax(a,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(_):IV(n,i,_),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ns(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ns(e)}get time(){return Ns(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ir(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&DV()?(this.animation.timeline=e,Rs):n(this)}}const LN={anticipate:dN,backInOut:hN,circInOut:mN};function UV(t){return t in LN}function BV(t){typeof t.ease=="string"&&UV(t.ease)&&(t.ease=LN[t.ease])}const PT=10;class zV extends VV{constructor(e){BV(e),CN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:c,...h}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new lx({...h,autoplay:!1}),g=Ir(this.finishedTime??this.time);n.setWithVelocity(m.sample(g-PT).value,m.sample(g).value,PT),m.stop()}}const IT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bo.test(t)||t==="0")&&!t.startsWith("url("));function FV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HV(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],h=IT(a,e),m=IT(c,e);return!h||!m?!1:FV(t)||(n==="spring"||DN(n))&&i}function w0(t){t.duration=0,t.type="keyframes"}const qV=new Set(["opacity","clipPath","filter","transform"]),GV=Yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZV(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:c,type:h}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:x}=e.owner.getProps();return GV()&&n&&qV.has(n)&&(n!=="transform"||!x)&&!g&&!i&&a!=="mirror"&&c!==0&&h!=="inertia"}const WV=40;class KV extends ox{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:h="loop",keyframes:m,name:g,motionValue:x,element:_,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Di.now();const A={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:c,repeatType:h,name:g,motionValue:x,element:_,...T},I=_?.KeyframeResolver||cx;this.keyframeResolver=new I(m,(P,B,V)=>this.onKeyframesResolved(P,B,A,!V),g,x,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:c,type:h,velocity:m,delay:g,isHandoff:x,onUpdate:_}=i;this.resolvedAt=Di.now(),HV(e,c,h,m)||((Sa.instantAnimations||!g)&&_?.(ax(e,i,n)),e[0]=e[e.length-1],w0(i),i.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>WV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},I=!x&&ZV(A)?new zV({...A,element:A.motionValue.owner.current}):new lx(A);I.finished.then(()=>this.notifyFinished()).catch(Rs),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $V=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YV(t){const e=$V.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function MN(t,e,n=1){const[i,a]=YV(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const h=c.trim();return iN(h)?parseFloat(h):h}return tx(a)?MN(a,e,n+1):a}function ux(t,e){return t?.[e]??t?.default??t}const kN=new Set(["width","height","top","left","right","bottom",...bu]),QV={test:t=>t==="auto",parse:t=>t},ON=t=>e=>e.test(t),VN=[_u,Ke,Dr,wo,F5,z5,QV],DT=t=>VN.find(ON(t));function XV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rN(t):!0}const JV=new Set(["brightness","contrast","saturate","opacity"]);function e9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(nx)||[];if(!i)return t;const a=n.replace(i,"");let c=JV.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+a+")"}const t9=/\b([a-z-]*)\(.*?\)/gu,T0={...Bo,getAnimatableNone:t=>{const e=t.match(t9);return e?e.map(e9).join(" "):t}},LT={..._u,transform:Math.round},n9={rotate:wo,rotateX:wo,rotateY:wo,rotateZ:wo,scale:Of,scaleX:Of,scaleY:Of,scaleZ:Of,skew:wo,skewX:wo,skewY:wo,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:$h,originX:bT,originY:bT,originZ:Ke},hx={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...n9,zIndex:LT,fillOpacity:$h,strokeOpacity:$h,numOctaves:LT},i9={...hx,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:T0,WebkitFilter:T0},UN=t=>i9[t];function BN(t,e){let n=UN(t);return n!==T0&&(n=Bo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const s9=new Set(["auto","none","0"]);function r9(t,e,n){let i=0,a;for(;i<t.length&&!a;){const c=t[i];typeof c=="string"&&!s9.has(c)&&Yh(c).values.length&&(a=t[i]),i++}if(a&&n)for(const c of e)t[c]=BN(n,a)}class a9 extends cx{constructor(e,n,i,a,c){super(e,n,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let x=e[g];if(typeof x=="string"&&(x=x.trim(),tx(x))){const _=MN(x,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!kN.has(i)||e.length!==2)return;const[a,c]=e,h=DT(a),m=DT(c);if(h!==m)if(RT(h)&&RT(m))for(let g=0;g<e.length;g++){const x=e[g];typeof x=="string"&&(e[g]=parseFloat(x))}else Pl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||XV(e[a]))&&i.push(a);i.length&&r9(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,h=i[c];i[c]=Pl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function o9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const zN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FN(t){return sN(t)&&"offsetHeight"in t}const MT=30,l9=t=>!isNaN(parseFloat(t));class c9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Di.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=l9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MT);return aN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ru(t,e){return new c9(t,e)}const{schedule:dx}=yN(queueMicrotask,!1),Qs={x:!1,y:!1};function HN(){return Qs.x||Qs.y}function u9(t){return t==="x"||t==="y"?Qs[t]?null:(Qs[t]=!0,()=>{Qs[t]=!1}):Qs.x||Qs.y?null:(Qs.x=Qs.y=!0,()=>{Qs.x=Qs.y=!1})}function qN(t,e){const n=o9(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function kT(t){return!(t.pointerType==="touch"||HN())}function h9(t,e,n={}){const[i,a,c]=qN(t,n),h=m=>{if(!kT(m))return;const{target:g}=m,x=e(g,m);if(typeof x!="function"||!g)return;const _=T=>{kT(T)&&(x(T),g.removeEventListener("pointerleave",_))};g.addEventListener("pointerleave",_,a)};return i.forEach(m=>{m.addEventListener("pointerenter",h,a)}),c}const GN=(t,e)=>e?t===e?!0:GN(t,e.parentElement):!1,fx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f9(t){return d9.has(t.tagName)||t.tabIndex!==-1}const sm=new WeakSet;function OT(t){return e=>{e.key==="Enter"&&t(e)}}function by(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const m9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=OT(()=>{if(sm.has(n))return;by(n,"down");const a=OT(()=>{by(n,"up")}),c=()=>by(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function VT(t){return fx(t)&&!HN()}function p9(t,e,n={}){const[i,a,c]=qN(t,n),h=m=>{const g=m.currentTarget;if(!VT(m))return;sm.add(g);const x=e(g,m),_=(I,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),sm.has(g)&&sm.delete(g),VT(I)&&typeof x=="function"&&x(I,{success:P})},T=I=>{_(I,g===window||g===document||n.useGlobalTarget||GN(g,I.target))},A=I=>{_(I,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return i.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",h,a),FN(m)&&(m.addEventListener("focus",x=>m9(x,a)),!f9(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function ZN(t){return sN(t)&&"ownerSVGElement"in t}function g9(t){return ZN(t)&&t.tagName==="svg"}const ei=t=>!!(t&&t.getVelocity),y9=[...VN,un,Bo],v9=t=>y9.find(ON(t)),mx=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function UT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x9(...t){return e=>{let n=!1;const i=t.map(a=>{const c=UT(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():UT(t[a],null)}}}}function _9(...t){return U.useCallback(x9(...t),t)}class b9 extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=FN(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w9({children:t,isPresent:e,anchorX:n,root:i}){const a=U.useId(),c=U.useRef(null),h=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=U.useContext(mx),g=_9(c,t?.ref);return U.useInsertionEffect(()=>{const{width:x,height:_,top:T,left:A,right:I}=h.current;if(e||!c.current||!x||!_)return;const P=n==="left"?`left: ${A}`:`right: ${I}`;c.current.dataset.motionPopId=a;const B=document.createElement("style");m&&(B.nonce=m);const V=i??document.head;return V.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${_}px !important;
            ${P}px !important;
            top: ${T}px !important;
          }
        `),()=>{V.contains(B)&&V.removeChild(B)}},[e]),u.jsx(b9,{isPresent:e,childRef:c,sizeRef:h,children:U.cloneElement(t,{ref:g})})}const T9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:h,anchorX:m,root:g})=>{const x=Gv(E9),_=U.useId();let T=!0,A=U.useMemo(()=>(T=!1,{id:_,initial:e,isPresent:n,custom:a,onExitComplete:I=>{x.set(I,!0);for(const P of x.values())if(!P)return;i&&i()},register:I=>(x.set(I,!1),()=>x.delete(I))}),[n,x,i]);return c&&T&&(A={...A}),U.useMemo(()=>{x.forEach((I,P)=>x.set(P,!1))},[n]),U.useEffect(()=>{!n&&!x.size&&i&&i()},[n]),h==="popLayout"&&(t=u.jsx(w9,{isPresent:n,anchorX:m,root:g,children:t})),u.jsx(hp.Provider,{value:A,children:t})};function E9(){return new Map}function WN(t=!0){const e=U.useContext(hp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,c=U.useId();U.useEffect(()=>{if(t)return a(c)},[t]);const h=U.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,h]:[!0]}const Vf=t=>t.key||"";function BT(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const Uf=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:h=!1,anchorX:m="left",root:g})=>{const[x,_]=WN(h),T=U.useMemo(()=>BT(t),[t]),A=h&&!x?[]:T.map(Vf),I=U.useRef(!0),P=U.useRef(T),B=Gv(()=>new Map),[V,K]=U.useState(T),[H,$]=U.useState(T);nN(()=>{I.current=!1,P.current=T;for(let oe=0;oe<H.length;oe++){const O=Vf(H[oe]);A.includes(O)?B.delete(O):B.get(O)!==!0&&B.set(O,!1)}},[H,A.length,A.join("-")]);const X=[];if(T!==V){let oe=[...T];for(let O=0;O<H.length;O++){const j=H[O],M=Vf(j);A.includes(M)||(oe.splice(O,0,j),X.push(j))}return c==="wait"&&X.length&&(oe=X),$(BT(oe)),K(T),null}const{forceRender:ee}=U.useContext(qv);return u.jsx(u.Fragment,{children:H.map(oe=>{const O=Vf(oe),j=h&&!x?!1:T===H||A.includes(O),M=()=>{if(B.has(O))B.set(O,!0);else return;let G=!0;B.forEach(F=>{F||(G=!1)}),G&&(ee?.(),$(P.current),h&&_?.(),i&&i())};return u.jsx(T9,{isPresent:j,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:g,onExitComplete:j?void 0:M,anchorX:m,children:oe},O)})})},KN=U.createContext({strict:!1}),zT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},au={};for(const t in zT)au[t]={isEnabled:e=>zT[t].some(n=>!!e[n])};function S9(t){for(const e in t)au[e]={...au[e],...t[e]}}const A9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A9.has(t)}let $N=t=>!Pm(t);function N9(t){typeof t=="function"&&($N=e=>e.startsWith("on")?!Pm(e):t(e))}try{N9(require("@emotion/is-prop-valid").default)}catch{}function C9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||($N(a)||n===!0&&Pm(a)||!e&&!Pm(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const dp=U.createContext({});function fp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qh(t){return typeof t=="string"||Array.isArray(t)}const px=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gx=["initial",...px];function mp(t){return fp(t.animate)||gx.some(e=>Qh(t[e]))}function YN(t){return!!(mp(t)||t.variants)}function R9(t,e){if(mp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Qh(n)?n:void 0,animate:Qh(i)?i:void 0}}return t.inherit!==!1?e:{}}function j9(t){const{initial:e,animate:n}=R9(t,U.useContext(dp));return U.useMemo(()=>({initial:e,animate:n}),[FT(e),FT(n)])}function FT(t){return Array.isArray(t)?t.join(" "):t}const Xh={};function P9(t){for(const e in t)Xh[e]=t[e],ex(e)&&(Xh[e].isCSSVariable=!0)}function QN(t,{layout:e,layoutId:n}){return wu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xh[t]||t==="opacity")}const I9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D9=bu.length;function L9(t,e,n){let i="",a=!0;for(let c=0;c<D9;c++){const h=bu[c],m=t[h];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(h.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||n){const x=zN(m,hx[h]);if(!g){a=!1;const _=I9[h]||h;i+=`${_}(${x}) `}n&&(e[h]=x)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function yx(t,e,n){const{style:i,vars:a,transformOrigin:c}=t;let h=!1,m=!1;for(const g in e){const x=e[g];if(wu.has(g)){h=!0;continue}else if(ex(g)){a[g]=x;continue}else{const _=zN(x,hx[g]);g.startsWith("origin")?(m=!0,c[g]=_):i[g]=_}}if(e.transform||(h||n?i.transform=L9(e,t.transform,n):i.transform&&(i.transform="none")),m){const{originX:g="50%",originY:x="50%",originZ:_=0}=c;i.transformOrigin=`${g} ${x} ${_}`}}const vx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XN(t,e,n){for(const i in e)!ei(e[i])&&!QN(i,n)&&(t[i]=e[i])}function M9({transformTemplate:t},e){return U.useMemo(()=>{const n=vx();return yx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function k9(t,e){const n=t.style||{},i={};return XN(i,n,t),Object.assign(i,M9(t,e)),i}function O9(t,e){const n={},i=k9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const V9={offset:"stroke-dashoffset",array:"stroke-dasharray"},U9={offset:"strokeDashoffset",array:"strokeDasharray"};function B9(t,e,n=1,i=0,a=!0){t.pathLength=1;const c=a?V9:U9;t[c.offset]=Ke.transform(-i);const h=Ke.transform(e),m=Ke.transform(n);t[c.array]=`${h} ${m}`}function JN(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:h=0,...m},g,x,_){if(yx(t,m,x),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:A}=t;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=_?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&B9(T,a,c,h,!1)}const eC=()=>({...vx(),attrs:{}}),tC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function z9(t,e,n,i){const a=U.useMemo(()=>{const c=eC();return JN(c,e,tC(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};XN(c,t.style,t),a.style={...c,...a.style}}return a}const F9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xx(t){return typeof t!="string"||t.includes("-")?!1:!!(F9.indexOf(t)>-1||/[A-Z]/u.test(t))}function H9(t,e,n,{latestValues:i},a,c=!1){const m=(xx(t)?z9:O9)(e,i,a,t),g=C9(e,typeof t=="string",c),x=t!==U.Fragment?{...g,...m,ref:n}:{},{children:_}=e,T=U.useMemo(()=>ei(_)?_.get():_,[_]);return U.createElement(t,{...x,children:T})}function HT(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function _x(t,e,n,i){if(typeof e=="function"){const[a,c]=HT(i);e=e(n!==void 0?n:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=HT(i);e=e(n!==void 0?n:t.custom,a,c)}return e}function rm(t){return ei(t)?t.get():t}function q9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:G9(n,i,a,t),renderState:e()}}function G9(t,e,n,i){const a={},c=i(t,{});for(const A in c)a[A]=rm(c[A]);let{initial:h,animate:m}=t;const g=mp(t),x=YN(t);e&&x&&!g&&t.inherit!==!1&&(h===void 0&&(h=e.initial),m===void 0&&(m=e.animate));let _=n?n.initial===!1:!1;_=_||h===!1;const T=_?m:h;if(T&&typeof T!="boolean"&&!fp(T)){const A=Array.isArray(T)?T:[T];for(let I=0;I<A.length;I++){const P=_x(t,A[I]);if(P){const{transitionEnd:B,transition:V,...K}=P;for(const H in K){let $=K[H];if(Array.isArray($)){const X=_?$.length-1:0;$=$[X]}$!==null&&(a[H]=$)}for(const H in B)a[H]=B[H]}}}return a}const nC=t=>(e,n)=>{const i=U.useContext(dp),a=U.useContext(hp),c=()=>q9(t,e,i,a);return n?c():Gv(c)};function bx(t,e,n){const{style:i}=t,a={};for(const c in i)(ei(i[c])||e.style&&ei(e.style[c])||QN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(a[c]=i[c]);return a}const Z9=nC({scrapeMotionValuesFromProps:bx,createRenderState:vx});function iC(t,e,n){const i=bx(t,e,n);for(const a in t)if(ei(t[a])||ei(e[a])){const c=bu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=t[a]}return i}const W9=nC({scrapeMotionValuesFromProps:iC,createRenderState:eC}),K9=Symbol.for("motionComponentSymbol");function Uc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $9(t,e,n){return U.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Uc(n)&&(n.current=i))},[e])}const wx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y9="framerAppearId",sC="data-"+wx(Y9),rC=U.createContext({});function Q9(t,e,n,i,a){const{visualElement:c}=U.useContext(dp),h=U.useContext(KN),m=U.useContext(hp),g=U.useContext(mx).reducedMotion,x=U.useRef(null);i=i||h.renderer,!x.current&&i&&(x.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const _=x.current,T=U.useContext(rC);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&X9(x.current,n,a,T);const A=U.useRef(!1);U.useInsertionEffect(()=>{_&&A.current&&_.update(n,m)});const I=n[sC],P=U.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return nN(()=>{_&&(A.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),P.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!P.current&&_.animationState&&_.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),P.current=!1),_.enteringChildren=void 0)}),_}function X9(t,e,n,i){const{layoutId:a,layout:c,drag:h,dragConstraints:m,layoutScroll:g,layoutRoot:x,layoutCrossfade:_}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aC(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!h||m&&Uc(m),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:_,layoutScroll:g,layoutRoot:x})}function aC(t){if(t)return t.options.allowProjection!==!1?t.projection:aC(t.parent)}function wy(t,{forwardMotionProps:e=!1}={},n,i){n&&S9(n);const a=xx(t)?W9:Z9;function c(m,g){let x;const _={...U.useContext(mx),...m,layoutId:J9(m)},{isStatic:T}=_,A=j9(m),I=a(m,T);if(!T&&Zv){e7();const P=t7(_);x=P.MeasureLayout,A.visualElement=Q9(t,I,_,i,P.ProjectionNode)}return u.jsxs(dp.Provider,{value:A,children:[x&&A.visualElement?u.jsx(x,{visualElement:A.visualElement,..._}):null,H9(t,m,$9(I,A.visualElement,g),I,T,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=U.forwardRef(c);return h[K9]=t,h}function J9({layoutId:t}){const e=U.useContext(qv).id;return e&&t!==void 0?e+"-"+t:t}function e7(t,e){U.useContext(KN).strict}function t7(t){const{drag:e,layout:n}=au;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function n7(t,e){if(typeof Proxy>"u")return wy;const n=new Map,i=(c,h)=>wy(c,h,t,e),a=(c,h)=>i(c,h);return new Proxy(a,{get:(c,h)=>h==="create"?i:(n.has(h)||n.set(h,wy(h,void 0,t,e)),n.get(h))})}function oC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function i7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function s7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ty(t){return t===void 0||t===1}function E0({scale:t,scaleX:e,scaleY:n}){return!Ty(t)||!Ty(e)||!Ty(n)}function El(t){return E0(t)||lC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lC(t){return qT(t.x)||qT(t.y)}function qT(t){return t&&t!=="0%"}function Im(t,e,n){const i=t-n,a=e*i;return n+a}function GT(t,e,n,i,a){return a!==void 0&&(t=Im(t,a,i)),Im(t,n,i)+e}function S0(t,e=0,n=1,i,a){t.min=GT(t.min,e,n,i,a),t.max=GT(t.max,e,n,i,a)}function cC(t,{x:e,y:n}){S0(t.x,e.translate,e.scale,e.originPoint),S0(t.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,WT=1.0000000000001;function r7(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let c,h;for(let m=0;m<a;m++){c=n[m],h=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&zc(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,cC(t,h)),i&&El(c.latestValues)&&zc(t,c.latestValues))}e.x<WT&&e.x>ZT&&(e.x=1),e.y<WT&&e.y>ZT&&(e.y=1)}function Bc(t,e){t.min=t.min+e,t.max=t.max+e}function KT(t,e,n,i,a=.5){const c=Zt(t.min,t.max,a);S0(t,e,n,c,i)}function zc(t,e){KT(t.x,e.x,e.scaleX,e.scale,e.originX),KT(t.y,e.y,e.scaleY,e.scale,e.originY)}function uC(t,e){return oC(s7(t.getBoundingClientRect(),e))}function a7(t,e,n){const i=uC(t,n),{scroll:a}=e;return a&&(Bc(i.x,a.offset.x),Bc(i.y,a.offset.y)),i}const $T=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fc=()=>({x:$T(),y:$T()}),YT=()=>({min:0,max:0}),sn=()=>({x:YT(),y:YT()}),A0={current:null},hC={current:!1};function o7(){if(hC.current=!0,!!Zv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>A0.current=t.matches;t.addEventListener("change",e),e()}else A0.current=!1}const l7=new WeakMap;function c7(t,e,n){for(const i in e){const a=e[i],c=n[i];if(ei(a))t.addValue(i,a);else if(ei(c))t.addValue(i,ru(a,{owner:t}));else if(c!==a)if(t.hasValue(i)){const h=t.getValue(i);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=t.getStaticValue(i);t.addValue(i,ru(h!==void 0?h:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const QT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u7{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Di.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Ut.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=mp(n),this.isVariantNode=YN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const I=T[A];g[A]!==void 0&&ei(I)&&I.set(g[A])}}mount(e){this.current=e,l7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),hC.current||o7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Uo(this.notifyUpdate),Uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=wu.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in au){const n=au[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<QT.length;i++){const a=QT[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,h=e[c];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=c7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ru(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(iN(i)||rN(i))?i=parseFloat(i):!v9(i)&&Bo.test(n)&&(i=BN(e,n)),this.setBaseTarget(e,ei(i)?i.get():i)),ei(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=_x(this.props,n,this.presenceContext?.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ei(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dx.render(this.render)}}class dC extends u7{constructor(){super(...arguments),this.KeyframeResolver=a9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ei(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fC(t,{style:e,vars:n},i,a){const c=t.style;let h;for(h in e)c[h]=e[h];a?.applyProjectionStyles(c,i);for(h in n)c.setProperty(h,n[h])}function h7(t){return window.getComputedStyle(t)}class d7 extends dC{constructor(){super(...arguments),this.type="html",this.renderInstance=fC}readValueFromInstance(e,n){if(wu.has(n))return this.projection?.isProjecting?y0(n):SV(e,n);{const i=h7(e),a=(ex(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uC(e,n)}build(e,n,i){yx(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return bx(e,n,i)}}const mC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f7(t,e,n,i){fC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(mC.has(a)?a:wx(a),e.attrs[a])}class m7 extends dC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wu.has(n)){const i=UN(n);return i&&i.default||0}return n=mC.has(n)?n:wx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return iC(e,n,i)}build(e,n,i){JN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){f7(e,n,i,a)}mount(e){this.isSVGTag=tC(e.tagName),super.mount(e)}}const p7=(t,e)=>xx(t)?new m7(e):new d7(e,{allowProjection:t!==U.Fragment});function Kc(t,e,n){const i=t.getProps();return _x(i,e,n!==void 0?n:i.custom,t)}const N0=t=>Array.isArray(t);function g7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ru(n))}function y7(t){return N0(t)?t[t.length-1]||0:t}function v7(t,e){const n=Kc(t,e);let{transitionEnd:i={},transition:a={},...c}=n||{};c={...c,...i};for(const h in c){const m=y7(c[h]);g7(t,h,m)}}function x7(t){return!!(ei(t)&&t.add)}function C0(t,e){const n=t.getValue("willChange");if(x7(n))return n.add(e);if(!n&&Sa.WillChange){const i=new Sa.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function pC(t){return t.props[sC]}const _7=t=>t!==null;function b7(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(_7),c=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[c]}const w7={type:"spring",stiffness:500,damping:25,restSpeed:10},T7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E7={type:"keyframes",duration:.8},S7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A7=(t,{keyframes:e})=>e.length>2?E7:wu.has(t)?t.startsWith("scale")?T7(e[1]):w7:S7;function N7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:h,repeatDelay:m,from:g,elapsed:x,..._}){return!!Object.keys(_).length}const Tx=(t,e,n,i={},a,c)=>h=>{const m=ux(i,t)||{},g=m.delay||i.delay||0;let{elapsed:x=0}=i;x=x-Ir(g);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-x,onUpdate:A=>{e.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:c?void 0:a};N7(m)||Object.assign(_,A7(t,_)),_.duration&&(_.duration=Ir(_.duration)),_.repeatDelay&&(_.repeatDelay=Ir(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let T=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(w0(_),_.delay===0&&(T=!0)),(Sa.instantAnimations||Sa.skipAnimations)&&(T=!0,w0(_),_.delay=0),_.allowFlatten=!m.type&&!m.ease,T&&!c&&e.get()!==void 0){const A=b7(_.keyframes,m);if(A!==void 0){Ut.update(()=>{_.onUpdate(A),_.onComplete()});return}}return m.isSync?new lx(_):new KV(_)};function C7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function gC(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:h,...m}=e;i&&(c=i);const g=[],x=a&&t.animationState&&t.animationState.getState()[a];for(const _ in m){const T=t.getValue(_,t.latestValues[_]??null),A=m[_];if(A===void 0||x&&C7(x,_))continue;const I={delay:n,...ux(c||{},_)},P=T.get();if(P!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===P&&!I.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const K=pC(t);if(K){const H=window.MotionHandoffAnimation(K,_,Ut);H!==null&&(I.startTime=H,B=!0)}}C0(t,_),T.start(Tx(_,T,A,t.shouldReduceMotion&&kN.has(_)?{type:!1}:I,t,B));const V=T.animation;V&&g.push(V)}return h&&Promise.all(g).then(()=>{Ut.update(()=>{h&&v7(t,h)})}),g}function yC(t,e,n,i=0,a=1){const c=Array.from(t).sort((x,_)=>x.sortNodePosition(_)).indexOf(e),h=t.size,m=(h-1)*i;return typeof n=="function"?n(c,h):a===1?c*i:m-c*i}function R0(t,e,n={}){const i=Kc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const c=i?()=>Promise.all(gC(t,i,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:_,staggerDirection:T}=a;return R7(t,e,g,x,_,T,n)}:()=>Promise.resolve(),{when:m}=a;if(m){const[g,x]=m==="beforeChildren"?[c,h]:[h,c];return g().then(()=>x())}else return Promise.all([c(),h(n.delay)])}function R7(t,e,n=0,i=0,a=0,c=1,h){const m=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),m.push(R0(g,e,{...h,delay:n+(typeof i=="function"?0:i)+yC(t.variantChildren,g,i,a,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function j7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>R0(t,c,n));i=Promise.all(a)}else if(typeof e=="string")i=R0(t,e,n);else{const a=typeof e=="function"?Kc(t,e,n.custom):e;i=Promise.all(gC(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function vC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const P7=gx.length;function xC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?xC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P7;n++){const i=gx[n],a=t.props[i];(Qh(a)||a===!1)&&(e[i]=a)}return e}const I7=[...px].reverse(),D7=px.length;function L7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>j7(t,n,i)))}function M7(t){let e=L7(t),n=XT(),i=!0;const a=g=>(x,_)=>{const T=Kc(t,_,g==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:I,...P}=T;x={...x,...P,...I}}return x};function c(g){e=g(t)}function h(g){const{props:x}=t,_=xC(t.parent)||{},T=[],A=new Set;let I={},P=1/0;for(let V=0;V<D7;V++){const K=I7[V],H=n[K],$=x[K]!==void 0?x[K]:_[K],X=Qh($),ee=K===g?H.isActive:null;ee===!1&&(P=V);let oe=$===_[K]&&$!==x[K]&&X;if(oe&&i&&t.manuallyAnimateOnMount&&(oe=!1),H.protectedKeys={...I},!H.isActive&&ee===null||!$&&!H.prevProp||fp($)||typeof $=="boolean")continue;const O=k7(H.prevProp,$);let j=O||K===g&&H.isActive&&!oe&&X||V>P&&X,M=!1;const G=Array.isArray($)?$:[$];let F=G.reduce(a(K),{});ee===!1&&(F={});const{prevResolvedValues:Y={}}=H,q={...Y,...F},ke=ye=>{j=!0,A.has(ye)&&(M=!0,A.delete(ye)),H.needsAnimating[ye]=!0;const re=t.getValue(ye);re&&(re.liveStyle=!1)};for(const ye in q){const re=F[ye],Ae=Y[ye];if(I.hasOwnProperty(ye))continue;let z=!1;N0(re)&&N0(Ae)?z=!vC(re,Ae):z=re!==Ae,z?re!=null?ke(ye):A.add(ye):re!==void 0&&A.has(ye)?ke(ye):H.protectedKeys[ye]=!0}H.prevProp=$,H.prevResolvedValues=F,H.isActive&&(I={...I,...F}),i&&t.blockInitialAnimation&&(j=!1);const Be=oe&&O;j&&(!Be||M)&&T.push(...G.map(ye=>{const re={type:K};if(typeof ye=="string"&&i&&!Be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,z=Kc(Ae,ye);if(Ae.enteringChildren&&z){const{delayChildren:ce}=z.transition||{};re.delay=yC(Ae.enteringChildren,t,ce)}}return{animation:ye,options:re}}))}if(A.size){const V={};if(typeof x.initial!="boolean"){const K=Kc(t,Array.isArray(x.initial)?x.initial[0]:x.initial);K&&K.transition&&(V.transition=K.transition)}A.forEach(K=>{const H=t.getBaseTarget(K),$=t.getValue(K);$&&($.liveStyle=!0),V[K]=H??null}),T.push({animation:V})}let B=!!T.length;return i&&(x.initial===!1||x.initial===x.animate)&&!t.manuallyAnimateOnMount&&(B=!1),i=!1,B?e(T):Promise.resolve()}function m(g,x){if(n[g].isActive===x)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(g,x)),n[g].isActive=x;const _=h(g);for(const T in n)n[T].protectedKeys={};return _}return{animateChanges:h,setActive:m,setAnimateFunction:c,getState:()=>n,reset:()=>{n=XT(),i=!0}}}function k7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vC(e,t):!1}function bl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XT(){return{animate:bl(!0),whileInView:bl(),whileHover:bl(),whileTap:bl(),whileDrag:bl(),whileFocus:bl(),exit:bl()}}class qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class O7 extends qo{constructor(e){super(e),e.animationState||(e.animationState=M7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let V7=0;class U7 extends qo{constructor(){super(...arguments),this.id=V7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const B7={animation:{Feature:O7},exit:{Feature:U7}};function Jh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Td(t){return{point:{x:t.pageX,y:t.pageY}}}const z7=t=>e=>fx(e)&&t(e,Td(e));function Lh(t,e,n,i){return Jh(t,e,z7(n),i)}const _C=1e-4,F7=1-_C,H7=1+_C,bC=.01,q7=0-bC,G7=0+bC;function yi(t){return t.max-t.min}function Z7(t,e,n){return Math.abs(t-e)<=n}function JT(t,e,n,i=.5){t.origin=i,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=yi(n)/yi(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=F7&&t.scale<=H7||isNaN(t.scale))&&(t.scale=1),(t.translate>=q7&&t.translate<=G7||isNaN(t.translate))&&(t.translate=0)}function Mh(t,e,n,i){JT(t.x,e.x,n.x,i?i.originX:void 0),JT(t.y,e.y,n.y,i?i.originY:void 0)}function eE(t,e,n){t.min=n.min+e.min,t.max=t.min+yi(e)}function W7(t,e,n){eE(t.x,e.x,n.x),eE(t.y,e.y,n.y)}function tE(t,e,n){t.min=e.min-n.min,t.max=t.min+yi(e)}function kh(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function Es(t){return[t("x"),t("y")]}const wC=({current:t})=>t?t.ownerDocument.defaultView:null,nE=(t,e)=>Math.abs(t-e);function K7(t,e){const n=nE(t.x,e.x),i=nE(t.y,e.y);return Math.sqrt(n**2+i**2)}class TC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Sy(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,P=K7(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!P)return;const{point:B}=A,{timestamp:V}=zn;this.history.push({...B,timestamp:V});const{onStart:K,onMove:H}=this.handlers;I||(K&&K(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Ey(I,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:P,onSessionEnd:B,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=Sy(A.type==="pointercancel"?this.lastMoveEventInfo:Ey(I,this.transformPagePoint),this.history);this.startEvent&&P&&P(A,K),B&&B(A,K)},!fx(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=h,this.contextWindow=a||window;const m=Td(e),g=Ey(m,this.transformPagePoint),{point:x}=g,{timestamp:_}=zn;this.history=[{...x,timestamp:_}];const{onSessionStart:T}=n;T&&T(e,Sy(g,this.history)),this.removeListeners=_d(Lh(this.contextWindow,"pointermove",this.handlePointerMove),Lh(this.contextWindow,"pointerup",this.handlePointerUp),Lh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uo(this.updatePoint)}}function Ey(t,e){return e?{point:e(t.point)}:t}function iE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sy({point:t},e){return{point:t,delta:iE(t,EC(e)),offset:iE(t,$7(e)),velocity:Y7(e,.1)}}function $7(t){return t[0]}function EC(t){return t[t.length-1]}function Y7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=EC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ir(e)));)n--;if(!i)return{x:0,y:0};const c=Ns(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const h={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function Q7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Zt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Zt(n,t,i.max):Math.min(t,n)),t}function sE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function X7(t,{top:e,left:n,bottom:i,right:a}){return{x:sE(t.x,n,a),y:sE(t.y,e,i)}}function rE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function J7(t,e){return{x:rE(t.x,e.x),y:rE(t.y,e.y)}}function eU(t,e){let n=.5;const i=yi(t),a=yi(e);return a>i?n=Kh(e.min,e.max-i,t.min):i>a&&(n=Kh(t.min,t.max-a,e.min)),Ea(0,1,n)}function tU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const j0=.35;function nU(t=j0){return t===!1?t=0:t===!0&&(t=j0),{x:aE(t,"left","right"),y:aE(t,"top","bottom")}}function aE(t,e,n){return{min:oE(t,e),max:oE(t,n)}}function oE(t,e){return typeof t=="number"?t:t[e]||0}const iU=new WeakMap;class sU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Td(T).point)},h=(T,A)=>{const{drag:I,dragPropagation:P,onDragStart:B}=this.getProps();if(I&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u9(I),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Es(K=>{let H=this.getAxisMotionValue(K).get()||0;if(Dr.test(H)){const{projection:$}=this.visualElement;if($&&$.layout){const X=$.layout.layoutBox[K];X&&(H=yi(X)*(parseFloat(H)/100))}}this.originPoint[K]=H}),B&&Ut.postRender(()=>B(T,A)),C0(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},m=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:I,dragDirectionLock:P,onDirectionLock:B,onDrag:V}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:K}=A;if(P&&this.currentDirection===null){this.currentDirection=rU(K),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",A.point,K),this.updateAxis("y",A.point,K),this.visualElement.render(),V&&V(T,A)},g=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>Es(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new TC(e,{onSessionStart:c,onStart:h,onMove:m,onSessionEnd:g,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:i,contextWindow:wC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:h}=a;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&Ut.postRender(()=>m(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Bf(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let h=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(h=Q7(h,this.constraints[e],this.elastic[e])),c.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Uc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=X7(i.layoutBox,e):this.constraints=!1,this.elastic=nU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Es(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=tU(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Uc(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=a7(i,a.root,this.visualElement.getTransformPagePoint());let h=J7(a.layout.layoutBox,c);if(n){const m=n(i7(h));this.hasMutatedConstraints=!!m,m&&(h=oC(m))}return h}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},x=Es(_=>{if(!Bf(_,n,this.currentDirection))return;let T=g&&g[_]||{};h&&(T={min:0,max:0});const A=a?200:1e6,I=a?40:1e7,P={type:"inertia",velocity:i?e[_]:0,bounceStiffness:A,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(_,P)});return Promise.all(x).then(m)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return C0(this.visualElement,e),i.start(Tx(e,i,0,n,this.visualElement,!1))}stopAnimation(){Es(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Es(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Es(n=>{const{drag:i}=this.getProps();if(!Bf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:h,max:m}=a.layout.layoutBox[n];c.set(e[n]-Zt(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Uc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Es(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const g=m.get();a[h]=eU({min:g,max:g},this.constraints[h])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Es(h=>{if(!Bf(h,e,null))return;const m=this.getAxisMotionValue(h),{min:g,max:x}=this.constraints[h];m.set(Zt(g,x,a[h]))})}addListeners(){if(!this.visualElement.current)return;iU.set(this.visualElement,this);const e=this.visualElement.current,n=Lh(e,"pointerdown",g=>{const{drag:x,dragListener:_=!0}=this.getProps();x&&_&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();Uc(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ut.read(i);const h=Jh(window,"resize",()=>this.scalePositionWithinConstraints()),m=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(Es(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=g[_].translate,T.set(T.get()+g[_].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:h=j0,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:h,dragMomentum:m}}}function Bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aU extends qo{constructor(e){super(e),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new sU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const lE=t=>(e,n)=>{t&&Ut.postRender(()=>t(e,n))};class oU extends qo{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(e){this.session=new TC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:lE(e),onStart:lE(n),onMove:i,onEnd:(c,h)=>{delete this.session,a&&Ut.postRender(()=>a(c,h))}}}mount(){this.removePointerDownListener=Lh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ph={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const n=cE(t,e.target.x),i=cE(t,e.target.y);return`${n}% ${i}%`}},lU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Bo.parse(t);if(a.length>5)return i;const c=Bo.createTransformer(t),h=typeof a[0]!="number"?1:0,m=n.x.scale*e.x,g=n.y.scale*e.y;a[0+h]/=m,a[1+h]/=g;const x=Zt(m,g,.5);return typeof a[2+h]=="number"&&(a[2+h]/=x),typeof a[3+h]=="number"&&(a[3+h]/=x),c(a)}};let Ay=!1;class cU extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;P9(uU),c&&(n.group&&n.group.add(c),i&&i.register&&a&&i.register(c),Ay&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),am.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:c}=this.props,{projection:h}=i;return h&&(h.isPresent=c,Ay=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==c?h.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?h.promote():h.relegate()||Ut.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Ay=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SC(t){const[e,n]=WN(),i=U.useContext(qv);return u.jsx(cU,{...t,layoutGroup:i,switchLayoutGroup:U.useContext(rC),isPresent:e,safeToRemove:n})}const uU={borderRadius:{...ph,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ph,borderTopRightRadius:ph,borderBottomLeftRadius:ph,borderBottomRightRadius:ph,boxShadow:lU};function hU(t,e,n){const i=ei(t)?t:ru(t);return i.start(Tx("",i,e,n)),i.animation}const dU=(t,e)=>t.depth-e.depth;class fU{constructor(){this.children=[],this.isDirty=!1}add(e){Wv(this.children,e),this.isDirty=!0}remove(e){Kv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dU),this.isDirty=!1,this.children.forEach(e)}}function mU(t,e){const n=Di.now(),i=({timestamp:a})=>{const c=a-n;c>=e&&(Uo(i),t(c-e))};return Ut.setup(i,!0),()=>Uo(i)}const AC=["TopLeft","TopRight","BottomLeft","BottomRight"],pU=AC.length,uE=t=>typeof t=="string"?parseFloat(t):t,hE=t=>typeof t=="number"||Ke.test(t);function gU(t,e,n,i,a,c){a?(t.opacity=Zt(0,n.opacity??1,yU(i)),t.opacityExit=Zt(e.opacity??1,0,vU(i))):c&&(t.opacity=Zt(e.opacity??1,n.opacity??1,i));for(let h=0;h<pU;h++){const m=`border${AC[h]}Radius`;let g=dE(e,m),x=dE(n,m);if(g===void 0&&x===void 0)continue;g||(g=0),x||(x=0),g===0||x===0||hE(g)===hE(x)?(t[m]=Math.max(Zt(uE(g),uE(x),i),0),(Dr.test(x)||Dr.test(g))&&(t[m]+="%")):t[m]=x}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,i))}function dE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yU=NC(0,.5,fN),vU=NC(.5,.95,Rs);function NC(t,e,n){return i=>i<t?0:i>e?1:n(Kh(t,e,i))}function fE(t,e){t.min=e.min,t.max=e.max}function Ts(t,e){fE(t.x,e.x),fE(t.y,e.y)}function mE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pE(t,e,n,i,a){return t-=e,t=Im(t,1/n,i),a!==void 0&&(t=Im(t,1/a,i)),t}function xU(t,e=0,n=1,i=.5,a,c=t,h=t){if(Dr.test(e)&&(e=parseFloat(e),e=Zt(h.min,h.max,e/100)-h.min),typeof e!="number")return;let m=Zt(c.min,c.max,i);t===c&&(m-=e),t.min=pE(t.min,e,n,m,a),t.max=pE(t.max,e,n,m,a)}function gE(t,e,[n,i,a],c,h){xU(t,e[n],e[i],e[a],e.scale,c,h)}const _U=["x","scaleX","originX"],bU=["y","scaleY","originY"];function yE(t,e,n,i){gE(t.x,e,_U,n?n.x:void 0,i?i.x:void 0),gE(t.y,e,bU,n?n.y:void 0,i?i.y:void 0)}function vE(t){return t.translate===0&&t.scale===1}function CC(t){return vE(t.x)&&vE(t.y)}function xE(t,e){return t.min===e.min&&t.max===e.max}function wU(t,e){return xE(t.x,e.x)&&xE(t.y,e.y)}function _E(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RC(t,e){return _E(t.x,e.x)&&_E(t.y,e.y)}function bE(t){return yi(t.x)/yi(t.y)}function wE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class TU{constructor(){this.members=[]}add(e){Wv(this.members,e),e.scheduleRender()}remove(e){if(Kv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EU(t,e,n){let i="";const a=t.x.translate/e.x,c=t.y.translate/e.y,h=n?.z||0;if((a||c||h)&&(i=`translate3d(${a}px, ${c}px, ${h}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:x,rotate:_,rotateX:T,rotateY:A,skewX:I,skewY:P}=n;x&&(i=`perspective(${x}px) ${i}`),_&&(i+=`rotate(${_}deg) `),T&&(i+=`rotateX(${T}deg) `),A&&(i+=`rotateY(${A}deg) `),I&&(i+=`skewX(${I}deg) `),P&&(i+=`skewY(${P}deg) `)}const m=t.x.scale*e.x,g=t.y.scale*e.y;return(m!==1||g!==1)&&(i+=`scale(${m}, ${g})`),i||"none"}const Ny=["","X","Y","Z"],SU=1e3;let AU=0;function Cy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(a||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jC(i)}function PC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(h={},m=e?.()){this.id=AU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RU),this.nodes.forEach(DU),this.nodes.forEach(LU),this.nodes.forEach(jU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new fU)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Qv),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const g=this.eventHandlers.get(h);g&&g.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=ZN(h)&&!g9(h),this.instance=h;const{layoutId:m,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),t){let _,T=0;const A=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{T=window.innerWidth}),t(h,()=>{const I=window.innerWidth;I!==T&&(T=I,this.root.updateBlockedByResize=!0,_&&_(),_=mU(A,250),am.hasAnimatedSinceResize&&(am.hasAnimatedSinceResize=!1,this.nodes.forEach(SE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&x&&(m||g)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||x.getDefaultTransition()||UU,{onLayoutAnimationStart:B,onLayoutAnimationComplete:V}=x.getProps(),K=!this.targetLayout||!RC(this.targetLayout,I),H=!T&&A;if(this.options.layoutRoot||this.resumeFrom||H||T&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...ux(P,"layout"),onPlay:B,onComplete:V};(x.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(_,H)}else T||SE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MU),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const T=this.path[_];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IU),this.nodes.forEach(NU),this.nodes.forEach(CU)):this.nodes.forEach(EE),this.clearAllSnapshots();const m=Di.now();zn.delta=Ea(0,1e3/60,m-zn.timestamp),zn.timestamp=m,zn.isProcessing=!0,gy.update.process(zn),gy.preRender.process(zn),gy.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PU),this.sharedNodes.forEach(kU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yi(this.snapshot.measuredBox.x)&&!yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!CC(this.projectionDelta),g=this.getTransformTemplate(),x=g?g(this.latestValues,""):void 0,_=x!==this.prevTransformTemplateValue;h&&this.instance&&(m||El(this.latestValues)||_)&&(a(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return h&&(g=this.removeTransform(g)),BU(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return sn();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zU))){const{scroll:x}=this.root;x&&(Bc(m.x,x.offset.x),Bc(m.y,x.offset.y))}return m}removeElementScroll(h){const m=sn();if(Ts(m,h),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:_,options:T}=x;x!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&Ts(m,h),Bc(m.x,_.offset.x),Bc(m.y,_.offset.y))}return m}applyTransform(h,m=!1){const g=sn();Ts(g,h);for(let x=0;x<this.path.length;x++){const _=this.path[x];!m&&_.options.layoutScroll&&_.scroll&&_!==_.root&&zc(g,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),El(_.latestValues)&&zc(g,_.latestValues)}return El(this.latestValues)&&zc(g,this.latestValues),g}removeTransform(h){const m=sn();Ts(m,h);for(let g=0;g<this.path.length;g++){const x=this.path[g];if(!x.instance||!El(x.latestValues))continue;E0(x.latestValues)&&x.updateSnapshot();const _=sn(),T=x.measurePageBox();Ts(_,T),yE(m,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,_)}return El(this.latestValues)&&yE(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:T}=this.options;if(!(!this.layout||!(_||T))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),kh(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),cC(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),kh(this.relativeTargetOrigin,this.target,A.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||E0(this.parent.latestValues)||lC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(g=!1),g)return;const{layout:x,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||_))return;Ts(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;r7(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=sn());const{target:I}=h;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mE(this.prevProjectionDelta.x,this.projectionDelta.x),mE(this.prevProjectionDelta.y,this.projectionDelta.y)),Mh(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!wE(this.projectionDelta.x,this.prevProjectionDelta.x)||!wE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fc(),this.projectionDelta=Fc(),this.projectionDeltaWithTransform=Fc()}setAnimationOrigin(h,m=!1){const g=this.snapshot,x=g?g.latestValues:{},_={...this.latestValues},T=Fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=sn(),I=g?g.source:void 0,P=this.layout?this.layout.source:void 0,B=I!==P,V=this.getStack(),K=!V||V.members.length<=1,H=!!(B&&!K&&this.options.crossfade===!0&&!this.path.some(VU));this.animationProgress=0;let $;this.mixTargetDelta=X=>{const ee=X/1e3;AE(T.x,h.x,ee),AE(T.y,h.y,ee),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kh(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OU(this.relativeTarget,this.relativeTargetOrigin,A,ee),$&&wU(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=sn()),Ts($,this.relativeTarget)),B&&(this.animationValues=_,gU(_,x,this.latestValues,ee,H,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{am.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ru(0)),this.currentAnimation=hU(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:g,layout:x,latestValues:_}=h;if(!(!m||!g||!x)){if(this!==h&&this.layout&&x&&IC(this.options.animationType,this.layout.layoutBox,x.layoutBox)){g=this.target||sn();const T=yi(this.layout.layoutBox.x);g.x.min=h.target.x.min,g.x.max=g.x.min+T;const A=yi(this.layout.layoutBox.y);g.y.min=h.target.y.min,g.y.max=g.y.min+A}Ts(m,g),zc(m,_),Mh(this.projectionDeltaWithTransform,this.layoutCorrected,m,_)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new TU),this.sharedNodes.get(h).add(m);const x=m.options.initialPromotionConfig;m.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:g}={}){const x=this.getStack();x&&x.promote(this,g),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:g}=h;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const x={};g.z&&Cy("z",h,x,this.animationValues);for(let _=0;_<Ny.length;_++)Cy(`rotate${Ny[_]}`,h,x,this.animationValues),Cy(`skew${Ny[_]}`,h,x,this.animationValues);h.render();for(const _ in x)h.setStaticValue(_,x[_]),this.animationValues&&(this.animationValues[_]=x[_]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=rm(m?.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=rm(m?.pointerEvents)||""),this.hasProjected&&!El(this.latestValues)&&(h.transform=g?g({},""):"none",this.hasProjected=!1);return}h.visibility="";const _=x.animationValues||x.latestValues;this.applyTransformsToTarget();let T=EU(this.projectionDeltaWithTransform,this.treeScale,_);g&&(T=g(_,T)),h.transform=T;const{x:A,y:I}=this.projectionDelta;h.transformOrigin=`${A.origin*100}% ${I.origin*100}% 0`,x.animationValues?h.opacity=x===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:h.opacity=x===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const P in Xh){if(_[P]===void 0)continue;const{correct:B,applyTo:V,isCSSVariable:K}=Xh[P],H=T==="none"?_[P]:B(_[P],x);if(V){const $=V.length;for(let X=0;X<$;X++)h[V[X]]=H}else K?this.options.visualElement.renderState.vars[P]=H:h[P]=H}this.options.layoutId&&(h.pointerEvents=x===this?rm(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(TE),this.root.sharedNodes.clear()}}}function NU(t){t.updateLayout()}function CU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?Es(_=>{const T=c?e.measuredBox[_]:e.layoutBox[_],A=yi(T);T.min=n[_].min,T.max=T.min+A}):IC(a,e.layoutBox,n)&&Es(_=>{const T=c?e.measuredBox[_]:e.layoutBox[_],A=yi(n[_]);T.max=T.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const h=Fc();Mh(h,n,e.layoutBox);const m=Fc();c?Mh(m,t.applyTransform(i,!0),e.measuredBox):Mh(m,n,e.layoutBox);const g=!CC(h);let x=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:A}=_;if(T&&A){const I=sn();kh(I,e.layoutBox,T.layoutBox);const P=sn();kh(P,n,A.layoutBox),RC(I,P)||(x=!0),_.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=I,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:x})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function RU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PU(t){t.clearSnapshot()}function TE(t){t.clearMeasurements()}function EE(t){t.isLayoutDirty=!1}function IU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DU(t){t.resolveTargetDelta()}function LU(t){t.calcProjection()}function MU(t){t.resetSkewAndRotation()}function kU(t){t.removeLeadSnapshot()}function AE(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NE(t,e,n,i){t.min=Zt(e.min,n.min,i),t.max=Zt(e.max,n.max,i)}function OU(t,e,n,i){NE(t.x,e.x,n.x,i),NE(t.y,e.y,n.y,i)}function VU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UU={duration:.45,ease:[.4,0,.1,1]},CE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),RE=CE("applewebkit/")&&!CE("chrome/")?Math.round:Rs;function jE(t){t.min=RE(t.min),t.max=RE(t.max)}function BU(t){jE(t.x),jE(t.y)}function IC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z7(bE(e),bE(n),.2)}function zU(t){return t!==t.root&&t.scroll?.wasRoot}const FU=PC({attachResizeListener:(t,e)=>Jh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ry={current:void 0},DC=PC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ry.current){const t=new FU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ry.current=t}return Ry.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),HU={pan:{Feature:oU},drag:{Feature:aU,ProjectionNode:DC,MeasureLayout:SC}};function PE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=i[a];c&&Ut.postRender(()=>c(e,Td(e)))}class qU extends qo{mount(){const{current:e}=this.node;e&&(this.unmount=h9(e,(n,i)=>(PE(this.node,i,"Start"),a=>PE(this.node,a,"End"))))}unmount(){}}class GU extends qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_d(Jh(this.node.current,"focus",()=>this.onFocus()),Jh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=i[a];c&&Ut.postRender(()=>c(e,Td(e)))}class ZU extends qo{mount(){const{current:e}=this.node;e&&(this.unmount=p9(e,(n,i)=>(IE(this.node,i,"Start"),(a,{success:c})=>IE(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const P0=new WeakMap,jy=new WeakMap,WU=t=>{const e=P0.get(t.target);e&&e(t)},KU=t=>{t.forEach(WU)};function $U({root:t,...e}){const n=t||document;jy.has(n)||jy.set(n,{});const i=jy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(KU,{root:t,...e})),i[a]}function YU(t,e,n){const i=$U(e);return P0.set(t,n),i.observe(t),()=>{P0.delete(t),i.unobserve(t)}}const QU={some:0,all:1};class XU extends qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:c}=e,h={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:QU[a]},m=g=>{const{isIntersecting:x}=g;if(this.isInView===x||(this.isInView=x,c&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:_,onViewportLeave:T}=this.node.getProps(),A=x?_:T;A&&A(g)};return YU(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JU(e,n))&&this.startObserver()}unmount(){}}function JU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eB={inView:{Feature:XU},tap:{Feature:ZU},focus:{Feature:GU},hover:{Feature:qU}},tB={layout:{ProjectionNode:DC,MeasureLayout:SC}},nB={...B7,...eB,...HU,...tB},ji=n7(nB,p7),iB=()=>{const t=ki(),{orderId:e,payment:n}=t.state||{},[i,a]=U.useState(null),[c,h]=U.useState(!0),[m,g]=U.useState(!1);return U.useEffect(()=>{if(!e)return;(async()=>{try{const T=Mr(kn(xt,"orders"),iu("razorpayOrderId","==",e)),A=await is(T);if(A.empty)console.warn("No order found with Razorpay Order ID:",e);else{const I=A.docs[0];a(I.data())}}catch(T){console.error("Error fetching order:",T)}finally{h(!1)}})();const _=setTimeout(()=>g(!0),2e3);return()=>clearTimeout(_)},[e]),e?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 py-8 px-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs(ji.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[u.jsx(ji.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:u.jsx("i",{className:"fas fa-check-circle text-4xl text-white"})}),u.jsx(ji.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Order Confirmed!"}),u.jsx(ji.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-lg text-gray-600",children:"Thank you for your purchase! Your order has been successfully placed."})]}),u.jsx(ji.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"flex justify-center mb-8",children:u.jsxs("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-semibold ${n==="success"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:[u.jsx("i",{className:`fas ${n==="success"?"fa-check-circle":"fa-clock"} mr-2`}),"Payment ",n?.toUpperCase()]})}),u.jsxs(ji.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-emerald-100",children:[u.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 p-6",children:u.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[u.jsx("i",{className:"fas fa-receipt mr-3"}),"Order Details"]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[u.jsx("i",{className:"fas fa-hashtag mr-2 text-emerald-500"}),"Order ID"]}),u.jsxs("span",{className:"font-mono font-semibold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:["#",e.slice(-8)]})]}),u.jsx(Uf,{children:c&&u.jsxs(ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[u.jsx(ji.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"Loading order details..."})]})}),u.jsx(Uf,{children:!c&&i&&u.jsxs(ji.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4 mt-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl",children:[u.jsxs("div",{className:"text-sm text-emerald-600 font-medium mb-1",children:[u.jsx("i",{className:"fas fa-rupee-sign mr-1"}),"Amount"]}),u.jsxs("div",{className:"text-lg font-bold text-emerald-700",children:["",i.amount]})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[u.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Date"}),u.jsx("div",{className:"text-sm font-semibold text-green-700",children:i.createdAt?.toDate?i.createdAt.toDate().toLocaleDateString():"N/A"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-teal-50 p-4 rounded-xl",children:[u.jsx("div",{className:"text-sm text-teal-600 font-medium mb-1",children:"Status"}),u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:i.status||"Confirmed"})]}),u.jsxs("div",{className:"bg-cyan-50 p-4 rounded-xl",children:[u.jsx("div",{className:"text-sm text-cyan-600 font-medium mb-1",children:"Plan"}),u.jsx("div",{className:"text-sm font-semibold text-cyan-700",children:i.items&&i.items.length>0?u.jsx("ul",{className:"list-disc list-inside space-y-1",children:i.items.map((x,_)=>u.jsxs("li",{children:[x.name," ",x.quantity?`x${x.quantity}`:""]},_))}):"No items"})]})]})]})}),u.jsx(Uf,{children:!c&&!i&&u.jsxs(ji.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 text-red-500",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),u.jsx("p",{children:"Order details not found."})]})})]})]}),u.jsxs(ji.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(Ye,{to:"/",className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-4 rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-300 font-semibold text-center group",children:[u.jsx("i",{className:"fas fa-shopping-bag mr-2 group-hover:scale-110 transition-transform"}),"Continue Shopping"]}),u.jsxs(Ye,{to:"/profile",className:"flex-1 border-2 border-emerald-600 text-emerald-600 px-8 py-4 rounded-xl hover:bg-emerald-50 transition-all duration-300 font-semibold text-center group",children:[u.jsx("i",{className:"fas fa-clipboard-list mr-2 group-hover:scale-110 transition-transform"}),"View My Orders"]})]}),u.jsx(Uf,{children:m&&u.jsx(u.Fragment,{children:[...Array(5)].map((x,_)=>u.jsx(ji.div,{initial:{scale:0,opacity:0,x:Math.random()*100-50,y:Math.random()*100-50},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:Math.random()*360},transition:{duration:2,delay:_*.3,repeat:1/0,repeatDelay:5},className:"fixed text-emerald-400 text-2xl pointer-events-none",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:u.jsx("i",{className:"fas fa-star"})},_))})})]})}):u.jsx(ji.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center px-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[u.jsx(ji.div,{initial:{scale:0},animate:{scale:1},className:"text-red-500 text-6xl mb-4",children:u.jsx("i",{className:"fas fa-exclamation-triangle"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Invalid Order Confirmation"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your order details. Please check your confirmation link."}),u.jsxs(Ye,{to:"/",className:"inline-flex items-center bg-emerald-600 text-white px-6 py-3 rounded-xl hover:bg-emerald-700 transition-all duration-300 font-medium",children:[u.jsx("i",{className:"fas fa-home mr-2"}),"Go back to Home"]})]})})};delete Ps.Icon.Default.prototype._getIconUrl;Ps.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});new Ps.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]});const sB=()=>{const[t,e]=U.useState("introduction"),n=[{id:"introduction",title:"Introduction"},{id:"accounts",title:"User Accounts"},{id:"subscriptions",title:"Subscriptions"},{id:"payments",title:"Payments"},{id:"delivery",title:"Delivery Policy"},{id:"cancellations",title:"Cancellations & Refunds"}];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs(Ye,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 mb-6",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms & Conditions"}),u.jsxs("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Table of Contents"}),u.jsxs("nav",{className:"space-y-2",children:[n.map(i=>u.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id)),u.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-green-900 text-sm mb-2",children:"Questions?"}),u.jsxs("p",{className:"text-green-700 text-xs",children:["Contact our privacy team at"," ",u.jsx("p",{className:"font-medium text-lg",children:"Hariharan"}),u.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"underline",children:"fruitbunch.tvm@gmail.com"}),u.jsx("br",{}),"or call us at"," ",u.jsx("a",{href:"tel:+918807239379",className:"underline",children:"+91 88072 39379"})]})]})]})]})}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="introduction"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Introduction"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsxs("p",{children:["Welcome to ",u.jsx("strong",{children:"FreshDaily"}),' ("we," "our," or "us"). These Terms and Conditions govern your use of our subscription-based daily delivery service. By accessing or using our services, you agree to be bound by these terms.']}),u.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[u.jsx("p",{className:"text-blue-800 font-medium",children:"Important:"}),u.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Please read these terms carefully before using our services. If you disagree with any part of these terms, you may not access our services."})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Definitions"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Service:"})," Our daily delivery subscription service"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"User:"})," Any individual or entity using our services"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Subscription:"})," A recurring service plan with specified duration"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Content:"})," All materials provided through our service"]})]})]})]}),t==="accounts"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. User Accounts"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Account Registration"}),u.jsx("p",{children:"To use our services, you must register for an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Account Security"}),u.jsx("p",{children:"You must notify us immediately of any unauthorized use of your account. We reserve the right to suspend or terminate accounts that violate these terms."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Age Requirement"}),u.jsx("p",{children:"You must be at least 18 years old to use our services. By registering, you represent that you meet this age requirement."})]})]}),t==="subscriptions"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. Subscriptions"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Subscription Plans"}),u.jsx("p",{children:"We offer various subscription plans with different durations and features. All subscriptions automatically renew unless canceled before the renewal date."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.2 Subscription Period"}),u.jsx("p",{children:"Each subscription period is 26 days. The service will automatically renew for subsequent 26-day periods unless canceled."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.3 Cancellation Policy"}),u.jsx("p",{children:"You may cancel your subscription at any time. Cancellations will take effect at the end of the current billing period."}),u.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6",children:[u.jsx("p",{className:"text-yellow-800 font-medium",children:"Note:"}),u.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Canceling your subscription does not entitle you to a refund for the current period."})]})]})]}),t==="payments"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Payments"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Payment Methods"}),u.jsx("p",{children:"We accept various payment methods including credit/debit cards, UPI, and other electronic payment systems. All payments are processed through secure third-party payment gateways."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Billing Cycle"}),u.jsx("p",{children:"Payments are charged at the beginning of each subscription period. You will receive a notification before each renewal."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.3 Price Changes"}),u.jsx("p",{children:"We reserve the right to change subscription prices. Existing subscribers will be notified 30 days in advance of any price changes."})]})]}),t==="delivery"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Delivery Policy"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Delivery Areas"}),u.jsx("p",{children:"We currently deliver to specified areas within our service coverage. Delivery availability may vary based on your location."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Delivery Times"}),u.jsx("p",{children:"Deliveries are made daily within specified time windows. While we strive for punctuality, delivery times may vary due to unforeseen circumstances."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.3 Delivery Issues"}),u.jsx("p",{children:"If you encounter any delivery issues, please contact our support team within 24 hours of the scheduled delivery time."})]})]}),t==="cancellations"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6. Cancellations & Refunds"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.1 Subscription Cancellation"}),u.jsx("p",{children:"You may cancel your subscription at any time through your account dashboard. The cancellation will take effect at the end of your current billing period."}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.2 Refund Policy"}),u.jsx("p",{children:"We offer refunds only under specific circumstances:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsx("li",{children:"Service interruption for more than 3 consecutive days"}),u.jsx("li",{children:"Technical issues preventing service access"}),u.jsx("li",{children:"Duplicate payments"})]}),u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[u.jsx("p",{className:"text-red-800 font-medium",children:"No Refunds For:"}),u.jsxs("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside ml-4",children:[u.jsx("li",{children:"Change of mind after subscription"}),u.jsx("li",{children:"Non-usage of service during active period"}),u.jsx("li",{children:"Partial month usage"})]})]})]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),u.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:["Next Section",u.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),u.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptance of Terms"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"By using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),u.jsx("div",{className:"flex justify-center space-x-4",children:u.jsx(Ye,{to:"/privacypolicy",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"Privacy Policy"})})]})})]})]})]})})},rB=()=>{const[t,e]=U.useState("overview"),n=[{id:"overview",title:"Overview"},{id:"information",title:"Information We Collect"},{id:"usage",title:"How We Use Information"},{id:"sharing",title:"Information Sharing"},{id:"cookies",title:"Cookies & Tracking"}];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs(Ye,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),u.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"We are committed to protecting your privacy and ensuring transparency about how we handle your personal information."}),u.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),u.jsx("nav",{className:"space-y-2",children:n.map(i=>u.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Questions?"}),u.jsxs("p",{className:"text-blue-700 text-xs",children:["Contact our privacy team at"," ",u.jsx("p",{className:"font-medium text-lg",children:"Hariharan"}),u.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"underline",children:"fruitbunch.tvm@gmail.com"}),u.jsx("br",{}),"or call us at"," ",u.jsx("a",{href:"tel:+918807239379",className:"underline",children:"+91 88072 39379"})]})]})]})}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="overview"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Overview"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[u.jsxs("p",{children:["At ",u.jsx("strong",{children:"FreshDaily"}),", we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our services."]}),u.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 my-6",children:[u.jsx("p",{className:"text-green-800 font-medium",children:"Our Commitment:"}),u.jsxs("ul",{className:"text-green-700 text-sm mt-1 list-disc list-inside ml-4",children:[u.jsx("li",{children:"We never sell your personal information"}),u.jsx("li",{children:"We minimize data collection to what's necessary"}),u.jsx("li",{children:"We implement robust security measures"}),u.jsx("li",{children:"We are transparent about our practices"})]})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Scope"}),u.jsx("p",{children:'This policy applies to all information collected through our website, mobile applications, and services (collectively, the "Services").'})]})]}),t==="information"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. Information We Collect"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Personal Information"}),u.jsx("p",{children:"We collect information that identifies you as an individual:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Contact Information:"})," Name, email address, phone number"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Account Information:"})," Username, password, profile details"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Payment Information:"})," Billing address, payment method details"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Delivery Information:"})," Shipping address, location data"]})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Usage Information"}),u.jsx("p",{children:"We automatically collect information about your interaction with our Services:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsx("li",{children:"IP address and device information"}),u.jsx("li",{children:"Browser type and version"}),u.jsx("li",{children:"Pages visited and time spent"}),u.jsx("li",{children:"Subscription usage patterns"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Location Information"}),u.jsx("p",{children:"With your permission, we collect precise location data to provide delivery services and improve user experience."})]})]}),t==="usage"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. How We Use Your Information"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Service Provision"}),u.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 list-disc list-inside ml-2",children:[u.jsx("li",{children:"Process subscriptions and payments"}),u.jsx("li",{children:"Schedule and manage deliveries"}),u.jsx("li",{children:"Provide customer support"}),u.jsx("li",{children:"Send service notifications"})]})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Improvement"}),u.jsxs("ul",{className:"text-green-700 text-sm space-y-1 list-disc list-inside ml-2",children:[u.jsx("li",{children:"Analyze usage patterns"}),u.jsx("li",{children:"Improve service quality"}),u.jsx("li",{children:"Develop new features"}),u.jsx("li",{children:"Personalize user experience"})]})]})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Legal Bases for Processing"}),u.jsx("p",{children:"We process your information based on:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Contractual necessity:"})," To provide the services you requested"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Legal compliance:"})," To meet regulatory requirements"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Legitimate interests:"})," To improve our services"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Consent:"})," For specific purposes where required"]})]})]})]}),t==="sharing"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Information Sharing & Disclosure"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:u.jsx("p",{className:"text-yellow-800 font-medium",children:"We do not sell your personal information to third parties."})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Service Providers"}),u.jsx("p",{children:"We share information with trusted service providers who assist in our operations:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsx("li",{children:"Payment processors (Razorpay, Stripe)"}),u.jsx("li",{children:"Delivery and logistics partners"}),u.jsx("li",{children:"Cloud storage providers (Firebase)"}),u.jsx("li",{children:"Customer support platforms"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Legal Requirements"}),u.jsx("p",{children:"We may disclose information when required by law or to:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[u.jsx("li",{children:"Comply with legal processes"}),u.jsx("li",{children:"Protect our rights and property"}),u.jsx("li",{children:"Prevent fraud or security issues"}),u.jsx("li",{children:"Protect the safety of our users"})]})]})]}),t==="cookies"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Cookies & Tracking Technologies"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Types of Cookies We Use"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Essential"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Basic website functionality"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Session"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Analytics"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Service improvement"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"2 years"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Preferences"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Remember your settings"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"1 year"})]})]})]})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Managing Cookies"}),u.jsx("p",{children:"You can control cookie settings through your browser. However, disabling essential cookies may affect service functionality."})]})]}),t==="rights"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7. Your Privacy Rights"}),u.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access & Portability"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Request a copy of your personal data in a machine-readable format"})]}),u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Correction"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Update or correct inaccurate personal information"})]}),u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Deletion"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data under certain conditions"})]}),u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Objection"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your personal data for specific purposes"})]})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"7.1 Exercising Your Rights"}),u.jsxs("p",{children:["To exercise any of these rights, please contact us at"," ",u.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"text-blue-600 underline",children:"privacy@freshdaily.com"}),". We will respond to your request within 30 days."]})]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),u.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:["Next Section",u.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),u.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Our Privacy Team"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us."}),u.jsxs("div",{className:"flex justify-center space-x-4",children:[u.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition",children:"Email Privacy Team"}),u.jsx(Ye,{to:"/termsandconditions",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"View Terms"})]})]})})]})]})]})})},aB=()=>{const{pathname:t}=ki();return U.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null},oB=({sidebarOpen:t,setSidebarOpen:e})=>{const n=ki(),i=Aa(),a=[{id:"analytics",label:"Analytics",icon:"fa-chart-line",path:"/admin"},{id:"subscriptions",label:"Subscriptions",icon:"fa-chart-pie",path:"/admin/subscriptions"},{id:"orders",label:"Orders",icon:"fa-box",path:"/admin/orders"},{id:"attendance",label:"Attendance",icon:"fa-users",path:"/admin/attendance"},{id:"corporatequotes",label:"Function Quotes",icon:"fa-briefcase",path:"/admin/corporatequotes"}],c=()=>{const m=n.pathname;return a.find(g=>m===g.path)?.id||"subscriptions"},h=m=>{i(m),e(!1)};return u.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 w-64 h-[100vh] bg-white shadow-xl transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"py-6 px-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white flex items-center justify-between",children:[u.jsx(Ye,{to:"/",className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-3 py-1.5 mr-2 rounded-lg text-sm font-medium transition",children:u.jsx("i",{className:"fas fa-arrow-left text-sm"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold",children:"Fruit Bunch Admin"}),u.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Sustainable Delivery Management"})]})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2",children:a.map(m=>u.jsxs("button",{onClick:()=>h(m.path),className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${c()===m.id?"bg-emerald-50 text-emerald-700 border-l-4 border-emerald-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx("i",{className:`fas ${m.icon} text-lg mr-3`}),u.jsx("span",{className:"font-medium",children:m.label})]},m.id))}),u.jsx("div",{className:"p-4 border-t border-gray-100",children:u.jsx("div",{className:"text-center text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})]})})},lB=()=>{const t=ki(),[e,n]=U.useState(null);U.useEffect(()=>{const c=localStorage.getItem("user");if(c){const h=JSON.parse(c);n(h)}},[]);const i=()=>{const c=t.pathname;return c==="/admin"?"Analytics":c==="/admin/orders"?"Orders":c==="/admin/attendance"?"Attendance":c==="/admin/subscriptions"?"Subscriptions":c==="/admin/corporatequotes"?"Function Quotes":"Dashboard"},a=()=>{const c=t.pathname;return c==="/admin"?"Overview of key metrics and performance":c==="/admin/orders"?"Track and manage all delivery orders":c==="/admin/attendance"?"Daily delivery performance tracking":c==="/admin/subscriptions"?"Active subscriptions and customer management":c==="/admin/corporatequotes"?"Manage function quotes and requests":"Manage your delivery operations efficiently"};return u.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-emerald-100",children:u.jsx("div",{className:"px-4 lg:px-6 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900 capitalize",children:i()}),u.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:a()})]}),u.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Welcome back, ",e?e.name:"Admin"]}),u.jsx("div",{className:"text-xs text-gray-500",children:"Last updated: Just now"})]}),u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:u.jsx("i",{className:"fas fa-user"})})]})]})})})},cB=()=>{const[t,e]=U.useState(!1);return u.jsxs("div",{className:"h-screen flex bg-gradient-to-br from-emerald-50 to-green-50",children:[u.jsx(oB,{sidebarOpen:t,setSidebarOpen:e}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"sticky top-0 z-20 bg-white shadow-sm border-b border-emerald-100",children:[u.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4",children:[u.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg bg-emerald-50 text-emerald-700",children:u.jsx("i",{className:"fas fa-bars"})}),u.jsxs("div",{className:"text-emerald-700 font-semibold",children:[u.jsx("i",{className:"fas fa-leaf mr-2"}),"Admin Dashboard"]}),u.jsx("div",{className:"w-6"})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx(lB,{})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:u.jsx(qE,{})})]})]})};delete Ps.Icon.Default.prototype._getIconUrl;Ps.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const uB=new Ps.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]}),hB=({subscription:t,onClose:e})=>{const{user:n,activeSubscription:i,orders:a}=t,c=h=>{const g={active:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Active"},expiring_soon:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800 border-red-200",label:"Expired"},not_subscribed:{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Subscribed"}}[h]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:h};return u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${g.color}`,children:g.label})};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[u.jsx("h3",{className:"text-xl font-bold",children:"User Details"}),u.jsx("button",{onClick:e,className:"text-white hover:text-emerald-200 transition-colors",children:u.jsx("i",{className:"fas fa-times"})})]}),u.jsx("div",{className:"p-4 lg:p-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"User Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:n?.name||"N/A"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:n?.email})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phone:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:n?.phone||"N/A"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Joined:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:n?.createdAt?.toDate?n.createdAt.toDate().toLocaleDateString():"Unknown"})]})]}),u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Subscription"}),i?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Plan:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:i.items?.[0]?.name||"Subscription"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),u.jsx("span",{children:c(i.status)})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Days Left:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:i.daysLeft})]})]}):u.jsx("p",{className:"text-gray-500 italic",children:"No active subscription"})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Location"}),i?.location?u.jsxs(Ov,{center:[i.location.lat,i.location.lng],zoom:13,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[u.jsx(Bv,{attribution:' <a href="https://www.google.com/maps">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),u.jsx(Vv,{position:[i.location.lat,i.location.lng],icon:uB,children:u.jsxs(Uv,{children:[n.name," (",n.email,")"]})})]}):u.jsx("p",{className:"text-gray-500",children:"Location not available"}),u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Orders"}),a?.length>0?u.jsx("div",{className:"space-y-3",children:a.map(h=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-100",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-gray-900",children:["Order #",h.id]}),u.jsxs("p",{className:"text-sm text-emerald-600",children:["",h.amount,"  ",new Date(h.createdAt).toLocaleDateString()]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:h.items?.[0]?.name||"Plan"})]},h.id))}):u.jsx("p",{className:"text-gray-500 italic",children:"No orders available"})]})]})})]})})},dB=()=>{const[t,e]=U.useState([]),[n,i]=U.useState(!0),[a,c]=U.useState("all"),[h,m]=U.useState(null);U.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const I=Mr(kn(xt,"orders"),md("createdAt","desc")),B=(await is(I)).docs.map($=>({id:$.id,...$.data(),createdAt:$.data().createdAt?.toDate?.()||new Date,expiryDate:$.data().expiryDate?.toDate?.()||null})),H=(await is(kn(xt,"users"))).docs.map($=>({id:$.id,...$.data()})).map($=>{const X=B.filter(O=>O.userId===$.id),ee=X[0];let oe=null;if(ee){const O=x(ee.expiryDate);oe={...ee,daysLeft:O,status:_(ee.expiryDate),location:ee.shipping?.location||null}}return{user:$,orders:X,activeSubscription:oe,totalOrders:X.length,totalSpent:X.reduce((O,j)=>O+(j.amount||0),0)}});e(H)}catch(I){console.error("Error fetching data:",I)}finally{i(!1)}},x=I=>{if(!I)return 0;const P=new Date,B=new Date(I);return Math.max(0,Math.ceil((B-P)/(1e3*60*60*24)))},_=I=>{const P=x(I);return P===0?"expired":P<=7?"expiring_soon":"active"},T=I=>{const B={active:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Active"},expiring_soon:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800 border-red-200",label:"Expired"},not_subscribed:{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Subscribed"}}[I]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:I};return u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${B.color}`,children:B.label})},A=t.filter(I=>a==="all"?!0:I.activeSubscription?I.activeSubscription.status===a:a==="not_subscribed");return n?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),u.jsx("p",{className:"mt-3 text-emerald-700 font-medium",children:"Loading subscriptions..."})]})}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[u.jsxs("div",{className:"px-4 lg:px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:"User Subscriptions"}),u.jsx("p",{className:"text-emerald-700 text-sm",children:"Active subscriptions and customer management"})]}),u.jsx("div",{className:"flex space-x-2",children:u.jsxs("select",{value:a,onChange:I=>c(I.target.value),className:"px-3 py-2 rounded-lg border border-emerald-200 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"expiring_soon",children:"Expiring Soon"}),u.jsx("option",{value:"expired",children:"Expired"}),u.jsx("option",{value:"not_subscribed",children:"Not Subscribed"})]})})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Subscription"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Orders"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Spent"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(I=>{const P=I.activeSubscription?I.activeSubscription.status:"not_subscribed";return u.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-8 w-8 lg:h-10 lg:w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:u.jsx("i",{className:"fas fa-user"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.user.name||"No Name"}),u.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[120px] lg:max-w-none",children:I.user.email})]})]})}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:I.activeSubscription?u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.activeSubscription.items?.[0]?.name||"Subscription"}),u.jsxs("div",{className:"text-sm text-emerald-600 font-semibold",children:[I.activeSubscription.daysLeft," days left"]})]}):u.jsx("span",{className:"text-sm text-gray-500",children:"No active subscription"})}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:T(P)}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:I.totalOrders}),u.jsxs("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:["",I.totalSpent]}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:u.jsx("button",{onClick:()=>m(I),className:"px-3 py-1 text-sm bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition",children:"View"})})]},I.user.id)})})]})}),h&&u.jsx(hB,{subscription:h,onClose:()=>m(null)})]})},fB=()=>{const[t,e]=U.useState([]),[n,i]=U.useState([]),[a,c]=U.useState(!0),[h,m]=U.useState("All"),[g,x]=U.useState("All");U.useEffect(()=>{_()},[]);const _=async()=>{try{c(!0);const P=Mr(kn(xt,"orders"),md("createdAt","desc")),V=(await is(P)).docs.map($=>({id:$.id,...$.data(),createdAt:$.data().createdAt?.toDate?.()||new Date}));e(V);const H=(await is(kn(xt,"users"))).docs.map($=>({id:$.id,...$.data()}));i(H)}catch(P){console.error("Error fetching data:",P)}finally{c(!1)}},T=P=>{const V={Paid:{color:"bg-green-100 text-green-800 border-green-200",label:"Success"},Pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"Pending"},Failed:{color:"bg-red-100 text-red-800 border-red-200",label:"Failed"}}[P]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:P};return u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${V.color}`,children:V.label})},A=async P=>{try{if(window.confirmation||(window.confirmation=K=>new Promise(H=>{const $=window.confirm(K);H($)})),!await window.confirmation("Are you sure you want to mark this order as Paid?"))return;const V=Mn(xt,"orders",P.id);await fa(V,{paymentStatus:"Paid"}),e(K=>K.map(H=>H.id===P.id?{...H,paymentStatus:"Paid"}:H))}catch(B){console.error("Error updating payment status:",B)}},I=t.filter(P=>{const B=h==="All"||P.paymentMethod===h,V=g==="All"||P.paymentStatus===g;return B&&V});return a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),u.jsx("p",{className:"mt-3 text-emerald-700 font-medium",children:"Loading orders..."})]})}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[u.jsxs("div",{className:"px-4 lg:px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:"Order Management"}),u.jsx("p",{className:"text-emerald-700 text-sm",children:"Track and manage all delivery orders"})]}),u.jsxs("div",{className:"text-xl lg:text-2xl text-emerald-600",children:[u.jsx("i",{className:"fas fa-boxes"})," ",I.length]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[u.jsxs("select",{value:h,onChange:P=>m(P.target.value),className:"border rounded-lg px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[u.jsx("option",{value:"All",children:"All Methods"}),u.jsx("option",{value:"card",children:"Credit/Debit Card"}),u.jsx("option",{value:"COD",children:"Cash on Delivery"}),u.jsx("option",{value:"upi",children:"UPI"})]}),u.jsxs("select",{value:g,onChange:P=>x(P.target.value),className:"border rounded-lg px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Paid",children:"Paid"}),u.jsx("option",{value:"Pending",children:"Pending"}),u.jsx("option",{value:"Failed",children:"Failed"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Pack"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Amount"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Payment Method"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Payment Status"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.length===0?u.jsx("tr",{children:g?u.jsxs("td",{colSpan:"7",className:"px-4 lg:px-6 py-6 text-center text-sm text-gray-500",children:["No ",g!=="All"?g.toLowerCase():""," orders found."]}):u.jsxs("td",{colSpan:"7",className:"px-4 lg:px-6 py-6 text-center text-sm text-gray-500",children:["No ",h!=="All"?h.toLowerCase():""," orders found."]})}):I.map(P=>{const B=n.find(V=>V.id===P.userId);return u.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[u.jsxs("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm font-mono font-semibold text-emerald-600",children:["#",P.id.slice(-8)]}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm font-medium text-gray-900",children:B?.name||"Unknown User"}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm text-gray-700",children:P.items?.map(V=>V.name).join(", ")||"N/A"}),u.jsxs("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm font-semibold text-emerald-600",children:["",P.amount]}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm text-gray-500",children:P.createdAt.toLocaleDateString()}),u.jsx("td",{className:"px-4 lg:px-6 py-4 capitalize whitespace-nowrap text-xs lg:text-sm text-gray-700",children:P.paymentMethod||"N/A"}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[T(P.paymentStatus||"Pending"),P.paymentMethod==="COD"&&P.paymentStatus==="Pending"&&u.jsx("button",{onClick:()=>A(P),className:"px-3 py-1 text-xs font-medium bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition",children:"Mark as Paid"})]})})]},P.id)})})]})})]})};delete Ps.Icon.Default.prototype._getIconUrl;Ps.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const mB=new Ps.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]}),pB=({order:t,onClose:e,onStatusUpdate:n,onCancelDay:i})=>{const a=c=>{const m={delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"N/A"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Not Delivered"},leave_user:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"User Leave"},leave_company:{color:"bg-indigo-100 text-indigo-800 border-indigo-200",label:"Company Leave"}}[c]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:c};return u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${m.color}`,children:m.label})};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[u.jsx("h3",{className:"text-xl font-bold",children:"Delivery Details"}),u.jsx("button",{onClick:e,className:"text-white hover:text-emerald-200 transition-colors text-xl",children:""})]}),u.jsx("div",{className:"p-4 lg:p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Customer Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:t.customerName})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:t.shipping?.email})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phone:"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:t.shipping?.phone})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Days Left:"}),u.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[t.daysLeft," days"]})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),u.jsx("span",{children:a(t.deliveryStatus)})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Address"}),u.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[u.jsx("p",{className:"font-medium text-gray-900",children:t.shippingAddress?.address}),u.jsxs("p",{className:"text-gray-600 mt-1",children:[t.shippingAddress?.city,", ",t.shippingAddress?.state]}),u.jsxs("p",{className:"text-gray-600",children:["Pincode: ",t.shippingAddress?.pincode]}),u.jsxs("p",{className:"text-gray-600",children:["Country: ",t.shippingAddress?.country]})]})]}),t.shippingAddress?.location&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Location"}),u.jsxs(Ov,{center:[t.shippingAddress.location.lat,t.shippingAddress.location.lng],zoom:15,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[u.jsx(Bv,{attribution:!1,url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),u.jsx(Vv,{position:[t.shippingAddress.location.lat,t.shippingAddress.location.lng],icon:mB,children:u.jsxs(Uv,{children:["Delivery Location for ",t.customerName]})})]})]})]})})]})})},gB=()=>{const[t,e]=U.useState([]),[n,i]=U.useState({}),[a,c]=U.useState(new Date().toISOString().split("T")[0]),[h,m]=U.useState(!0),[g,x]=U.useState(null),[_,T]=U.useState(!1);U.useEffect(()=>{A()},[]),U.useEffect(()=>{t.length>0&&I()},[a,t]);const A=async()=>{try{m(!0);const X=Mr(kn(xt,"orders"),md("createdAt","desc")),oe=(await is(X)).docs.map(O=>{const j=O.data();return{id:O.id,...j,createdAt:j.createdAt?.toDate?.()||new Date,expiryDate:j.expiryDate?.toDate?.()||null,customerName:`${j.shipping?.firstName||""} ${j.shipping?.lastName||""}`.trim()||"Unknown Customer",shippingAddress:{address:j.shipping?.address||"",city:j.shipping?.city||"",state:j.shipping?.state||"",pincode:j.shipping?.pincode||"",country:j.shipping?.country||"",location:j.shipping?.location||null}}});e(oe)}catch(X){console.error("Error fetching orders:",X)}finally{m(!1)}},I=async()=>{try{const X=Mr(kn(xt,"attendance"),iu("orderId","in",t.map(j=>j.id))),oe=(await is(X)).docs.map(j=>({id:j.id,...j.data()})),O=t.filter(j=>{if(!j.expiryDate)return!1;const M=new Date(j.createdAt),G=new Date(j.expiryDate),F=new Date(a);return F>=M&&F<=G}).map(j=>{const M=oe.find(F=>F.orderId===j.id),G=M?.days?.find(F=>F.date===a)?.status||"pending";return{...j,deliveryStatus:G,attendanceId:M?.id||null,daysLeft:P(j.expiryDate)}});i({date:a,totalOrders:O.length,delivered:O.filter(j=>j.deliveryStatus==="delivered").length,notDelivered:O.filter(j=>["pending","not_delivered"].includes(j.deliveryStatus)).length,orders:O})}catch(X){console.error("Error fetching attendance data:",X)}},P=X=>{if(!X)return 0;const ee=new Date,oe=new Date(X);return Math.max(0,Math.ceil((oe-ee)/(1e3*60*60*24)))},B=async(X,ee)=>{try{const oe=ee==="not_delivered"?"Are you sure you want to mark this order as 'Not Delivered'? It will still be recorded as 'Delivered'.":`Are you sure you want to mark this order as '${ee.replace("_"," ")}'?`;if(!window.confirm(oe))return;let j=ee;if(ee==="not_delivered"&&(j="delivered"),!X.attendanceId){console.error("No attendanceId found for order:",X.id);return}const M=Mn(xt,"attendance",X.attendanceId),G=await Xs(M);if(!G.exists()){console.error("Attendance document not found for order:",X.id);return}let{days:F}=G.data();F=F.map(q=>q.date===a?{...q,status:ee}:q),await fa(M,{days:F,updatedAt:ot.now()});const Y=Mn(xt,"orders",X.id);await fa(Y,{deliveryStatus:j,updatedAt:ot.now()}),I()}catch(oe){console.error("Error updating delivery status:",oe)}},V=async X=>{try{if(!X.attendanceId){console.error("No attendanceId found for order:",X.id);return}const ee=new Date;if(new Date(a)<new Date(ee.setHours(0,0,0,0))){alert("Cannot update attendance for past dates.");return}const O=Mn(xt,"attendance",X.attendanceId),j=await Xs(O);if(!j.exists())return;let{days:M}=j.data();const G=M.findIndex(Be=>Be.date===a);if(G===-1)M.push({date:a,status:"leave_user"});else{const Be=M[G].status;if(["leave_user","leave_company"].includes(Be)){alert("Already marked as leave for this date.");return}M[G].status="leave_user"}await fa(O,{days:M,updatedAt:ot.now()});const F=Mn(xt,"orders",X.id),q=(await Xs(F)).data(),ke=q.extendedDates||[];if(!ke.includes(a)){const Be=new Date(q.expiryDate.toDate());Be.setDate(Be.getDate()+1),ke.push(a),await fa(F,{expiryDate:ot.fromDate(Be),extendedDates:ke});const ae=M[M.length-1]?.date,ye=new Date(ae||a);ye.setDate(ye.getDate()+1);const re=ye.toISOString().split("T")[0];M.some(Ae=>Ae.date===re)||(M.push({date:re,status:"pending"}),await fa(O,{days:M,updatedAt:ot.now()}))}I(),alert("User skip marked successfully.")}catch(ee){console.error("Error marking user skip:",ee),alert("Failed to mark skip. Please try again.")}},K=async()=>{try{const X=new Date;if(new Date(a)<new Date(X.setHours(0,0,0,0))){alert("Cannot mark global leave for past dates.");return}const oe=n.orders||[];if(oe.length===0){alert("No active orders found.");return}const O=oe.map(async j=>{if(!j.attendanceId)return;const M=Mn(xt,"attendance",j.attendanceId),G=await Xs(M);if(!G.exists())return;let{days:F}=G.data();const Y=F.findIndex(ye=>ye.date===a);if(Y===-1)F.push({date:a,status:"leave_company"});else{const ye=F[Y].status;if(["leave_company","leave_user"].includes(ye))return;F[Y].status="leave_company"}await fa(M,{days:F,updatedAt:ot.now()});const q=Mn(xt,"orders",j.id),Be=(await Xs(q)).data(),ae=Be.extendedDates||[];if(!ae.includes(a)){const ye=new Date(Be.expiryDate.toDate());ye.setDate(ye.getDate()+1),ae.push(a),await fa(q,{expiryDate:ot.fromDate(ye),extendedDates:ae});const re=F[F.length-1]?.date,Ae=new Date(re||a);Ae.setDate(Ae.getDate()+1);const z=Ae.toISOString().split("T")[0];F.some(ce=>ce.date===z)||(F.push({date:z,status:"pending"}),await fa(M,{days:F,updatedAt:ot.now()}))}});await Promise.all(O),I(),alert("Company holiday marked successfully. Expiry extended by 1 day for all active orders.")}catch(X){console.error("Error marking global leave:",X),alert("Failed to mark company leave. Please try again.")}},H=X=>{x(X),T(!0)},$=X=>{const oe={delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"N/A"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Customer not available"},leave_user:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"Skipped by Customer"},leave_company:{color:"bg-indigo-100 text-indigo-800 border-indigo-200",label:"Company Holiday"}}[X]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:X};return u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${oe.color}`,children:oe.label})};return h?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),u.jsx("p",{className:"mt-3 text-emerald-700 font-medium",children:"Loading attendance data..."})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[u.jsx("div",{className:"px-4 lg:px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:"Daily Attendance"}),u.jsxs("p",{className:"text-emerald-700 text-sm",children:["Track delivery performance for ",a]})]}),u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx("input",{type:"date",value:a,onChange:X=>c(X.target.value),className:"border border-emerald-200 rounded-xl px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"})})]})}),u.jsxs("div",{className:"p-4 lg:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-4 lg:p-6 rounded-2xl text-white shadow-lg",children:[u.jsx("div",{className:"text-2xl lg:text-3xl font-bold",children:n.totalOrders||0}),u.jsx("div",{className:"text-emerald-100 text-sm lg:text-base",children:"Total Orders"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-4 lg:p-6 rounded-2xl text-white shadow-lg",children:[u.jsx("div",{className:"text-2xl lg:text-3xl font-bold",children:n.delivered||0}),u.jsx("div",{className:"text-emerald-100 text-sm lg:text-base",children:"Successful Deliveries"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 p-4 lg:p-6 rounded-2xl text-white shadow-lg",children:[u.jsx("div",{className:"text-2xl lg:text-3xl font-bold",children:n.notDelivered||0}),u.jsx("div",{className:"text-amber-100 text-sm lg:text-base",children:"Pending Actions"})]})]}),u.jsx("div",{className:"flex justify-end mb-4",children:u.jsx("button",{onClick:K,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors text-sm lg:text-base",children:"Mark Today as Company Holiday"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Customer"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Days Left"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Preferred Time"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Delivery Status"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),u.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.orders?.map(X=>u.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[u.jsx("td",{className:"px-4 lg:px-6 py-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-8 w-8 lg:h-10 lg:w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:X.customerName?.charAt(0)||"U"}),u.jsxs("div",{className:"ml-3 lg:ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.customerName}),u.jsxs("div",{className:"text-xs text-gray-500 max-w-[150px] lg:max-w-none truncate",children:[X.shippingAddress?.address?.substring(0,30),"..."]}),u.jsx("button",{onClick:()=>H(X),className:"text-emerald-600 hover:text-emerald-800 text-xs mt-1 flex items-center",children:"View Details"})]})]})}),u.jsx("td",{className:"px-4 lg:px-6 py-4",children:X.daysLeft}),u.jsx("td",{className:"px-4 lg:px-6 py-4",children:X.preferredTime||"Not Set"}),u.jsx("td",{className:"px-4 lg:px-6 py-4",children:$(X.deliveryStatus)}),u.jsx("td",{className:"px-4 lg:px-6 py-4",children:u.jsxs("select",{value:X.deliveryStatus||"",onChange:ee=>B(X,ee.target.value),className:"text-sm border border-emerald-200 rounded-lg px-2 py-1",children:[u.jsx("option",{value:"",children:"Select status"}),u.jsx("option",{value:"delivered",children:"Delivered"}),u.jsx("option",{value:"not_delivered",children:"Customer not available"}),u.jsx("option",{value:"leave_user",children:"Skipped by Customer"})]})})]},X.id)),(!n.orders||n.orders.length===0)&&u.jsx("tr",{children:u.jsxs("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:["No deliveries scheduled for ",a]})})]})]})})]})]}),_&&g&&u.jsx(pB,{order:g,onClose:()=>T(!1),onStatusUpdate:(X,ee)=>B({id:X,...g},ee),onCancelDay:V})]})},yB=()=>{const[t,e]=U.useState([]),[n,i]=U.useState([]),[a,c]=U.useState(!0),[h,m]=U.useState("all"),[g,x]=U.useState("all");U.useEffect(()=>{_()},[]);const _=async()=>{try{c(!0);const oe=Mr(kn(xt,"orders"),md("createdAt","desc")),j=(await is(oe)).docs.map(Y=>({id:Y.id,...Y.data(),createdAt:Y.data().createdAt?.toDate?.()||new Date}));i(j);const F=(await is(kn(xt,"users"))).docs.map(Y=>({id:Y.id,...Y.data()})).map(Y=>{const q=j.filter(ke=>ke.userId===Y.id);return{user:Y,orders:q,totalOrders:q.length,totalSpent:q.reduce((ke,Be)=>ke+(Be.amount||0),0)}});e(F)}catch(oe){console.error("Error fetching data:",oe)}finally{c(!1)}},T=(oe,O)=>{const j=new Date;if(O==="week"){const M=new Date;return M.setDate(j.getDate()-7),oe.filter(G=>new Date(G.createdAt)>=M)}if(O==="month"){const M=new Date;return M.setMonth(j.getMonth()-1),oe.filter(G=>new Date(G.createdAt)>=M)}return oe},A=T(n,h),I=T(n,g),P=I.reduce((oe,O)=>oe+(O.amount||0),0),B=t.filter(oe=>oe.orders.length>0).length,V=A.length>0?Math.round(A.filter(oe=>oe.deliveryStatus==="delivered").length/A.length*100):0,K=I.length,H=K>0?Math.round(P/K):0,$=t.filter(oe=>oe.orders.length>1).length;A.filter(oe=>oe.deliveryStatus==="pending").length,A.filter(oe=>oe.deliveryStatus==="cancelled").length;const X={};I.forEach(oe=>{oe.items?.forEach(O=>{X[O.name]||(X[O.name]=0),X[O.name]+=O.quantity||1})});const ee=Object.entries(X).sort((oe,O)=>O[1]-oe[1]).slice(0,3);return a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),u.jsx("p",{className:"mt-3 text-emerald-700 font-medium",children:"Loading analytics..."})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 p-4 lg:p-6 flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:"Analytics"}),u.jsx("p",{className:"text-emerald-700 text-sm",children:"Performance metrics and insights"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{value:h,onChange:oe=>m(oe.target.value),className:"border border-emerald-200 rounded-xl px-4 py-2 bg-white text-sm",children:[u.jsx("option",{value:"all",children:"All Time"}),u.jsx("option",{value:"month",children:"Last Month"}),u.jsx("option",{value:"week",children:"Last Week"})]}),u.jsxs("select",{value:g,onChange:oe=>x(oe.target.value),className:"border border-emerald-200 rounded-xl px-4 py-2 bg-white text-sm",children:[u.jsx("option",{value:"all",children:"All Revenue"}),u.jsx("option",{value:"month",children:"This Month"}),u.jsx("option",{value:"week",children:"This Week"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[u.jsx(wl,{title:"Total Users",value:t.length,subtitle:"Registered customers",fromColor:"from-emerald-500",toColor:"to-green-500"}),u.jsx(wl,{title:"Active Subscriptions",value:B,subtitle:"Current active plans",fromColor:"from-green-500",toColor:"to-emerald-600"}),u.jsx(wl,{title:"Revenue",value:`${P}`,subtitle:g==="all"?"Lifetime revenue":g==="month"?"Monthly revenue":"Weekly revenue",fromColor:"from-emerald-600",toColor:"to-green-700"}),u.jsx(wl,{title:"Success Rate",value:`${V}%`,subtitle:"Delivery success rate",fromColor:"from-blue-500",toColor:"to-indigo-600"}),u.jsx(wl,{title:"Average Order Value",value:`${H}`,subtitle:"Revenue per order",fromColor:"from-purple-500",toColor:"to-purple-700"}),u.jsx(wl,{title:"Repeat Customers",value:$,subtitle:"Customers with multiple orders",fromColor:"from-pink-500",toColor:"to-pink-700"}),ee.map(([oe,O],j)=>u.jsx(wl,{title:"Top Product",value:oe,subtitle:`${O} sold`,fromColor:"from-emerald-400",toColor:"to-green-400"},j))]})]})},wl=({title:t,value:e,subtitle:n,fromColor:i,toColor:a})=>u.jsxs("div",{className:`bg-gradient-to-br ${i} ${a} p-4 lg:p-6 rounded-2xl text-white shadow-lg`,children:[u.jsx("h3",{className:"text-lg font-semibold",children:t}),u.jsx("div",{className:"text-2xl lg:text-3xl font-bold mt-2",children:e}),u.jsx("p",{className:"text-white/70 text-xs lg:text-sm mt-2",children:n})]}),vB=()=>{const[t,e]=U.useState([]),[n,i]=U.useState(!0),[a,c]=U.useState(null),[h,m]=U.useState(!1),[g,x]=U.useState("All"),[_,T]=U.useState("");U.useEffect(()=>{A()},[]);const A=async()=>{try{i(!0);const H=Mr(kn(xt,"corporateQuotes"),md("createdAt","desc")),X=(await is(H)).docs.map(ee=>({id:ee.id,...ee.data(),createdAt:ee.data().createdAt?.toDate?.()||new Date}));e(X)}catch(H){console.error("Error fetching quotes:",H)}finally{i(!1)}},I=H=>{c(H),m(!0)},P=H=>{const X={New:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"New"},Contacted:{color:"bg-purple-100 text-purple-800 border-purple-200",label:"Contacted"},"In Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"In Progress"},Completed:{color:"bg-green-100 text-green-800 border-green-200",label:"Completed"},Rejected:{color:"bg-red-100 text-red-800 border-red-200",label:"Rejected"}}[H]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:H||"New"};return u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${X.color}`,children:X.label})},B=async H=>{if(window.confirm("Are you sure you want to delete this quote request?"))try{await UO(Mn(xt,"corporateQuotes",H)),e($=>$.filter(X=>X.id!==H))}catch($){console.error("Error deleting quote:",$),alert("Error deleting quote request")}},V=async(H,$)=>{try{const X=Mn(xt,"corporateQuotes",H);await updateDoc(X,{status:$}),e(ee=>ee.map(oe=>oe.id===H?{...oe,status:$}:oe))}catch(X){console.error("Error updating status:",X)}},K=t.filter(H=>{const $=g==="All"||(H.status||"New")===g,X=H.name?.toLowerCase().includes(_.toLowerCase())||H.email?.toLowerCase().includes(_.toLowerCase())||H.phone?.includes(_)||H.message?.toLowerCase().includes(_.toLowerCase());return $&&(_===""||X)});return n?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),u.jsx("p",{className:"mt-3 text-emerald-700 font-medium",children:"Loading quote requests..."})]})}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[u.jsxs("div",{className:"px-4 lg:px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:"Function Quote Requests"}),u.jsx("p",{className:"text-emerald-700 text-sm",children:"Manage all function quote inquiries"})]}),u.jsxs("div",{className:"text-xl lg:text-2xl text-emerald-600",children:[u.jsx("i",{className:"fas fa-building"})," ",K.length]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[u.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[u.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or message...",value:_,onChange:H=>T(H.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 pl-10"}),u.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),u.jsxs("select",{value:g,onChange:H=>x(H.target.value),className:"border rounded-lg px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"New",children:"New"}),u.jsx("option",{value:"Contacted",children:"Contacted"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Name"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Contact Info"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Message"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-4 lg:px-6 py-8 text-center text-sm text-gray-500",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("i",{className:"fas fa-inbox text-4xl text-gray-300 mb-2"}),u.jsx("p",{children:"No quote requests found."}),_&&u.jsx("p",{className:"text-xs mt-1",children:"Try adjusting your search criteria"})]})})}):K.map(H=>u.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-xs lg:text-sm font-semibold text-gray-900",children:H.name})}),u.jsx("td",{className:"px-4 lg:px-6 py-4",children:u.jsxs("div",{className:"text-xs lg:text-sm",children:[u.jsx("div",{className:"text-gray-900 font-medium",children:H.email}),u.jsx("div",{className:"text-gray-500",children:H.phone})]})}),u.jsx("td",{className:"px-4 lg:px-6 py-4",children:u.jsx("div",{className:"text-xs lg:text-sm text-gray-700 max-w-xs",children:H.message?u.jsx("div",{className:"line-clamp-2",title:H.message,children:H.message}):u.jsx("span",{className:"text-gray-400",children:"No message"})})}),u.jsxs("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm text-gray-500",children:[H.createdAt.toLocaleDateString()," ",u.jsx("br",{}),u.jsx("span",{className:"text-gray-400",children:H.createdAt.toLocaleTimeString()})]}),u.jsxs("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm flex flex-row-reverse gap-1",children:[u.jsxs("select",{value:H.status||"New",onChange:$=>V(H.id,$.target.value),className:"text-xs border rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[u.jsx("option",{value:"New",children:"New"}),u.jsx("option",{value:"Contacted",children:"Contacted"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Rejected",children:"Rejected"})]}),u.jsx("div",{className:"mt-1",children:P(H.status||"New")})]}),u.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-xs lg:text-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>I(H),className:"px-2 py-1 text-white rounded-lg transition text-xs",title:"View Details",children:u.jsx("i",{className:"fas fa-eye mr-1 text-emerald-600 hover:text-emerald-700"})}),u.jsx("a",{href:`mailto:${H.email}?subject=Regarding your corporate quote request&body=Dear ${H.name},`,className:"px-2 py-1 text-white rounded-lg transition text-xs",title:"Send Email",children:u.jsx("i",{className:"fas fa-envelope mr-1 text-blue-600 hover:text-blue-700"})}),u.jsx("a",{href:`tel:${H.phone}`,className:"px-2 py-1 text-white rounded-lg transition text-xs",title:"Call",children:u.jsx("i",{className:"fas fa-phone mr-1 text-green-600 hover:text-green-700"})}),u.jsx("button",{onClick:()=>B(H.id),className:"px-2 py-1 text-white rounded-lg transition text-xs",title:"Delete Quote Request",children:u.jsx("i",{className:"fas fa-trash mr-1 text-red-600 hover:text-red-700"})})]})})]},H.id))})]})}),h&&a&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-[90%] max-w-lg p-6 relative",children:[u.jsx("button",{onClick:()=>m(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800",children:u.jsx("i",{className:"fas fa-times text-lg"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quote Details"}),u.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Name:"})," ",a.name||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Email:"})," ",a.email||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Phone:"})," ",a.phone||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Message:"}),u.jsx("p",{className:"mt-1 text-gray-600 whitespace-pre-wrap",children:a.message||"No message provided"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Status:"})," ",P(a.status||"New")]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Created At:"})," ",a.createdAt.toLocaleDateString()," ",u.jsxs("span",{className:"text-gray-400 text-xs",children:["(",a.createdAt.toLocaleTimeString(),")"]})]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition",children:"Close"})})]})})]})};function xB(){return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(aB,{}),u.jsx(KO,{}),u.jsx("main",{className:"flex-grow",children:u.jsx(qE,{})}),u.jsx($O,{}),u.jsx(_5,{})]})}function _B(){return u.jsx(ZO,{children:u.jsx(yP,{children:u.jsxs(Kj,{children:[u.jsxs(Yt,{element:u.jsx(xB,{}),children:[u.jsx(Yt,{path:"/",element:u.jsx(t3,{})}),u.jsx(Yt,{path:"/subscription",element:u.jsx(h3,{})}),u.jsx(Yt,{path:"/corporate",element:u.jsx(v3,{})}),u.jsx(Yt,{path:"/about",element:u.jsx(b3,{})}),u.jsx(Yt,{path:"/cart",element:u.jsx(E3,{})}),u.jsx(Yt,{path:"/profile",element:u.jsx(w5,{})}),u.jsx(Yt,{path:"/orderconfirmation",element:u.jsx(iB,{})}),u.jsx(Yt,{path:"/checkout",element:u.jsx(FO,{children:u.jsx(x5,{})})}),u.jsx(Yt,{path:"/termsandconditions",element:u.jsx(sB,{})}),u.jsx(Yt,{path:"/privacypolicy",element:u.jsx(rB,{})})]}),u.jsx(Yt,{path:"/login",element:u.jsx(w3,{})}),u.jsx(Yt,{path:"/signup",element:u.jsx(T3,{})}),u.jsx(Yt,{path:"/forgot-password",element:u.jsx(b5,{})}),u.jsxs(Yt,{path:"/admin",element:u.jsx(HO,{children:u.jsx(cB,{})}),children:[u.jsx(Yt,{index:!0,element:u.jsx(yB,{})}),u.jsx(Yt,{path:"subscriptions",element:u.jsx(dB,{})}),u.jsx(Yt,{path:"orders",element:u.jsx(fB,{})}),u.jsx(Yt,{path:"attendance",element:u.jsx(gB,{})}),u.jsx(Yt,{path:"corporatequotes",element:u.jsx(vB,{})})]}),u.jsx(Yt,{path:"*",element:u.jsx(V0,{to:"/",replace:!0})})]})})})}nj.createRoot(document.getElementById("root")).render(u.jsx(U.StrictMode,{children:u.jsx(_B,{})}));
